"use strict";const ZData=(()=>{const e="z-data",t="z-none",r=`[${e}]`,l="for",n="if",s="else",i="z_data",o="z_age",c="z_node",f="attributes",a="getAttribute",u=`${a}Names`,m="Element",d=`${m}Sibling`,$=`${m}Child`,p=`first${$}`,b=`next${d}`,k=`parent${m}`,h="insertBefore",x="forEach",y="includes",w="length",z="test",N="class",g="style",j=document,v=e=>j.querySelectorAll(e),A=Object.keys,T=console,_=T.log,C=Date.now,E=void 0,D=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,O=/^(?:(:)(:?)|(@)|([.#]))?([^.]*)(?:[.]([^.].*))?$/,S=/\$\{/,q=/^[:@.#]./;let B,F=0,H=(t,r,l)=>{_(C(),`${e} component`,C()-B),t[i]=Q(t,t[a](e)||"{}",r,l),L(t,t[i],l,!0)},L=(r,i,c,f)=>{M(r,r=>{let m;if(r[o]===F||(m=r[u]())[y](t))return!1;if((m=m||r[u]())[y](e)&&!f)H(r,i,c);else if("template"===r.localName){let e;(e=r[a](l))?V(r,e,i,c):((e=r[a](n))||m[y](s))&&W(r,e,i,c)}else G(r,i,c,m);r[o]=F})},M=(e,t)=>{if(!1!==t(e))for(let r=e[p];r;r=r[b])M(r,t)},P=(t,r,l,n)=>{let s;t[c]?s=t[c].cloneNode(!0):(s=t[c]=j.createElement(e),s[h](j.importNode(t.content,!0),E));for(let e=s[p];e;e=e[b]){s=e.cloneNode(!0),t[k][h](s,r.curr[b]),r.curr=r.curr[b];let i=((e,t,r)=>()=>L(e,t,r))(s,l,n);r.fns.push(i)}},V=(e,t,r,l)=>{let n=D.exec(t);if(n){n={k:n[1],v:n[2],i:n[3],exp:n[4]};let t=Q(e,n.exp,r,l),s={},i=0,o={curr:e,fns:[]};for(let c in t)s[n.v]=t[c],n.k&&(s[n.k]=c),n.i&&(s[n.i]=i++),P(e,o,r,{...l,...s});o.fns[x](e=>e())}},W=(e,t,r,l)=>{if(!t||Q(e,t,r,l)){let t={curr:e,fns:[]};P(e,t,r,l);for(let e=t.curr[b];e&&e[f][s];e=e[b])e[o]=F;t.fns[x](e=>e())}},Z={},G=(e,t,r,l)=>{let n,s,i,o={},c=e.className;c&&(c=Z[c]||(Z[c]=c.split(" ")),c[x](e=>o[e]=!0)),l[x](l=>{let n=e[a](l);if(!q[z](l)&&!S[z](n))return;let s=O.exec(l),c=s[4]?"#"!==s[4]&&s[5]?N:g:s[5];if(c){let l=s[6]&&s[6].split("."),f={k:c,b:(s[3]?3:s[2]&&2)||(s[1]||s[4])&&1||E,m:s[4]&&s[5]?[s[5]].concat(l||[]):l,e:n};f.b||(f.e="`"+f.e+"`"),3===f.b?J():i=I(e,f,f.e&&Q(e,f.e,t,r),o)||i}}),(n=e.firstChild)&&n===e.lastChild&&3===n.nodeType&&S[z](s=n.nodeValue)&&I(e,{k:"text"},Q(e,"`"+s+"`",t,r)),i&&(e.className=A(o).join(" "))},I=(e,t,r,l)=>{if("text"===t.k)e.textContent=r;else if("html"===t.k)e.innerHTML=r;else{if(t.k===N){if(t.m&&t.m[w]>0){let e=""===t.e||r;t.m[x](t=>{"boolean"!=typeof e&&t.endsWith("-")?l[t+e]=!0:e?l[t]=!0:delete l[t]})}else{if(Array.isArray(r));else{if("object"==typeof r)return A(r)[x](e=>r[e]?l[e]=!0:delete l[e]),!0;r=r?r.split(" "):[]}r[x](e=>l[e]=!0)}return!0}if((t.k===g||"css"===t.k)&&(t.m&&t.m[w]>0&&(r=1===t.m[w]?{[t.m[0]]:r}:{[t.m[0]]:r&&t.m[1]}),"object"==typeof r))return void A(r)[x](t=>e[g][t]=r[t]);e.setAttribute(t.k,r)}},J=()=>{},K={},Q=(e,t,r={},l={})=>U(()=>{if("function"==typeof t)return t.call(r);let e=K[t]||(K[t]=new Function(["$z_d",...A(l)],"let re$u1T;with($z_d){re$u1T="+t+"};return re$u1T"));return e(r,...Object.values(l))},{el:e,exp:t}),R=(t,r,l)=>T.warn(`${e} error: "${l}"\n\nexp: "${r}"\nelement:`,t),U=(e,{el:t,exp:r})=>{try{let l=e();return l instanceof Promise?l.catch(e=>R(t,r,e)):l}catch(e){R(t,r,e)}};return{start:t=>{_(B=C(),`${e} start`,++F),v(r)[x](e=>H(e,t,t)),_(C(),`${e} ended`,C()-B)}}})();