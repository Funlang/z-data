!function(_){"use strict";function e(e){return e.split("")}function bn(e,n){return 0<=n.indexOf(e)}function yn(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function n(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function r(e,n){this.message=e,this.defs=n}function re(e,n,t){if(t)for(var i in e)if(Cn(e,i)&&!Cn(n,i))throw new r("`"+i+"` is not a supported option",n);for(var i in e)Cn(e,i)&&(n[i]=e[i]);return n}function t(e,n){var t,i=0;for(t in n)Cn(n,t)&&(e[t]=n[t],i++);return i}function wn(){}function xn(){return!1}function kn(){return!0}function En(){return this}function Sn(){return null}((r.prototype=Object.create(Error.prototype)).constructor=r).prototype.name="DefaultsError",n(r);var Tn=function(){function e(e,n){for(var t=[],i=0;i<e.length;i++){var r=n(e[i],i);r!==o&&(r instanceof a?t.push.apply(t,r.v):t.push(r))}return t}e.is_op=function(e){return e===o||e instanceof a},e.splice=function(e){return new a(e)};var o=e.skip={};function a(e){this.v=e}return e}();function An(e,n){if(e.indexOf(n)<0)return e.push(n)}function Dn(e,t){return e.replace(/\{([^}]+)\}/g,function(e,n){n=t[n];return n instanceof Mn?n.print_to_string():n})}function On(e,n){n=e.indexOf(n);0<=n&&e.splice(n,1)}function $n(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach(function(e){n[e]=!0}),n}function zn(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function qn(){this._values=Object.create(null),this._size=0}function Cn(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Fn(e,n,t){for(var i,r=e.parent(-1),o=0;i=e.parent(o++);r=i){if(at(i))return n&&i.value===r;if(i instanceof fi){if(i.left===r)continue}else if("Call"==i.TYPE){if(i.expression===r)continue}else if(i instanceof ci){if(i.condition===r)continue}else{if(i instanceof Gt)return t;if(i instanceof ni){if(i.expression===r)continue}else if(i instanceof ei){if(i.expressions[0]===r)continue}else{if(i instanceof Yn)return!0;if(i instanceof Yi){if(i.tag===r)continue}else if(i instanceof si&&i.expression===r)continue}}return!1}}function i(e,n,t,i){void 0===i&&(i=Mn);var r=n=n?n.split(/\s+/):[];i&&i.PROPS&&(n=n.concat(i.PROPS));var o=["return function AST_",e,"(props){","if(props){"];n.forEach(function(e){o.push("this.",e,"=props.",e,";")}),o.push("}");var a=i&&new i;(a&&a.initialize||t&&t.initialize)&&o.push("this.initialize();"),o.push("}");var s=new Function(o.join(""))();if(a&&(s.prototype=a,s.BASE=i),i&&i.SUBCLASSES.push(s),(s.prototype.CTOR=s).PROPS=n||null,s.SELF_PROPS=r,s.SUBCLASSES=[],e&&(s.prototype.TYPE=s.TYPE=e),t)for(var f in t)Cn(t,f)&&(/^\$/.test(f)?s[f.substr(1)]=t[f]:s.prototype[f]=t[f]);return s.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==_&&(_["AST_"+e]=s),s}qn.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},all:function(e){for(var n in this._values)if(!e(this._values[n],n.substr(1)))return!1;return!0},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)t.push(e(this._values[n],n.substr(1)));return t},clone:function(){var e,n=new qn;for(e in this._values)n._values[e]=this._values[e];return n._size=this._size,n},toObject:function(){return this._values}},qn.fromObject=function(e){var n=new qn;return n._size=t(n._values,e),n};var H=i("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),Mn=i("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new tr(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:function(){if("Node"==this.TYPE)throw new Error("should not instantiate AST_Node")},validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var n={};this.walk(new nr(function(e){if(e.validate_visited===n)throw new Error(Dn("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+e.TYPE,file:e.start.file,line:e.start.line,col:e.start.col}));e.validate_visited=n}))}},null);(Mn.log_function=function(n,e){var t;function i(e){t[e]||(t[e]=!0,n(e))}"function"==typeof n?(t=Object.create(null),Mn.info=e?function(e,n){i("INFO: "+Dn(e,n))}:wn,Mn.warn=function(e,n){i("WARN: "+Dn(e,n))}):Mn.info=Mn.warn=wn})();var o=[];Mn.enable_validation=function(){Mn.disable_validation(),function e(n){var t;n.SUBCLASSES.forEach(e),Cn(n.prototype,"transform")&&(t=n.prototype.transform,n.prototype.transform=function(e,n){e=t.call(this,e,n);if(e instanceof Mn)e.validate();else if(!(null===e||n&&Tn.is_op(e)))throw new Error("invalid transformed value: "+e);return e},o.push(function(){n.prototype.transform=t}))}(this)},Mn.disable_validation=function(){for(var e;e=o.pop();)e()};var jn=i("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if("Statement"==this.TYPE)throw new Error("should not instantiate AST_Statement")}}),Pn=i("Debugger",null,{$documentation:"Represents a debugger statement"},jn),Nn=i("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},jn),In=i("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},jn);function Hn(e){return e instanceof jn&&!(e instanceof kt)&&!(e instanceof ot)}function a(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof Mn))throw new Error(n+" must "+t+" AST_Node");if(e instanceof Kt)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof hi)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof Xi&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof ri&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(Hn(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof Si)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function s(e,n){a(e[n],n)}var Yn=i("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){s(this,"body")}},jn),Rn=i("BlockScope","enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Object/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Object/S] a map of name ---\x3e SymbolDef for all variables/functions defined in this scope"},clone:function(e){e=this._clone(e);return this.enclosed&&(e.enclosed=this.enclosed.slice()),this.functions&&(e.functions=this.functions.clone()),this.variables&&(e.variables=this.variables.clone()),e},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if("BlockScope"==this.TYPE)throw new Error("should not instantiate AST_BlockScope");if(null!=this.parent_scope){if(!(this.parent_scope instanceof Rn))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof nt))throw new Error("must be contained within AST_Scope")}}},jn);function Bn(e,n){e.body.forEach(function(e){e.walk(n)})}var Ln=i("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,function(){Bn(n,e)})},_validate:function(){if("Block"==this.TYPE)throw new Error("should not instantiate AST_Block");this.body.forEach(function(e){if(!Hn(e))throw new Error("body must contain AST_Statement")})}},Rn),Un=i("BlockStatement",null,{$documentation:"A block statement"},Ln),F=i("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if("StatementWithBody"==this.TYPE)throw new Error("should not instantiate AST_StatementWithBody");if(!Hn(this.body))throw new Error("body must be AST_Statement")}},Rn),Vn=i("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,function(){n.label.walk(e),n.body.walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new nr(function(e){return e instanceof zt?e.label&&e.label.thedef===t?((e.label.thedef=n).references.push(e),!0):void 0:e instanceof nt||void 0}))),i},_validate:function(){if(!(this.label instanceof le))throw new Error("label must be AST_Label")}},F),Wn=i("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if("IterationStatement"==this.TYPE)throw new Error("should not instantiate AST_IterationStatement")}},F),Gn=i("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){if("DWLoop"==this.TYPE)throw new Error("should not instantiate AST_DWLoop");s(this,"condition")}},Wn),Jn=i("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e),n.condition.walk(e)})}},Gn),Xn=i("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e)})}},Gn),Kn=i("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)})},_validate:function(){if(null!=this.init){if(!(this.init instanceof Mn))throw new Error("init must be AST_Node");if(Hn(this.init)&&!(this.init instanceof Rt))throw new Error("init cannot be AST_Statement")}null!=this.condition&&s(this,"condition"),null!=this.step&&s(this,"step")}},Wn),Qn=i("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},walk:function(e){var n=this;e.visit(n,function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)})},_validate:function(){if("ForEnumeration"==this.TYPE)throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof Rt){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else c(this.init,function(e){if(!(e instanceof ni||e instanceof Mi))throw new Error("init must be assignable: "+e.TYPE)});s(this,"object")}},Wn),Zn=i("ForIn",null,{$documentation:"A `for ... in` statement"},Qn),oe=i("ForOf",null,{$documentation:"A `for ... of` statement"},Qn),ae=i("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},oe),et=i("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.body.walk(e)})},_validate:function(){s(this,"expression")}},F),nt=i("Scope","uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:En,_validate:function(){if("Scope"==this.TYPE)throw new Error("should not instantiate AST_Scope")}},Ln),tt=i("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name ---\x3e SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return fr(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new tr(function(e){if(e instanceof Nn&&"$ORIG"==e.value)return Tn.splice(n)}))},enclose:function(e){var n=(e="string"!=typeof e?"":e).indexOf(":");n<0&&(n=e.length);var t=this.body;return fr(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new tr(function(e){if(e instanceof Nn&&"$ORIG"==e.value)return Tn.splice(t)}))}},nt),it=i("Lambda","argnames length_read rest uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean/S] whether this function accesses the arguments array"},each_argname:function(n){var t=new nr(function(e){return e instanceof Kt?(e.name.walk(t),!0):e instanceof mi?(e.value.walk(t),!0):void(e instanceof $i&&n(e))});this.argnames.forEach(function(e){e.walk(t)}),this.rest&&this.rest.walk(t)},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),Bn(e,n)})},_validate:function(){if("Lambda"==this.TYPE)throw new Error("should not instantiate AST_Lambda");this.argnames.forEach(function(e){c(e,function(e){if(!(e instanceof $i))throw new Error("argnames must be AST_SymbolFunarg[]")},!0)}),null!=this.rest&&c(this.rest,function(e){if(!(e instanceof $i))throw new Error("rest must be AST_SymbolFunarg")})}},nt),rt=i("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},it),ot=i("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if("LambdaExpression"==this.TYPE)throw new Error("should not instantiate AST_LambdaExpression")}},it);function at(e){return e instanceof ut||e instanceof lt}function st(e){return e instanceof lt||e instanceof _t||e instanceof pt||e instanceof gt||e instanceof dt}function ft(e){return e instanceof gt||e instanceof dt||e instanceof yt||e instanceof vt}function ct(e,n){at(e)&&e.value?e.value.walk(n):Bn(e,n)}var ut=i("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):Bn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(s(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},ot),lt=i("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):Bn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(s(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},ot),pt=i("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof qi))throw new Error("name must be AST_SymbolLambda")}},ot),dt=i("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof qi))throw new Error("name must be AST_SymbolLambda")}},ot),ht=i("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof qi))throw new Error("name must be AST_SymbolLambda")}},ot),vt=i("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof qi))throw new Error("name must be AST_SymbolLambda")}},ot),mt=i("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if("LambdaDefinition"==this.TYPE)throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof zi))throw new Error("name must be AST_SymbolDefun")}},it),_t=i("AsyncDefun",null,{$documentation:"An asynchronous function definition"},mt),gt=i("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},mt),bt=i("Defun",null,{$documentation:"A function definition"},mt),yt=i("GeneratorDefun",null,{$documentation:"A generator function definition"},mt),wt=i("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.extends&&e.extends.walk(n),e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){if("Class"==this.TYPE)throw new Error("should not instantiate AST_Class");null!=this.extends&&s(this,"extends"),this.properties.forEach(function(e){if(!(e instanceof Et))throw new Error("properties must contain AST_ClassProperty")})}},Rn),xt=i("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},_validate:function(){if(!(this.name instanceof ue))throw new Error("name must be AST_SymbolDefClass")}},wt),kt=i("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Ci))throw new Error("name must be AST_SymbolClass")}},wt),Et=i("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node] property name (AST_Node for computed property)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof Mn&&n.key.walk(e),n.value&&n.value.walk(e)})},_validate:function(){if("ClassProperty"==this.TYPE)throw new Error("should not instantiate AST_ClassProperty");if("string"!=typeof this.key){if(!(this.key instanceof Mn))throw new Error("key must be string or AST_Node");s(this,"key")}if(null!=this.value&&!(this.value instanceof Mn))throw new Error("value must be AST_Node")}}),St=i("ClassField",null,{$documentation:"A `class` field",_validate:function(){null!=this.value&&s(this,"value")}},Et),se=i("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof rt))throw new Error("value must be AST_Accessor")}},Et),fe=i("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof rt))throw new Error("value must be AST_Accessor")}},Et),Tt=i("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof ot))throw new Error("value must be AST_LambdaExpression");if(at(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of class method's lambda must be null")}},Et),At=i("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if("Jump"==this.TYPE)throw new Error("should not instantiate AST_Jump")}},jn),Dt=i("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,function(){n.value&&n.value.walk(e)})},_validate:function(){if("Exit"==this.TYPE)throw new Error("should not instantiate AST_Exit")}},At),Ot=i("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&s(this,"value")}},Dt),$t=i("Throw",null,{$documentation:"A `throw` statement",_validate:function(){s(this,"value")}},Dt),zt=i("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,function(){n.label&&n.label.walk(e)})},_validate:function(){if("LoopControl"==this.TYPE)throw new Error("should not instantiate AST_LoopControl");if(null!=this.label&&!(this.label instanceof pe))throw new Error("label must be AST_LabelRef")}},At),qt=i("Break",null,{$documentation:"A `break` statement"},zt),Ct=i("Continue",null,{$documentation:"A `continue` statement"},zt),Ft=i("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)})},_validate:function(){if(s(this,"condition"),null!=this.alternative&&!Hn(this.alternative))throw new Error("alternative must be AST_Statement")}},F),Mt=i("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Bn(n,e)})},_validate:function(){s(this,"expression"),this.body.forEach(function(e){if(!(e instanceof jt))throw new Error("body must be AST_SwitchBranch[]")})}},Ln),jt=i("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if("SwitchBranch"==this.TYPE)throw new Error("should not instantiate AST_SwitchBranch")}},Ln),Pt=i("Default",null,{$documentation:"A `default` switch branch"},jt),Nt=i("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Bn(n,e)})},_validate:function(){s(this,"expression")}},jt),It=i("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){Bn(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)})},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof Ht))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof Yt))throw new Error("bfinally must be AST_Finally")}},Ln),Ht=i("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.argname&&n.argname.walk(e),Bn(n,e)})},_validate:function(){null!=this.argname&&c(this.argname,function(e){if(!(e instanceof Fi))throw new Error("argname must be AST_SymbolCatch")})}},Ln),Yt=i("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},Ln),Rt=i("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(n){var e=this;n.visit(e,function(){e.definitions.forEach(function(e){e.walk(n)})})},_validate:function(){if("Definitions"==this.TYPE)throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},jn),Bt=i("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof Vt))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Ti))throw new Error("name must be AST_SymbolConst")})})}},Rt),Lt=i("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof Vt))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Di))throw new Error("name must be AST_SymbolLet")})})}},Rt),Ut=i("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof Vt))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Oi))throw new Error("name must be AST_SymbolVar")})})}},Rt),Vt=i("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value&&n.value.walk(e)})},_validate:function(){null!=this.value&&s(this,"value")}}),Wt=i("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){if(!(this.body instanceof xt||this.body instanceof Rt||this.body instanceof mt))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},jn),Gt=i("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){this.body instanceof xt||this.body instanceof mt||s(this,"body")}},jn),ce=i("ExportForeign","aliases keys path quote",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[string*] array of aliases to export",keys:"[string*] array of keys to import",path:"[string] the path to import module",quote:"[string?] the original quote character"},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach(function(e){if("string"!=typeof e)throw new Error("aliases must contain string")}),this.keys.forEach(function(e){if("string"!=typeof e)throw new Error("keys must contain string")}),"string"!=typeof this.path)throw new Error("path must be string");if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},jn),Jt=i("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof ji))throw new Error("properties must contain AST_SymbolExport")})}},jn),Xt=i("Import","all default path properties quote",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[string] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified",quote:"[string?] the original quote character"},walk:function(n){var e=this;n.visit(e,function(){e.all&&e.all.walk(n),e.default&&e.default.walk(n),e.properties&&e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){if(null!=this.all){if(!(this.all instanceof Ai))throw new Error("all must be AST_SymbolImport");if(null!=this.properties)throw new Error("cannot import both * and {} in the same statement")}if(null!=this.default){if(!(this.default instanceof Ai))throw new Error("default must be AST_SymbolImport");if(""!==this.default.key)throw new Error("invalid default key: "+this.default.key)}if("string"!=typeof this.path)throw new Error("path must be string");if(null!=this.properties&&this.properties.forEach(function(e){if(!(e instanceof Ai))throw new Error("properties must contain AST_SymbolImport")}),null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},jn),Kt=i("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value.walk(e)})},_validate:function(){s(this,"value")}});function f(e,n,t,i){e[n].forEach(function(e){a(e,n,!0,t,i)})}var Qt=i("Call","expression args pure",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},walk:function(n){var e=this;n.visit(e,function(){e.expression.walk(n),e.args.forEach(function(e){e.walk(n)})})},_validate:function(){s(this,"expression"),f(this,"args",!0)}}),Zt=i("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},Qt),ei=i("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(n){var e=this;n.visit(e,function(){e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");f(this,"expressions")}}),ni=i("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"},getProperty:function(){var e=this.property;return e instanceof Ri?e.value:e instanceof ai&&"void"==e.operator&&e.expression instanceof Ri?void 0:e},_validate:function(){if("PropAccess"==this.TYPE)throw new Error("should not instantiate AST_PropAccess");s(this,"expression")}}),ti=i("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},ni),ii=i("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.property.walk(e)})},_validate:function(){s(this,"property")}},ni),ri=i("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){s(this,"expression")}}),oi=i("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("Unary"==this.TYPE)throw new Error("should not instantiate AST_Unary");if("string"!=typeof this.operator)throw new Error("operator must be string");s(this,"expression")}}),ai=i("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},oi),si=i("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},oi),fi=i("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,function(){n.left.walk(e),n.right.walk(e)})},_validate:function(){if(this instanceof ui||s(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");s(this,"right")}}),ci=i("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)})},_validate:function(){s(this,"condition"),s(this,"consequent"),s(this,"alternative")}}),ui=i("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof hi){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);c(this.left,function(e){if(!(e instanceof ni||e instanceof Mi))throw new Error("left must be assignable: "+e.TYPE)})}}},fi),li=i("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){s(this,"expression")}}),pi=i("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},walk:function(e){var n=this;e.visit(n,function(){n.expression&&n.expression.walk(e)})},_validate:function(){if(null!=this.expression)s(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),di=i("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})},_validate:function(){f(this,"elements",!0,!0)}}),hi=i("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if("Destructured"==this.TYPE)throw new Error("should not instantiate AST_Destructured")}});function c(e,n,t){if(e instanceof Kt&&t)return c(e.name,n);if(e instanceof hi){if(null!=e.rest&&c(e.rest,n),e instanceof vi)return e.elements.forEach(function(e){e instanceof Xi||c(e,n,!0)});if(e instanceof _i)return e.properties.forEach(function(e){c(e.value,n,!0)})}n(e)}var u,vi=i("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})}},hi),mi=i("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof Mn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof Mn))throw new Error("key must be string or AST_Node");s(this,"key")}if(!(this.value instanceof Mn))throw new Error("value must be AST_Node")}}),_i=i("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof mi))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},hi),gi=i("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof bi||e instanceof ri))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),bi=i("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof Mn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("ObjectProperty"==this.TYPE)throw new Error("should not instantiate AST_ObjectProperty");if("string"!=typeof this.key){if(!(this.key instanceof Mn))throw new Error("key must be string or AST_Node");s(this,"key")}if(!(this.value instanceof Mn))throw new Error("value must be AST_Node")}}),yi=i("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){s(this,"value")}},bi),wi=i("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof ot))throw new Error("value must be AST_LambdaExpression");if(at(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of class method's lambda must be null")}},yi),xi=i("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof rt))throw new Error("value must be AST_Accessor")}},bi),ki=i("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof rt))throw new Error("value must be AST_Accessor")}},bi),Ei=i("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("Symbol"==this.TYPE)throw new Error("should not instantiate AST_Symbol");if("string"!=typeof this.name)throw new Error("name must be string")}}),Si=i("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},Ei),Ti=i("SymbolConst",null,{$documentation:"Symbol defining a constant"},Si),Ai=i("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[string] the original `export` name"},_validate:function(){if("string"!=typeof this.key)throw new Error("key must be string")}},Ti),Di=i("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},Si),Oi=i("SymbolVar",null,{$documentation:"Symbol defining a variable"},Si),$i=i("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Oi),zi=i("SymbolDefun",null,{$documentation:"Symbol defining a function"},Si),qi=i("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},Si),ue=i("SymbolDefClass",null,{$documentation:"Symbol defining a class"},Di),Ci=i("SymbolClass",null,{$documentation:"Symbol naming a class expression"},Di),Fi=i("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},Si),le=i("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Ei),Mi=i("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},Ei),ji=i("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[string] the `export` alias"},_validate:function(){if("string"!=typeof this.alias)throw new Error("alias must be string")}},Mi),pe=i("LabelRef",null,{$documentation:"Reference to a label symbol"},Ei),Pi=i("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_validate:function(){if("ObjectIdentity"==this.TYPE)throw new Error("should not instantiate AST_ObjectIdentity")}},Ei),Ni=i("Super",null,{$documentation:"The `super` symbol",_validate:function(){if("super"!==this.name)throw new Error('name must be "super"')}},Pi),Ii=i("This",null,{$documentation:"The `this` symbol",_validate:function(){if("This"==this.TYPE&&"this"!==this.name)throw new Error('name must be "this"')}},Pi),Hi=i("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if("new.target"!==this.name)throw new Error('name must be "new.target": '+this.name)}},Ii),Yi=i("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node] tag function, or null if absent"},walk:function(n){var e=this;n.visit(e,function(){e.tag&&e.tag.walk(n),e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");f(this,"expressions"),this.strings.forEach(function(e){if("string"!=typeof e)throw new Error("strings must contain string")}),null!=this.tag&&s(this,"tag")}}),Ri=i("Constant",null,{$documentation:"Base class for all constants",_validate:function(){if("Constant"==this.TYPE)throw new Error("should not instantiate AST_Constant")}}),Bi=i("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},Ri),Li=i("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},Ri),Ui=i("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string");if("-"==this.value[0])throw new Error("value cannot be negative")}},Ri),Vi=i("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Ri),g=i("Atom",null,{$documentation:"Base class for atoms",_validate:function(){if("Atom"==this.TYPE)throw new Error("should not instantiate AST_Atom")}},Ri),Wi=i("Null",null,{$documentation:"The `null` atom",value:null},g),Gi=i("NaN",null,{$documentation:"The impossible value",value:NaN},g),Ji=i("Undefined",null,{$documentation:"The `undefined` value",value:void 0},g),Xi=i("Hole",null,{$documentation:"A hole in an array",value:void 0},g),Ki=i("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},g),Qi=i("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if("Boolean"==this.TYPE)throw new Error("should not instantiate AST_Boolean")}},g),Zi=i("False",null,{$documentation:"The `false` atom",value:!1},Qi),er=i("True",null,{$documentation:"The `true` atom",value:!0},Qi);function nr(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function tr(e,n){nr.call(this),this.before=e,this.after=n}function l(e,n){return Tn(e,function(e){return e.transform(n,!0)})}function p(e,n){e.argnames=l(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.value?e.value=e.value.transform(n):e.body=l(e.body,n)}nr.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||wn)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof it?this.directives=Object.create(this.directives):e instanceof Nn&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof it&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof nt)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof Nn))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label){for(var i=t.length;0<=--i;)if((n=t[i])instanceof Vn&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;)if((n=t[i])instanceof Wn||e instanceof qt&&n instanceof Mt)return n},in_boolean_context:function(){for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof ci&&e.condition===n||e instanceof Gn&&e.condition===n||e instanceof Kn&&e.condition===n||e instanceof Ft&&e.condition===n||e instanceof Ot&&e.in_bool||e instanceof ei&&e.tail_node()!==n||e instanceof Yn||e instanceof ai&&"!"==e.operator&&e.expression===n)return!0;if(e instanceof fi&&("&&"==e.operator||"||"==e.operator)||e instanceof ci||e.tail_node()===n)n=e;else{if(!(e instanceof Ot))return!1;for(var i,r=e;i=this.parent(++t);r=i)if("Call"==i.TYPE){if(!(r instanceof it)||r.name)return!1}else if(r instanceof it)return!1}}}},tr.prototype=new nr,(u=function(e,r){e.DEFMETHOD("transform",function(e,n){var t,i;return e.push(this),void 0===(t=e.before?e.before(this,r,n):t)&&(r(t=this,e),e.after&&void 0!==(i=e.after(t,n))&&(t=i)),e.pop(),t})})(Mn,wn),u(Vn,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),u(Yn,function(e,n){e.body=e.body.transform(n)}),u(Ln,function(e,n){e.body=l(e.body,n)}),u(Jn,function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)}),u(Xn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),u(Kn,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),u(Qn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),u(et,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),u(Dt,function(e,n){e.value&&(e.value=e.value.transform(n))}),u(zt,function(e,n){e.label&&(e.label=e.label.transform(n))}),u(Ft,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),u(Mt,function(e,n){e.expression=e.expression.transform(n),e.body=l(e.body,n)}),u(Nt,function(e,n){e.expression=e.expression.transform(n),e.body=l(e.body,n)}),u(It,function(e,n){e.body=l(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),u(Ht,function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=l(e.body,n)}),u(Rt,function(e,n){e.definitions=l(e.definitions,n)}),u(Vt,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),u(Kt,function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)}),u(it,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=l(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.body=l(e.body,n)}),u(ut,p),u(lt,p),u(wt,function(e,n){e.name&&(e.name=e.name.transform(n)),e.extends&&(e.extends=e.extends.transform(n)),e.properties=l(e.properties,n)}),u(Et,function(e,n){e.key instanceof Mn&&(e.key=e.key.transform(n)),e.value&&(e.value=e.value.transform(n))}),u(Qt,function(e,n){e.expression=e.expression.transform(n),e.args=l(e.args,n)}),u(ei,function(e,n){e.expressions=l(e.expressions,n)}),u(li,function(e,n){e.expression=e.expression.transform(n)}),u(pi,function(e,n){e.expression&&(e.expression=e.expression.transform(n))}),u(ti,function(e,n){e.expression=e.expression.transform(n)}),u(ii,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),u(ri,function(e,n){e.expression=e.expression.transform(n)}),u(oi,function(e,n){e.expression=e.expression.transform(n)}),u(fi,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),u(ci,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),u(di,function(e,n){e.elements=l(e.elements,n)}),u(vi,function(e,n){e.elements=l(e.elements,n),e.rest&&(e.rest=e.rest.transform(n))}),u(mi,function(e,n){e.key instanceof Mn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),u(_i,function(e,n){e.properties=l(e.properties,n),e.rest&&(e.rest=e.rest.transform(n))}),u(gi,function(e,n){e.properties=l(e.properties,n)}),u(bi,function(e,n){e.key instanceof Mn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),u(Wt,function(e,n){e.body=e.body.transform(n)}),u(Gt,function(e,n){e.body=e.body.transform(n)}),u(Jt,function(e,n){e.properties=l(e.properties,n)}),u(Xt,function(e,n){e.all&&(e.all=e.all.transform(n)),e.default&&(e.default=e.default.transform(n)),e.properties&&(e.properties=l(e.properties,n))}),u(Yi,function(e,n){e.tag&&(e.tag=e.tag.transform(n)),e.expressions=l(e.expressions,n)});var M=["abstract async await boolean byte char double enum export final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield",A="false null true",de="break case catch class const continue debugger default delete do else extends finally for function if in instanceof let new return switch throw try typeof var void while with"].join(" "),T="return new delete throw else case",de=$n(de),M=$n(M),T=$n(T),A=$n(A),D=/^0b([01]+)$/i,O=/^0x([0-9a-f]+)$/i,$=/^0o?([0-7]+)$/i,z=$n(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),q="\n\r\u2028\u2029",C="+-*&%=<>!?|~^",he=",;:)}]",j="[{(,;:",P=j+"`)}]",N=q+"  \t\f\v​             　\ufeff",I=$n(e("./'\""+C+P+N));function Y(e){return 56320<=e&&e<=57343}function R(e){return 48<=e&&e<=57}function B(e){return!I[e]}function ir(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function rr(e){switch(e[0]){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":if("{"==e[1]&&"}"==e.slice(-1))n=e.slice(2,-1);else{if(5!=e.length)return;n=e.slice(1)}return(n=parseInt(n,16))<0||isNaN(n)?void 0:n<65536?String.fromCharCode(n):1114111<n?void 0:String.fromCharCode(55232+(n>>10))+String.fromCharCode(56320+(1023&n));case"v":return"\v";case"x":return 3!=e.length?void 0:(n=parseInt(e.slice(1),16))<0||isNaN(n)?void 0:String.fromCharCode(n);var n;case"\r":case"\n":return"";default:return"0"==e?"\0":"0"<=e[0]&&e[0]<="9"?void 0:e}}function or(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function ve(e,n,t,i,r){throw new or(e,n,t,i,r)}function me(e,n,t){return e.type==n&&(null==t||e.value==t)}q=$n(e(q)),C=$n(e(C)),he=$n(e(he)),j=$n(e(j)),P=$n(e(P)),N=$n(e(N)),((or.prototype=Object.create(Error.prototype)).constructor=or).prototype.name="SyntaxError",n(or);var L={};function _e(i,r,o,a){var s={text:i,filename:r,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[],read_template:e("Unterminated template literal",function(e){for(var n="";;){var t=u(!0,!0);switch(t){case"\\":t+=u(!0,!0);break;case"`":return void e.push(n);case"$":if("{"==c())return u(),e.push(n),s.regex_allowed=!0}n+=t}})},f=!1;function c(){return s.text.charAt(s.pos)}function u(e,n){var t=s.text.charAt(s.pos++);if(e&&!t)throw L;return q[t]?(s.col=0,s.line++,n||(s.newline_before=!0),"\r"==t&&"\n"==c()&&(s.pos++,t="\n")):s.col++,t}function l(e){for(;0<e--;)u()}function p(e){return s.text.substr(s.pos,e.length)==e}function d(){s.tokline=s.line,s.tokcol=s.col,s.tokpos=s.pos}function h(e,n,t){s.regex_allowed="operator"==e&&!ar[n]||"keyword"==e&&T[n]||"punc"==e&&j[n],"punc"==e&&"."==n?f=!0:t||(f=!1);n={type:e,value:n,line:s.tokline,col:s.tokcol,pos:s.tokpos,endline:s.line,endcol:s.col,endpos:s.pos,nlb:s.newline_before,file:r};return/^(?:num|string|regexp)$/i.test(e)&&(n.raw=i.substring(n.pos,n.endpos)),t||(n.comments_before=s.comments_before,n.comments_after=s.comments_before=[]),s.newline_before=!1,new H(n)}function v(e){ve(e,r,s.tokline,s.tokcol,s.tokpos)}function m(e){return/^0[0-7_]+$/.test(e)}function _(e){var t=!1,i=!1,r=!1,o="."==e,n=function(e){for(var n,t="";(n=c())&&e(n,t);)t+=u();return t}(function(e,n){switch(e){case"x":case"X":return!r&&(r=!0);case"e":case"E":return r||!t&&(t=i=!0);case"+":case"-":return i;case i=!1,".":return!(o||t||r||m(n))&&(o=!0)}return/[_0-9a-dfo]/i.test(e)});m(n=e?e+n:n)?S.has_directive("use strict")&&v("Legacy octal literals are not allowed in strict mode"):n=n.replace(r?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");e=function(e){if(n=D.exec(e))return parseInt(n[1],2);if(n=O.exec(e))return parseInt(n[1],16);if(n=$.exec(e))return parseInt(n[1],8);var n=parseFloat(e);return n==e?n:void 0}(n);return isNaN(e)&&v("Invalid syntax: "+n),o||t||"n"!=c()?h("num",e):h("bigint",n.toLowerCase()+u())}function g(e){var n=u(!0,e);if("0"<=n&&n<="7")return function(e){var n=c();"0"<=n&&n<="7"&&(e+=u(!0))[0]<="3"&&"0"<=(n=c())&&n<="7"&&(e+=u(!0));if("0"===e)return"\0";0<e.length&&S.has_directive("use strict")&&v("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n);if("u"==n){var t=u(!0,e);if(n+=t,"{"!=t)n+=u(!0,e)+u(!0,e)+u(!0,e);else for(;n+=t=u(!0,e),"}"!=t;);}else"x"==n&&(n+=u(!0,e)+u(!0,e));var i=rr(n);return"string"!=typeof i&&v("Invalid escape sequence: \\"+n),i}var b=e("Unterminated string constant",function(e){for(var n=u(),t="";;){var i=u(!0,!0);if("\\"==i)i=g(!0);else if(q[i])v("Unterminated string constant");else if(i==n)break;t+=i}var r=h("string",t);return r.quote=e,r});function y(e){var n,t=s.regex_allowed,i=function(){for(var e=s.text,n=s.pos;n<s.text.length;++n)if(q[e[n]])return n;return-1}();return-1==i?(n=s.text.substr(s.pos),s.pos=s.text.length):(n=s.text.substring(s.pos,i),s.pos=i),s.col=s.tokcol+(s.pos-s.tokpos),s.comments_before.push(h(e,n,!0)),s.regex_allowed=t,S}var w=e("Unterminated multiline comment",function(){var e=s.regex_allowed,n=function(e,n){if(e=s.text.indexOf(e,s.pos),n&&-1==e)throw L;return e}("*/",!0),n=s.text.substring(s.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return l(n.length+2),s.comments_before.push(h("comment2",n,!0)),s.regex_allowed=e,S});function x(){for(var e,n,t=!1,i="",r=!1;e=c();)if(t)"u"!=e&&v("Expecting UnicodeEscapeSequence -- uXXXX"),B(e=g())||v("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,t=!1;else if("\\"==e)r=t=!0,u();else{if(!B(e))break;i+=u()}return de[i]&&r&&(n=i.charCodeAt(0).toString(16).toUpperCase(),i="\\u"+"0000".substr(n.length)+n+i.slice(1)),i}var k=e("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=u(!0);)if(q[n])v("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=x();try{var o=new RegExp(e,r);return o.raw_source=e,h("regexp",o)}catch(e){v(e.message)}});function E(e){return h("operator",function e(n){if(!c())return n;var t=n+c();return z[t]?(u(),e(t)):n}(e||u()))}function e(n,t){return function(e){try{return t(e)}catch(e){if(e!==L)throw e;v(n)}}}function S(e){if(null!=e)return k(e);for(a&&0==s.pos&&p("#!")&&(d(),l(2),y("comment5"));;){if(!function(){for(;N[c()];)u()}(),d(),o){if(p("\x3c!--")){l(4),y("comment3");continue}if(p("--\x3e")&&s.newline_before){l(3),y("comment4");continue}}var n=c();if(!n)return h("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return b(n);case 46:return function(){u();var e=c();if("."!=e)return R(e.charCodeAt(0))?_("."):h("punc",".");for(var n=".";n+=".",u(),"."==c(););return h("operator",n)}();case 47:var i=function(){switch(u(),c()){case"/":return u(),y("comment1");case"*":return u(),w()}return s.regex_allowed?k(""):E("/")}();if(i===S)continue;return i}if(R(t))return _();if(P[n])return h("punc",u());if(p("=>"))return h("punc",u()+u());if(C[n])return E();if(92==t||!I[n])return t=void 0,t=x(),f?h("name",t):A[t]?h("atom",t):de[t]?z[t]?h("operator",t):h("keyword",t):h("name",t);break}v("Unexpected character '"+n+"'")}return S.context=function(e){return s=e?e:s},S.add_directive=function(e){s.directive_stack[s.directive_stack.length-1].push(e),s.directives[e]?s.directives[e]++:s.directives[e]=1},S.push_directives_stack=function(){s.directive_stack.push([])},S.pop_directives_stack=function(){for(var e=s.directive_stack.pop(),n=e.length;0<=--n;)s.directives[e[n]]--},S.has_directive=function(e){return 0<s.directives[e]},S}var ge=$n("typeof void delete -- ++ ! ~ - +"),ar=$n("-- ++"),be=$n("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),sr=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),ye=$n("atom bigint num regexp string");function fr(e,l){l=re(l,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var h={input:"string"==typeof e?_e(e,l.filename,l.html5_comments,l.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};function v(e,n){return me(h.token,e,n)}function p(){return h.peeked||(h.peeked=h.input())}function m(){return h.prev=h.token,h.peeked?(h.token=h.peeked,h.peeked=null):h.token=h.input(),h.in_directives=h.in_directives&&("string"==h.token.type||v("punc",";")),h.token}function _(){return h.prev}function a(e,n,t,i){var r=h.input.context();ve(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function s(e,n){a(n,e.line,e.col)}function t(e,n){return e+(void 0===n?"":" «"+n+"»")}function g(e){s(e=null==e?h.token:e,"Unexpected token: "+t(e.type,e.value))}function d(e,n){if(v(e,n))return m();s(h.token,"Unexpected token: "+t(h.token.type,h.token.value)+", expected: "+t(e,n))}function b(e){return d("punc",e)}function f(e){return e.nlb||!zn(e.comments_before,function(e){return!e.nlb})}function c(){return!l.strict&&(v("eof")||v("punc","}")||f(h.token))}function y(e){v("punc",";")?m():e||c()||b(";")}function u(){b("(");var e=te();return b(")"),e}function n(i){return function(){var e=h.token,n=i.apply(null,arguments),t=_();return n.start=e,n.end=t,n}}function w(){(v("operator","/")||v("operator","/="))&&(h.peeked=null,h.token=h.input(h.token.value.substr(1)))}h.token=m();var x=n(function(){switch(w(),h.token.type){case"string":var e=h.in_directives,n=te();return e&&(n instanceof Bi?(o=n.start.raw.slice(1,-1),h.input.add_directive(o),n.value=o):h.in_directives=e=!1),y(),e?new Nn(n):new Yn({body:n});case"num":case"bigint":case"regexp":case"operator":case"atom":return k();case"name":switch(h.token.value){case"async":if(me(p(),"keyword","function"))return m(),m(),v("operator","*")?(m(),O(gt)):O(_t);break;case"await":if(h.in_async)return k();break;case"export":return m(),function(){if(v("operator","*")){m();var e="*";v("name","as")&&(m(),$()||d("name"),e=h.token.value,m()),d("name","from");var n=h.token;return d("string"),y(),new ce({aliases:[e],keys:["*"],path:n.value,quote:n.quote})}if(v("punc","{")){m();for(var t=[],i=[];$();){var r=h.token;m(),i.push(r),v("name","as")?(m(),$()||d("name"),t.push(h.token.value),m()):t.push(r.value),v("punc","}")||b(",")}if(b("}"),v("name","from")){m();n=h.token;return d("string"),y(),new ce({aliases:t,keys:i.map(function(e){return e.value}),path:n.value,quote:n.quote})}return y(),new Jt({properties:i.map(function(e,n){me(e,"name")||s(e,"Name expected");e=L(ji,e);return e.alias=t[n],e})})}if(v("keyword","default")){m();e=h.token,n=function(){if(v("name","async")){if(me(p(),"keyword","function"))return m(),m(),v("operator","*")?(m(),z(gt,O(dt))):z(_t,O(pt))}else if(v("keyword"))switch(h.token.value){case"class":return m(),z(xt,T(kt));case"function":return(m(),v("operator","*"))?(m(),z(yt,O(vt))):z(bt,O(ht))}}();return n?(n.start=e,n.end=_()):(w(),n=te(),y()),new Gt({body:n})}return new Wt({body:q()})}();case"import":var t=p();if("punc"!=t.type||!/^[(.]$/.test(t.value))return m(),function(){var e,n=null,t=V(Ai,!0),i=null;if(t?(t.key="",v("punc",",")&&m()):!v("string"))if(v("operator","*"))m(),d("name","as"),(n=V(Ai)).key="*";else{for(b("{"),i=[];$();){var r;me(p(),"name","as")?(r=h.token.value,m(),m(),(e=V(Ai)).key=r):(e=V(Ai)).key=e.name,i.push(e),v("punc","}")||b(",")}b("}")}(n||t||i)&&d("name","from");var o=h.token;return d("string"),y(),new Xt({all:n,default:t,path:o.value,properties:i,quote:o.quote})}();case"yield":if(h.in_generator)return k()}return(me(p(),"punc",":")?function(){var n=V(le);zn(h.labels,function(e){return e.name!=n.name})||a("Label "+n.name+" defined twice");b(":"),h.labels.push(n);var e=x();h.labels.pop(),e instanceof Wn||n.references.forEach(function(e){e instanceof Ct&&s(e.label.start,"Continue label `"+n.name+"` must refer to IterationStatement")});return new Vn({body:e,label:n})}:k)();case"punc":switch(h.token.value){case"{":return new Un({start:h.token,body:C(),end:_()});case"[":case"(":case"`":return k();case";":return h.in_directives=!1,m(),new In;default:g()}case"keyword":switch(h.token.value){case"break":return m(),E(qt);case"class":return m(),T(xt);case"const":m();var i=M();return y(),i;case"continue":return m(),E(Ct);case"debugger":return m(),y(),new Pn;case"do":m();n=ie(x);d("keyword","while");var r=u();return y(!0),new Jn({body:n,condition:r});case"while":return m(),new Xn({condition:u(),body:ie(x)});case"for":return m(),function(){var e=v("name","await")&&m();b("(");var n,t=null;if((e||!v("punc",";"))&&(t=v("keyword","const")?(m(),M(!0)):v("keyword","let")?(m(),j(!0)):v("keyword","var")?(m(),P(!0)):te(!0),e?(d("name","of"),n=ae):v("operator","in")?(m(),n=Zn):v("name","of")&&(m(),n=oe),n))return t instanceof Rt?(1<t.definitions.length&&s(t.start,"Only one variable declaration allowed in for..in/of loop"),n!==Zn&&t.definitions[0].value&&s(t.definitions[0].value.start,"No initializers allowed in for..of loop")):Z(t)||(t=ee(t))instanceof hi||s(t.start,"Invalid left-hand side in for..in/of loop"),function(e,n){w();var t=te();return b(")"),new e({init:n,object:t,body:ie(x)})}(n,t);return function(e){b(";");var n=v("punc",";")?null:te();b(";");var t=v("punc",")")?null:te();return b(")"),new Kn({init:e,condition:n,step:t,body:ie(x)})}(t)}();case"function":return(m(),v("operator","*"))?(m(),O(yt)):O(bt);case"if":return m(),function(){var e=u(),n=x(),t=null;v("keyword","else")&&(m(),t=x());return new Ft({condition:e,body:n,alternative:t})}();case"let":m();i=j();return y(),i;case"return":0!=h.in_function||l.bare_returns||a("'return' outside of function"),m();var o=null;return v("punc",";")?m():c()||(o=te(),y()),new Ot({value:o});case"switch":return m(),new Mt({expression:u(),body:ie(F)});case"throw":m(),f(h.token)&&a("Illegal newline after 'throw'");o=te();return y(),new $t({value:o});case"try":return m(),function(){var e=C(),n=null,t=null;{var i;v("keyword","catch")&&(r=h.token,m(),i=null,v("punc","(")&&(m(),i=W(Fi),b(")")),n=new Ht({start:r,argname:i,body:C(),end:_()}))}{var r;v("keyword","finally")&&(r=h.token,m(),t=new Yt({start:r,body:C(),end:_()}))}n||t||a("Missing catch/finally blocks");return new It({body:e,bcatch:n,bfinally:t})}();case"var":m();i=P();return y(),i;case"with":return h.input.has_directive("use strict")&&a("Strict mode may not include a with statement"),m(),new et({expression:u(),body:x()})}}g()});function k(){var e=te();return y(),new Yn({body:e})}function E(e){var n,t=null;null!=(t=!c()?V(pe,!0):t)?((n=yn(function(e){return e.name==t.name},h.labels))||s(t.start,"Undefined label "+t.name),t.thedef=n):0==h.in_loop&&a(e.TYPE+" not inside a loop or switch"),y();e=new e({label:t});return n&&n.references.push(e),e}function S(e){if(v("name",e)){e=p();if(e&&!me(e,"operator","=")&&!("punc"==e.type&&/^[(;}]$/.test(e.value)||f(e)))return m()}}function T(e){var n=h.in_async,t=h.in_generator;h.input.push_directives_stack(),h.input.add_directive("use strict");var i=e===xt?V(ue):V(Ci,!0),r=null;v("keyword","extends")&&(m(),w(),r=N(!0)),b("{");for(var o=[];!v("punc","}");)if(v("punc",";"))m();else{var a=h.token,s=!!S("static"),f=S("async");if(v("operator","*")){m();var c=v("name")&&/^#/.test(h.token.value),u=B(),l=h.token,p=O(f?dt:vt);p.start=l,p.end=_(),o.push(new Tt({start:a,static:s,private:c,key:u,value:p,end:_()}))}else{c=v("name")&&/^#/.test(h.token.value),u=B();if(v("punc","(")){l=h.token,p=O(f?pt:ht);p.start=l,p.end=_(),o.push(new Tt({start:a,static:s,private:c,key:u,value:p,end:_()}))}else{f&&g(f);f=null;if(v("operator","="))m(),h.in_async=!1,h.in_generator=!1,f=ne(),h.in_generator=t,h.in_async=n;else if(!v("punc",";")&&!v("punc","}")){var d=null;switch(u){case"get":d=se;break;case"set":d=fe}if(d){o.push(new d({start:a,static:s,private:v("name")&&/^#/.test(h.token.value),key:B(),value:Y(),end:_()}));continue}}y(),o.push(new St({start:a,static:s,private:c,key:u,value:f,end:_()}))}}}return m(),h.input.pop_directives_stack(),h.in_generator=t,h.in_async=n,new e({extends:r,name:i,properties:o})}function A(e){if(e instanceof di){var n=null;return e.elements[e.elements.length-1]instanceof ri&&(n=A(e.elements.pop().expression)),new vi({start:e.start,elements:e.elements.map(A),rest:n,end:e.end})}if(e instanceof ui)return new Kt({start:e.start,name:A(e.left),value:e.right,end:e.end});if(e instanceof Kt)return e.name=A(e.name),e;if(e instanceof vi)return e.elements=e.elements.map(A),e.rest&&(e.rest=A(e.rest)),e;if(e instanceof _i)return e.properties.forEach(function(e){e.value=A(e.value)}),e.rest&&(e.rest=A(e.rest)),e;if(e instanceof Xi)return e;if(e instanceof gi){n=null;return e.properties[e.properties.length-1]instanceof ri&&(n=A(e.properties.pop().expression)),new _i({start:e.start,properties:e.properties.map(function(e){return e instanceof yi||s(e.start,"Invalid destructuring assignment"),new mi({start:e.start,key:e.key,value:A(e.value),end:e.end})}),rest:n,end:e.end})}return e instanceof $i?e:e instanceof Mi?new $i(e):void s(e.start,"Invalid arrow parameter")}function D(e,n,t){var i=h.in_async,r=h.in_generator;h.in_async=t,h.in_generator=!1;var o=h.in_funarg;h.in_funarg=h.in_function;var a,s,f=e.map(A),c=(c=e.rest||null)&&A(c);h.in_funarg=o,b("=>");e=h.in_loop,o=h.labels;return++h.in_function,h.in_directives=!0,h.input.push_directives_stack(),h.in_loop=0,h.labels=[],v("punc","{")?(a=C(),s=null,h.input.has_directive("use strict")&&f.forEach(U)):(a=[],w(),s=ne()),h.input.pop_directives_stack(),--h.in_function,h.in_loop=e,h.labels=o,h.in_generator=r,h.in_async=i,new(t?lt:ut)({start:n,argnames:f,rest:c,body:a,value:s,end:_()})}var O=function(e){var n,t=h.in_async,i=h.in_generator;/Defun$/.test(e.TYPE)?(n=V(zi),h.in_async=/^Async/.test(e.TYPE),h.in_generator=/Generator/.test(e.TYPE)):(h.in_async=/^Async/.test(e.TYPE),h.in_generator=/Generator/.test(e.TYPE),n=V(qi,!0)),!n||e===rt||n instanceof Si||g(_()),b("(");var r=h.in_funarg;h.in_funarg=h.in_function;var o=I(")",!l.strict,!1,function(){return G($i)});h.in_funarg=r;var a=h.in_loop,s=h.labels;++h.in_function,h.in_directives=!0,h.input.push_directives_stack(),h.in_loop=0,h.labels=[];r=C();return h.input.has_directive("use strict")&&(n&&U(n),o.forEach(U),o.rest&&U(o.rest)),h.input.pop_directives_stack(),--h.in_function,h.in_loop=a,h.labels=s,h.in_generator=i,h.in_async=t,new e({name:n,argnames:o,rest:o.rest||null,body:r})};function $(){return v("name")||ir(h.token.value)}function z(e,n){return n.name&&((n=new e(n)).name=new(e===xt?ue:zi)(n.name)),n}var q=n(function(){if(v("name","async"))return m(),d("keyword","function"),v("operator","*")?(m(),O(gt)):O(_t);if(v("keyword"))switch(h.token.value){case"class":return m(),T(xt);case"const":m();var e=M();return y(),e;case"function":return(m(),v("operator","*"))?(m(),O(yt)):O(bt);case"let":m();e=j();return y(),e;case"var":m();e=P();return y(),e}g()});function C(){b("{");for(var e=[];!v("punc","}");)v("eof")&&b("}"),e.push(x());return m(),e}function F(){b("{");for(var e,n,t,i,r=[];!v("punc","}");)v("eof")&&b("}"),v("keyword","case")?(e&&(e.end=_()),n=[],e=new Nt({start:(i=h.token,m(),i),expression:te(),body:n}),r.push(e),b(":")):v("keyword","default")?(e&&(e.end=_()),t&&a("More than one default clause in switch statement"),n=[],e=new Pt({start:(i=h.token,m(),b(":"),i),body:n}),r.push(e),t=e):(n||g(),n.push(x()));return e&&(e.end=_()),m(),r}function i(e,n){for(var t=[];;){var i=h.token,r=W(e),o=null;if(v("operator","=")?(m(),o=ne(n)):!n&&(e===Ti||r instanceof hi)&&a("Missing initializer in declaration"),t.push(new Vt({start:i,name:r,value:o,end:_()})),!v("punc",","))break;m()}return t}var M=function(e){return new Bt({start:_(),definitions:i(Ti,e),end:_()})},j=function(e){return new Lt({start:_(),definitions:i(Di,e),end:_()})},P=function(e){return new Ut({start:_(),definitions:i(Oi,e),end:_()})};var N=function(e){if(v("operator","new"))return u=e,t=h.token,d("operator","new"),(c=v("punc",".")&&me(p(),"name","target")?(m(),m(),new Hi):(n=N(!1),c=v("punc","(")?(m(),I(")",!l.strict)):[],new Zt({expression:n,args:c}))).start=t,c.end=_(),X(c,u);var n,t,i=h.token;if(v("punc")){switch(i.value){case"`":var r=J(null);return r.start=i,r.end=_(),X(r,e);case"(":if(m(),v("punc",")"))return m(),D([],i);var o=te(!1,!0),r=i.comments_before.length;[].unshift.apply(o.start.comments_before,i.comments_before),i.comments_before.length=0,i.comments_before=o.start.comments_before,0==(i.comments_before_length=r)&&0<i.comments_before.length&&((a=i.comments_before[0]).nlb||(a.nlb=i.nlb,i.nlb=!1)),i.comments_after=o.start.comments_after,o.start=i,b(")");var a=_();return a.comments_before=o.end.comments_before,a.comments_after.forEach(function(e){o.end.comments_after.push(e),e.nlb&&(h.token.nlb=!0)}),a.comments_after.length=0,a.comments_after=o.end.comments_after,o.end=a,v("punc","=>")?D(o instanceof ei?o.expressions:[o],i):X(o,e);case"[":return X(H(),e);case"{":return X(R(),e)}g()}if(v("keyword"))switch(i.value){case"class":m();var s=T(kt);return s.start=i,s.end=_(),X(s,e);case"function":return m(),(f=v("operator","*")?(m(),O(vt)):O(ht)).start=i,f.end=_(),X(f,e)}if(v("name")){var f,c=L(Mi,i);if(m(),"async"==c.name){if(v("keyword","function"))return m(),(f=v("operator","*")?(m(),O(dt)):O(pt)).start=i,f.end=_(),X(f,e);if(v("name")&&me(p(),"punc","=>"))return i=h.token,c=L(Mi,i),m(),D([c],i,!0);if(v("punc","(")){var u=X(c,e);if(!v("punc","=>"))return u;u=u.args;return u[u.length-1]instanceof ri&&(u.rest=u.pop().expression),D(u,i,!0)}}return v("punc","=>")?D([c],i):X(c,e)}if(ye[h.token.type])return X(function(){var e,n=h.token,t=n.value;switch(n.type){case"num":isFinite(t)?e=new Li({value:t}):(e=new Ki,t<0&&(e=new ai({operator:"-",expression:e})));break;case"bigint":e=new Ui({value:t});break;case"string":e=new Bi({value:t,quote:n.quote});break;case"regexp":e=new Vi({value:t});break;case"atom":switch(t){case"false":e=new Zi;break;case"true":e=new er;break;case"null":e=new Wi;break;default:g()}break;default:g()}return m(),e.start=e.end=n,e}(),e);g()};function I(e,n,t,i){i=i||ne;for(var r=!0,o=[];!v("punc",e)&&(r?r=!1:b(","),!n||!v("punc",e));)if(t&&v("punc",","))o.push(new Xi({start:h.token,end:h.token}));else if(v("operator","...")){if(i!==ne){m(),o.rest=i(),o.rest instanceof Kt&&s(o.rest.start,"Invalid rest parameter");break}o.push(new ri({start:h.token,expression:(m(),i()),end:_()}))}else o.push(i());return b(e),o}var H=n(function(){return b("["),new di({elements:I("]",!l.strict,!0)})}),Y=n(function(){return O(rt)}),R=n(function(){b("{");for(var e=!0,n=[];!v("punc","}")&&(e?e=!1:b(","),l.strict||!v("punc","}"));){var t=h.token;if(v("operator","*")){m();var i=B(),r=h.token,o=O(vt);o.start=r,o.end=_(),n.push(new wi({start:t,key:i,value:o,end:_()}))}else if(v("operator","..."))m(),n.push(new ri({start:t,expression:ne(),end:_()}));else if(me(p(),"operator","=")){o=V(Mi);m(),n.push(new yi({start:t,key:t.value,value:new ui({start:t,left:o,operator:"=",right:ne(),end:_()}),end:_()}))}else if(me(p(),"punc",",")||me(p(),"punc","}"))n.push(new yi({start:t,key:t.value,value:V(Mi),end:_()}));else{i=B();if(v("punc","(")){var a=h.token;(f=O(ht)).start=a,f.end=_(),n.push(new wi({start:t,key:i,value:f,end:_()}))}else if(v("punc",":"))m(),n.push(new yi({start:t,key:i,value:ne(),end:_()}));else{if("name"==t.type)switch(i){case"async":var s=v("operator","*")&&m();i=B();var f,a=h.token;(f=O(s?dt:pt)).start=a,f.end=_(),n.push(new wi({start:t,key:i,value:f,end:_()}));continue;case"get":n.push(new ki({start:t,key:B(),value:Y(),end:_()}));continue;case"set":n.push(new xi({start:t,key:B(),value:Y(),end:_()}));continue}g()}}}return m(),new gi({properties:n})});function B(){var e=h.token;switch(e.type){case"operator":de[e.value]||g();case"num":case"string":case"name":case"keyword":case"atom":return m(),""+e.value;case"punc":b("[");var n=ne();return b("]"),n;default:g()}}function L(e,n){var t=n.value;switch(t){case"await":h.in_async&&g(n);break;case"super":e=Ni;break;case"this":e=Ii;break;case"yield":h.in_generator&&g(n)}return new e({name:""+t,start:n,end:n})}function U(e){"arguments"!=e.name&&"eval"!=e.name||s(e.start,"Unexpected "+e.name+" in strict mode")}function V(e,n){if(!v("name"))return n||a("Name expected"),null;e=L(e,h.token);return h.input.has_directive("use strict")&&e instanceof Si&&U(e),m(),e}function W(e){var n=h.token;if(v("punc","[")){m();var t=I("]",!l.strict,!0,function(){return G(e)});return new vi({start:n,elements:t,rest:t.rest||null,end:_()})}if(v("punc","{")){m();for(var i=!0,r=[],o=null;!v("punc","}")&&(i?i=!1:b(","),l.strict||!v("punc","}"));){var a=h.token;if(v("punc","[")||me(p(),"punc",":")){var s=B();b(":"),r.push(new mi({start:a,key:s,value:G(e),end:_()}))}else{if(v("operator","...")){m(),o=W(e);break}s=V(e);v("operator","=")&&(m(),s=new Kt({start:s.start,name:s,value:ne(),end:_()})),r.push(new mi({start:a,key:a.value,value:s,end:_()}))}}return b("}"),new _i({start:n,properties:r,rest:o,end:_()})}return V(e)}function G(e){var n=h.token,e=W(e);return v("operator","=")?(m(),new Kt({start:n,name:e,value:ne(),end:_()})):e}function J(e){for(var n=h.input.context().read_template,t=[],i=[];n(t);)m(),i.push(te()),v("punc","}")||g();return m(),new Yi({expressions:i,strings:t,tag:e})}var X=function(e,n){var t=e.start;if(v("punc","."))return m(),X(new ti({start:t,expression:e,property:(i=h.token.value,d("name"),i),end:_()}),n);if(v("punc","[")){m();var i=te();return b("]"),X(new ii({start:t,expression:e,property:i,end:_()}),n)}if(n&&v("punc","(")){m();var r=new Qt({start:t,expression:e,args:I(")",!l.strict),end:_()});return X(r,!0)}if(v("punc","`")){r=J(e);return r.start=e.start,r.end=_(),X(r,n)}if(e instanceof Qt&&!e.pure)for(var o=(t=e.start).comments_before,a=Cn(t,"comments_before_length")?t.comments_before_length:o.length;0<=--a;){var s=/[@#]__PURE__/.exec(o[a].value);if(s){e.pure=s[0];break}}return e};function o(e){var n=h.token;if(h.in_async&&v("name","await"))return h.in_funarg===h.in_function&&a("Invalid use of await in function argument"),h.input.context().regex_allowed=!0,m(),new li({start:n,expression:o(e),end:_()});if(h.in_generator&&v("name","yield")){h.in_funarg===h.in_function&&a("Invalid use of yield in function argument"),h.input.context().regex_allowed=!0,m();var t=null,i=!1;return v("operator","*")?(m(),t=ne(e),i=!0):(v("punc")?he[h.token.value]:c())||(t=ne(e)),new pi({start:n,expression:t,nested:i,end:_()})}if(v("operator")&&ge[n.value]){m(),w();e=K(ai,n,o(e));return e.start=n,e.end=_(),e}for(var r=N(!0);v("operator")&&ar[h.token.value]&&!f(h.token);)(r=K(si,h.token,r)).start=n,r.end=h.token,m();return r}function K(e,n,t){var i=n.value;switch(i){case"++":case"--":Z(t)||s(n,"Invalid use of "+i+" operator");break;case"delete":t instanceof Mi&&h.input.has_directive("use strict")&&s(t.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:i,expression:t})}var Q=function(e,n,t){var i=v("operator")?h.token.value:null,r=null!=(i="in"==i&&t?null:i)?sr[i]:null;if(null!=r&&n<r){m();r=Q(o(t),"**"==i?r-1:r,t);return Q(new fi({start:e.start,left:e,operator:i,right:r,end:r.end}),n,t)}return e};var r=function(e){var n=h.token,t=Q(o(i=e),0,i);if(v("operator","?")){m();var i=ne();return b(":"),new ci({start:n,condition:t,consequent:i,alternative:ne(e),end:_()})}return t};function Z(e){return e instanceof ni||e instanceof Mi}function ee(e){if(e instanceof di){var n=null;if(e.elements[e.elements.length-1]instanceof ri&&!((n=ee(e.elements.pop().expression))instanceof hi||Z(n)))return e;var t=e.elements.map(ee);return zn(t,function(e){return e instanceof Kt||e instanceof hi||e instanceof Xi||Z(e)})?new vi({start:e.start,elements:t,rest:n,end:e.end}):e}if(e instanceof ui){t=ee(e.left);return t instanceof hi||Z(t)?new Kt({start:e.start,name:t,value:e.right,end:e.end}):e}if(!(e instanceof gi))return e;n=null;if(e.properties[e.properties.length-1]instanceof ri&&!((n=ee(e.properties.pop().expression))instanceof hi||Z(n)))return e;for(var i=[],r=0;r<e.properties.length;r++){var o=e.properties[r];if(!(o instanceof yi))return e;var a=ee(o.value);if(!(a instanceof Kt||a instanceof hi||Z(a)))return e;i.push(new mi({start:o.start,key:o.key,value:a,end:o.end}))}return new _i({start:e.start,properties:i,rest:n,end:e.end})}function ne(e){var n=h.token,t=r(e),i=h.token.value;if(v("operator")&&be[i]){if(Z(t)||"="==i&&(t=ee(t))instanceof hi)return m(),new ui({start:n,left:t,operator:i,right:ne(e),end:_()});a("Invalid assignment")}return t}function te(e,n){for(var t=h.token,i=[];;){if(n&&v("operator","...")){m(),i.rest=W($i);break}if(i.push(ne(e)),!v("punc",","))break;if(m(),n&&v("punc",")")&&me(p(),"punc","=>"))break}return 1!=i.length||i.rest?new ei({start:t,expressions:i,end:_()}):i[0]}function ie(e){++h.in_loop;e=e();return--h.in_loop,e}if(l.expression){w();e=te();return d("eof"),e}return function(){var e=h.token,n=[];for(h.input.push_directives_stack();!v("eof");)n.push(x());h.input.pop_directives_stack();var t=_()||e,i=l.toplevel;return i?(i.body=i.body.concat(n),i.end=t):i=new tt({start:e,body:n,end:t}),i}()}function v(e,n,t,i){this.eliminated=0,this.exported=!1,this.global=!1,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.scope=n,this.undeclared=!1}v.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t=e.cache&&e.cache.props;this.global&&t&&t.has(this.name)?this.mangled_name=t.get(this.name):this.mangled_name||this.unmangleable(e)||(n=this.redefined(),this.mangled_name=n?n.mangled_name||n.name:function(e,i){var n,t=e.scope,r=m(t,i),o=t.cname_holes,a=Object.create(null),s=[t];e.forEach(function(e){var n=e.scope;do{if(!(s.indexOf(n)<0))break;for(var t in m(n,i))a[t]=!0}while(s.push(n),n=n.parent_scope)});for(var f=0;f<o.length;f++)if(n=S(o[f]),!a[n])return o.splice(f,1),r[n]=!0,n;for(;;)if(n=S(++t.cname),!(r[n]||M[n]||i.reserved.has[n])){if(!a[n])break;o.push(t.cname)}return r[n]=!0,n}(this,e),this.global&&t&&t.set(this.name,this.mangled_name))},redefined:function(){var e=this.defun;if(e){var n=this.name,e=e.variables.get(n)||e instanceof tt&&e.globals.get(n)||this.orig[0]instanceof Ti&&yn(function(e){return e.name==n},e.enclosed);return e&&e!==this?e.redefined()||e:void 0}},unmangleable:function(e){return this.global&&!e.toplevel||this.exported||this.undeclared||!e.eval&&this.scope.pinned()||e.keep_fnames&&(this.orig[0]instanceof Ci||this.orig[0]instanceof ue||this.orig[0]instanceof zi||this.orig[0]instanceof qi)}};var cr=$n("delete ++ --");function ur(e,n){return n instanceof ui?n.left===e&&e:n instanceof Kt?n.name===e&&e:n instanceof hi||n instanceof mi?e:n instanceof Qn?n.init===e&&e:n instanceof oi?cr[n.operator]&&n.expression:void 0}function d(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new qn,e.variables=new qn,n&&(e.make_def=n.make_def)}function h(e,n){d(e,n),e.uses_eval=!1,e.uses_with=!1}function m(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=Object.create(null),t=n.cache&&n.cache.props,e.enclosed.forEach(function(e){e.unmangleable(n)&&(i[e.name]=!0),e.global&&t&&t.has(e.name)&&(i[t.get(e.name)]=!0)})),i}function b(e){return e=re(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),An(e.reserved,"arguments"),e.reserved.has=$n(e.reserved),e}tt.DEFMETHOD("figure_out_scope",function(u){u=re(u,{cache:null,ie8:!1});var l=this,s=null,f=!1,t=0,c=l.parent_scope=null,p=new nr(function(i,e){if(i instanceof xt){var n=f;return f=p.parent()instanceof Wt,i.name.walk(p),f=n,o(function(){i.extends&&i.extends.walk(p),i.properties.forEach(function(e){e.walk(p)})}),!0}if(i instanceof Rt){n=f;return f=p.parent()instanceof Wt,e(),f=n,!0}if(i instanceof mt){n=f;return f=p.parent()instanceof Wt,i.name.walk(p),f=n,o(function(){i.argnames.forEach(function(e){e.walk(p)}),i.rest&&i.rest.walk(p),Bn(i,p)}),!0}if(i instanceof jt)return i.init_vars(c),e(),!0;if(i instanceof It)return o(function(){Bn(i,p)}),i.bcatch&&i.bcatch.walk(p),i.bfinally&&i.bfinally.walk(p),!0;if(i instanceof et){for(var t=c;!(t=t.resolve()).uses_with&&(t.uses_with=!0,t=t.parent_scope););return o(e),!0}if(i instanceof Rn)return o(e),!0;var r;function o(e){i.init_vars(c);var n=s,t=c;i instanceof nt&&(s=i),c=i,e(),c=t,s=n}function a(e,n){e!==n&&(i.mark_enclosed(u),n=n.find_variable(i.name),i.thedef!==n&&((i.thedef=n).orig.push(i),i.mark_enclosed(u)))}i instanceof Ei&&(i.scope=c),i instanceof le&&((i.thedef=i).references=[]),i instanceof Fi?c.def_variable(i).defun=s:i instanceof Ti?((r=c.def_variable(i)).defun=s,f&&(r.exported=!0)):i instanceof zi?(r=s.def_function(i,p.parent()),f&&(r.exported=!0),a(s,c)):i instanceof $i?(s.def_variable(i),a(s,c)):i instanceof qi?(r=s.def_function(i,"arguments"==i.name?void 0:s),u.ie8&&(r.defun=s.parent_scope.resolve())):i instanceof Di?(r=c.def_variable(i),f&&(r.exported=!0)):i instanceof Oi&&(r=s.def_variable(i,i instanceof Ai?void 0:null),f&&(r.exported=!0),a(s,c))});l.make_def=function(e,n){return new v(++t,this,e,n)},l.walk(p),l.globals=new qn;var d=[],p=new nr(function(e){if(e instanceof Ht)return e.argname instanceof hi?(d.push(e),e.argname.walk(p),d.pop(),Bn(e,p),!0):void 0;if(e instanceof it)return d.push(e),e.argnames.forEach(function(e){e.walk(p)}),e.rest&&e.rest.walk(p),d.pop(),ct(e,p),!0;if(e instanceof zt)return e.label&&e.label.thedef.references.push(e),!0;if(e instanceof Si){var n,t=e.definition();if(t.preinit=t.references.length,e instanceof Fi){if(n=t.redefined())for(var i=e.scope;i&&(An(i.enclosed,n),i!==n.scope);i=i.parent_scope);}else e instanceof Ti&&(n=t.redefined())&&(n.const_redefs=!0);return"arguments"!=e.name?!0:((r=e instanceof Oi&&p.parent())instanceof Vt&&!r.value||(a=e.scope.resolve().find_variable("arguments"))&&h(a)&&(a.scope.uses_arguments=3),!0)}if(e instanceof Mi){for(var r,o=e.name,a=e.scope.find_variable(o),s=d.length;0<s&&a&&!((s=d.lastIndexOf(a.scope,s-1))<0);){var f=a.orig[0];if(f instanceof Fi||f instanceof $i||f instanceof qi){e.in_arg=!0;break}a=a.scope.parent_scope.find_variable(o)}if(a?"arguments"==o&&h(a)&&(ur(e,r=p.parent())?a.scope.uses_arguments=3:a.scope.uses_arguments<2&&!(r instanceof ni&&r.expression===e)?a.scope.uses_arguments=2:a.scope.uses_arguments||(a.scope.uses_arguments=!0)):a=l.def_global(e),"eval"==o)if("Call"==(r=p.parent()).TYPE&&r.expression===e)for(i=e.scope;!(i=i.resolve()).uses_eval&&(i.uses_eval=!0,i=i.parent_scope););else a.undeclared&&(l.uses_eval=!0);if(a.init instanceof mt&&a.scope!==a.init.name.scope){var c=e.scope;do{if(c===a.init.name.scope)break}while(c=c.parent_scope);c||(a.init=void 0)}return e.thedef=a,e.reference(u),!0}});function h(e){return e.orig[0]instanceof $i&&!(e.orig[1]instanceof $i||e.orig[2]instanceof $i)&&!at(e.scope)}function i(e,n){var t=e.name,i=e.thedef;if(zn(i.orig,function(e){return!(e instanceof Ti||e instanceof Di)})){var r,o=n.find_variable(t);return o?(r=o.redefined())&&(o=r):o=l.globals.get(t),o?o.orig.push(e):o=n.def_variable(e),i.defun=o.scope,i.forEach(function(e){e.redef=i,e.thedef=o,e.reference(u)}),o.undeclared&&l.variables.set(t,o),1}}l.walk(p),u.ie8&&l.walk(new nr(function(e){if(e instanceof Fi){var n=e.thedef.defun;return i(e,n=n.name instanceof qi&&n.name.name==e.name?n.parent_scope.resolve():n),!0}if(e instanceof qi){n=e.thedef;return i(e,e.scope.parent_scope.resolve())?void 0!==e.thedef.init?e.thedef.init=!1:n.init&&(e.thedef.init=n.init):delete n.defun,!0}}))}),tt.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);e=this.make_def(e);return e.undeclared=!0,e.global=!0,n.set(t,e),e}),Rn.DEFMETHOD("init_vars",function(e){d(this,e)}),nt.DEFMETHOD("init_vars",function(e){h(this,e)}),ut.DEFMETHOD("init_vars",function(e){return h(this,e),this}),lt.DEFMETHOD("init_vars",function(e){h(this,e)}),it.DEFMETHOD("init_vars",function(e){return h(this,e),this.uses_arguments=!1,this.def_variable(new $i({name:"arguments",start:this.start,end:this.end})),this}),Ei.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(An(t.enclosed,n),e?e.keep_fnames&&t.functions.each(function(e){An(n.scope.enclosed,e)}):delete t._var_names,t!==n.scope);t=t.parent_scope);}),Ei.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),Rn.DEFMETHOD("find_variable",function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),Rn.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof mt)&&(t.init=n),this.functions.set(e.name,t),t}),Rn.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init instanceof ot&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),Ei.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),le.DEFMETHOD("unmangleable",xn),Ei.DEFMETHOD("definition",function(){return this.thedef}),tt.DEFMETHOD("mangle_names",function(o){o=b(o);var n,r=-1;o.cache&&o.cache.props&&(n=m(this,o),o.cache.props.each(function(e){n[e]=!0}));var a=[],s=new nr(function(n,e){if(n instanceof Vn){var t=r;return e(),o.v8&&function(e){var n,t=0;for(;n=e.parent(t++);){if(n instanceof Ln)return n instanceof tt&&!o.toplevel;if(n instanceof Vn)return!0}}(s)||(r=t),!0}var i;if(n instanceof Rn)return o.webkit&&n instanceof Wn&&n.init instanceof Lt&&n.init.definitions.forEach(function(e){e.name.match_symbol(function(e){var n,t,i;e instanceof Di&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})})},!0),n.to_mangle=[],n.variables.each(function(e){!function(n){var e=n.orig[0],t=n.redefined();if(!t){if(!(e instanceof Ti))return!1;var i=n.scope.resolve();if(n.scope===i)return!1;if(n.scope.parent_scope.find_variable(e.name))return!1;t=i.def_variable(e),i.to_mangle.push(t)}a.push(n),n.references.forEach(r),(e instanceof Fi||e instanceof Ti)&&r(e);return!0;function r(e){e.thedef=t,e.reference(o),e.thedef=n}}(e)&&n.to_mangle.push(e)}),e(),o.cache&&n instanceof tt&&n.globals.each(f),n instanceof bt&&s.has_directive("use asm")&&((e=new Mi(n.name)).scope=n,e.reference(o)),n.to_mangle.forEach(f),!0;if(n instanceof le){for(;i=S(++r),M[i];);return n.mangled_name=i,!0}});function f(e){o.reserved.has[e.name]||e.mangle(o)}this.walk(s),a.forEach(f)}),tt.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(M);return t.reserved.forEach(r),this.globals.each(o),this.walk(new nr(function(e){e instanceof Rn&&e.variables.each(o)})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),tt.DEFMETHOD("expand_names",function(i){S.reset(),S.sort(),i=b(i);var r=this.find_colliding_names(i),o=0;function n(n){var e,t;n.global&&i.cache||n.unmangleable(i)||i.reserved.has[n.name]||(e=n.redefined(),t=e?e.rename||e.name:function(){for(var e;e=S(o++),r[e];);return e}(),n.rename=t,n.forEach(function(e){e.definition()===n&&(e.name=t)}))}this.globals.each(n),this.walk(new nr(function(e){e instanceof Rn&&e.variables.each(n)}))}),Mn.DEFMETHOD("tail_node",En),ei.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),tt.DEFMETHOD("compute_char_frequency",function(e){e=b(e),S.reset();var n=Ei.prototype.add_source_map;try{Ei.prototype.add_source_map=function(){this.unmangleable(e)||S.consider(this.name,-1)},e.properties&&(ti.prototype.add_source_map=function(){S.consider(this.property,-1)},ii.prototype.add_source_map=function(){!function e(n){n instanceof Bi?S.consider(n.value,-1):n instanceof ci?(e(n.consequent),e(n.alternative)):n instanceof ei&&e(n.tail_node())}(this.property)}),S.consider(this.print_to_string(),1)}finally{Ei.prototype.add_source_map=n,delete ti.prototype.add_source_map,delete ii.prototype.add_source_map}S.sort()});var y,w,x,k,E,S=(y=Object.create(null),k=U("0123456789"),E=U("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),G.consider=function(e,n){for(var t=e.length;0<=--t;)x[e[t]]+=n},G.sort=function(){w=E.sort(W).concat(k.sort(W))},(G.reset=V)(),G);function U(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),y[i]=-.01*t}return n}function V(){x=Object.create(y)}function W(e,n){return x[n]-x[e]}function G(e){var n="",t=54;for(e++;n+=w[--e%t],e=Math.floor(e/t),t=64,0<e;);return n}function lr(e,n){if(!(this instanceof lr))return new lr(e,n);tr.call(this,this.before,this.after),this.options=re(e,{annotations:!n,arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_exports:!n,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,imports:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,templates:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n,yields:!n},!0);n=this.options.evaluate;this.eval_threshold=/eager/.test(n)?1/0:+n;var t=this.options.global_defs;if("object"==typeof t)for(var i in t)/^@/.test(i)&&Cn(t,i)&&(t[i.slice(1)]=fr(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=3),this.drop_fargs=this.options.keep_fargs?xn:function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;t=t.definition();if(t.direct_access)return!1;t=t.escaped;return t&&1!=t.depth};var r=this.options.pure_funcs;"function"==typeof r?this.pure_funcs=r:"string"==typeof r?this.pure_funcs=function(e){return r!==e.expression.print_to_string()}:Array.isArray(r)?this.pure_funcs=function(e){return!bn(e.expression.print_to_string(),r)}:this.pure_funcs=kn;n=this.options.sequences;this.sequences_limit=1==n?800:0|n;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return bn(e.name,o)});n=this.options.toplevel;this.toplevel="string"==typeof n?{funcs:/funcs/.test(n),vars:/vars/.test(n)}:{funcs:n,vars:n}}function J(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function pr(f){f=re(f,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,c=xn;f.comments&&(n=f.comments,"string"==typeof f.comments&&/^\/.*\/[a-zA-Z]*$/.test(f.comments)&&(P=f.comments.lastIndexOf("/"),n=new RegExp(f.comments.substr(1,P-1),f.comments.substr(P+1))),c=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?J:kn);var i,r,o,a,s,t,u,l=0,p=1,d=0,h=f.indent_start,v=0,m=!0,_=f.source_map&&[],g=!1,b=!1,y=-1;function e(){s=a=!1,t=[];var e=u;return u=i="",e}e();var w=f.ascii_only?function(e,t){return(e=t?e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"}):e).replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(Y(e.charCodeAt(i+1))){i++;continue}}else if(!Y(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function x(e){return"'"+e.replace(/\x27/g,"\\'")+"'"}function k(e){return'"'+e.replace(/\x22/g,'\\"')+'"'}var E=[null,x,k,function(e,n){return("'"==n?x:k)(e)}][f.quote_style]||function(e,n,t,i){return(i<t?x:k)(e)};function S(t,e){var i=0,r=0;return t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return f.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),E(w(t),e,i,r)}var T=_?function(n,t){_.forEach(function(e){e.line+=n,e.col+=t})}:wn,A=_?function(){_.forEach(function(e){f.source_map.add(e.token.file,e.line,e.col,e.token.line,e.token.col,e.name||"name"!=e.token.type?e.name:e.token.value)}),_=[]}:wn;function D(e){var n=u.lastIndexOf("\n");v<n&&(v=n);var t=u.slice(0,v),n=u.slice(v);for(T(e,n.length-l),p+=e,d+=e,l=n.length,u=t;e--;)u+="\n";u+=n}var O=f.max_line_len?function(){m?l>f.max_line_len&&Mn.warn("Output exceeds {max_line_len} characters",f):(l>f.max_line_len&&D(1),m=!0,A())}:wn,$=$n("( [ + * / - , ."),z=f.beautify||f.comments||f.max_line_len||f.preserve_line||f.shebang||!f.semicolons||f.source_map||f.width?function(e){var n=e.charAt(0);g&&n&&(g=!1,"\n"!=n&&(z("\n"),C())),b&&n&&(b=!1,/[\s;})]/.test(n)||q()),y=-1;var t=i.slice(-1);s&&(s=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(f.semicolons||$[n]?(u+=";",l++,d++):(O(),u+="\n",d++,p++,l=0,/^\s+$/.test(e)&&(s=!0)),f.beautify||(a=!1))),a&&((B(t)&&(B(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==i||"--"==e&&"!"==i||"in"==e&&"/"==t||"--"==i&&">"==n)&&(u+=" ",l++,d++),"<"==t&&"!"==e||(a=!1)),o&&(_.push({token:o,name:r,line:p,col:l}),o=!1,m&&A()),u+=e,d+=e.length;n=e.split(/\r?\n/),t=n.length-1;p+=t,l+=n[0].length,0<t&&(O(),l=n[t].length),i=e}:function(e){var n=e.charAt(0),t=i.slice(-1);s&&(s=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(u+=";",a=!1)),a&&((B(t)&&(B(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==i||"--"==e&&"!"==i||"in"==e&&"/"==t||"--"==i&&">"==n)&&(u+=" "),"<"==t&&"!"==e||(a=!1)),u+=e,i=e},q=f.beautify?function(){z(" ")}:function(){a=!0},C=f.beautify?function(e){g&&z("\n"),z(function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t?i+n:i}(" ",e?h-(f.indent_level>>1):h))}:wn,F=f.beautify?function(e){var n=h;h+=f.indent_level,e(),h=n}:function(e){e()},M=f.max_line_len||f.preserve_line?function(){O(),v=u.length,m=!1}:wn,j=f.beautify?function(){if(y<0)return z("\n");"\n"!=u[y]&&(u=u.slice(0,y)+"\n"+u.slice(y),d++,p++),y++}:M,P=f.beautify?function(){z(";")}:function(){s=!0};function N(e,n){g||(!e.nlb||!n&&(e=u.lastIndexOf("\n"),/^ *$/.test(u.slice(e+1)))?n&&(b=!0):g=!0)}function I(e){var n=e.value.replace(/[@#]__PURE__/g," ");return(!/^\s*$/.test(n)||/^\s*$/.test(e.value))&&(/comment[134]/.test(e.type)?(z("//"+n),g=!0):"comment2"==e.type&&z("/*"+n+"*/"),1)}return{get:function(){return m||O(),u},reset:e,indent:C,should_break:f.width?function(){return l-h>=f.width}:xn,has_parens:function(){return"("==i.slice(-1)},newline:j,print:z,space:q,comma:function(){M(),z(","),M(),q()},colon:function(){z(":"),q()},last:function(){return i},semicolon:P,force_semicolon:function(){s&&z(";"),z(";")},to_utf8:w,print_name:function(e){z(w(e.toString(),!0))},print_string:f.inline_script?function(e,n){e=S(e,n).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),z(e.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(e,n){z(S(e,n))},with_indent:F,with_block:function(e){z("{"),j(),F(e),C(),z("}")},with_parens:function(e){z("("),M(),e(),M(),z(")")},with_square:function(e){z("["),M(),e(),M(),z("]")},add_mapping:_?function(e,n){o=e,r=n}:wn,option:function(e){return f[e]},prepend_comments:f.comments||f.shebang?function(e){var t,i=this;e instanceof Dt?t=e.value:e instanceof pi&&(t=e.expression);var r,n,o=(o=s(e))||[];t&&((r=new nr(function(e){if(n=e,!((t=r.parent())instanceof fi?t.left===n:"Call"==t.TYPE?t.expression===n:t instanceof ci?t.condition===n:t instanceof ti?t.expression===n:t instanceof Dt||(t instanceof ei?t.expressions[0]===n:t instanceof ii?t.expression===n:t instanceof si||t instanceof pi)))return!0;var n,t,e=s(e);e&&(o=o.concat(e))})).push(e),t.walk(r)),0==d&&(0<o.length&&f.shebang&&"comment5"==o[0].type&&(z("#!"+o.shift().value+"\n"),C()),(n=f.preamble)&&z(n.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),o=o.filter(c,e);var a=!1;function s(e){var n=e.start;if(!n){if(!t)return;e.start=n=new H}e=n.comments_before;if(!e){if(!t)return;n.comments_before=e=[]}if(e._dumped!==i)return e._dumped=i,e}o.forEach(function(e,n){N(e,n),I(e)&&(a=!0)}),a&&N(e.start,!0)}:wn,append_comments:f.comments?function(e,t){var n,i=e.end;!i||(n=i[t?"comments_before":"comments_after"])&&n._dumped!==this&&(e instanceof jn||zn(n,function(e){return!/comment[134]/.test(e.type)}))&&(n._dumped=this,i=u.length,n.filter(c,e).forEach(function(e,n){N(e,n||!t),I(e)}),u.length>i&&(y=i))}:wn,push_node:function(e){t.push(e)},pop_node:f.preserve_line?function(){var e=t.pop();e.start&&e.start.line>p&&D(e.start.line-p)}:function(){t.pop()},parent:function(e){return t[t.length-2-(e||0)]}}}t(lr.prototype=new tr,{option:function(e){return this.options[e]},exposed:function(e){if(e.exported)return!0;if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof tt))return!1;var n=this.toplevel;return!zn(e.orig,function(e){return n[e instanceof zi?"funcs":"vars"]})},compress:function(e){(e=e.resolve_defines(this)).hoist_exports(this),this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new nr(function(){a++})),Mn.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:o,min_count:t,count:a}),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},before:function(e,n,t){if(e._squeezed)return e;var i=e instanceof nt;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_boolean_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.merge_variables(this),r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(e){function l(e,n){var t;if(!((i=n.getProperty())instanceof Mn)){if(e instanceof di){n=e.elements;if("length"==i)return J(n.length,e);"number"==typeof i&&i in n&&(t=n[i])}else if(e instanceof it){if("length"==i)return e.length_read=!0,J(e.argnames.length,e)}else if(e instanceof gi)for(var i=""+i,r=e.properties,o=r.length;0<=--o;){if(!gn(r[o]))return;t||r[o].key!==i||(t=r[o].value)}return t instanceof Mi&&t.fixed_value()||t}}function re(e,n,t,i,r,o,a){var s=n.parent(r);if(!(e.option("unsafe")&&s instanceof ti&&(c=i,f=s.property,c instanceof Qi?me.Boolean[f]:c instanceof Li?me.Number[f]:c instanceof Bi?me.String[f]:"valueOf"!=f&&(c instanceof di?me.Array[f]:c instanceof it?me.Function[f]:c instanceof gi?me.Object[f]:c instanceof Vi&&(me.RegExp[f]&&!c.value.global))))){var f,c=ur(t,s);if(c)return c;if(s instanceof di)return re(e,n,s,s,r+1);if(s instanceof fi)return he[s.operator]?re(e,n,s,s,r+1):void 0;if(s instanceof Qt)return!o&&s.expression===t&&!s.is_expr_pure(e)&&(!(i instanceof ot)||!(s instanceof Zt)&&i.contains_this());if(s instanceof ci)return s.condition===t?void 0:re(e,n,s,s,r+1);if(s instanceof Qn)return s.init===t;if(s instanceof yi){if(s.value!==t)return;var u=n.parent(r+1);return re(e,n,u,u,r+2)}if(s instanceof ni){if(s.expression!==t)return;u=l(i,s);return(!o||a)&&re(e,n,s,u,r+1)}return s instanceof ei&&s.tail_node()===t?re(e,n,s,i,r+1,o,a):void 0}}function v(e){return e instanceof wt||e instanceof it}function f(e){return e instanceof wt||e instanceof bt||e instanceof ht}function oe(e){return"arguments"==e.name&&e.scope.uses_arguments}function ae(e){return e.orig[0]instanceof $i||e.orig[1]instanceof $i}function U(e,n){do{if(e===n)return;if(n instanceof nt)return 1}while(n=n.parent_scope)}function se(e,n,t){var i=e.definition();return(!e.in_arg||!ae(i))&&zn(i.orig,function(e){return e instanceof Ti||e instanceof Di?n&&Ke(n,e):!(t&&e instanceof qi)})}e(Mn,function(e,n){return e}),Mn.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),tt.DEFMETHOD("hoist_exports",function(e){if(e.option("hoist_exports")){for(var n=this.body,t=[],i=0;i<n.length;i++){var r=n[i];r instanceof Wt?(n[i]=r=r.body,r instanceof Rt?r.definitions.forEach(function(e){e.name.match_symbol(o,!0)}):o(r.name)):r instanceof Jt&&(n.splice(i--,1),[].push.apply(t,r.properties))}t.length&&n.push(ce(Jt,this,{properties:t}))}function o(e){e instanceof Si&&((e=ce(ji,e,e)).alias=e.name,t.push(e))}}),nt.DEFMETHOD("process_expression",function(t,i){var r=this,o=new tr(function(e){return t&&e instanceof Yn?ce(Ot,e,{value:e.body}):!t&&e instanceof Ot?i?i(e):ce(Yn,e,{body:e.value||ce(ai,e,{operator:"void",expression:ce(Li,e,{value:0})})}):(e instanceof it&&e!==r||(e instanceof Ln?0<=(n=e.body.length-1)&&(e.body[n]=e.body[n].transform(o)):e instanceof Ft?(e.body=e.body.transform(o),e.alternative&&(e.alternative=e.alternative.transform(o))):e instanceof et&&(e.body=e.body.transform(o))),e);var n});r.transform(o)});var p=/^(0|[1-9][0-9]*)$/;function a(e,n,t){t.assignments=0,t.bool_fn=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(t.init instanceof ot&&t.init!==t.scope)&&t.init,t.fixed instanceof mt&&!zn(t.references,function(e){var n=e.scope.resolve();do{if(t.scope===n)return 1}while(n instanceof ot&&(n=n.parent_scope.resolve()))})&&(e.defun_ids[t.id]=!1),t.reassigned=0,t.recursive_refs=0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function d(n,t,e){e.variables.each(function(e){a(n,t,e),null===e.fixed?(e.safe_ids=n.safe_ids,g(n,e)):e.fixed&&(n.loop_ids[e.id]=n.in_loop,g(n,e))}),e.may_call_this=function(){e.may_call_this=wn,e.contains_this()&&e.functions.each(function(e){e.init instanceof mt&&!(e.id in n.defun_ids)&&(n.defun_ids[e.id]=!1)})},e.uses_arguments&&e.each_argname(function(e){e.definition().last_ref=!1}),t.option("ie8")&&e.variables.each(function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)})}function s(n,t){if(t.id in n.defun_ids){var e=n.defun_ids[t.id];if(e){var i=n.defun_visited[t.id];if(e===n.safe_ids){if(!i)return t.fixed}else i?t.init.enclosed.forEach(function(e){t.init.variables.get(e.name)!==e&&(y(n,e)||(e.fixed=!1))}):n.defun_ids[t.id]=!1}}else{if(!n.in_loop)return n.defun_ids[t.id]=n.safe_ids,t.fixed;n.defun_ids[t.id]=!1}}function h(n,e){e.functions.each(function(e){e.init instanceof mt&&!n.defun_visited[e.id]&&(n.defun_ids[e.id]=n.safe_ids,e.init.walk(n))})}function m(e){e.safe_ids=Object.create(e.safe_ids)}function _(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function g(e,n){e.safe_ids[n.id]={}}function b(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function y(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];return t?(Cn(e.safe_ids,n.id)||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!oe(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=ce(Ji,n.orig[0]),!0)):!t.assign||t.assign===e.safe_ids):n.fixed instanceof mt}function w(e,n,t){if(t||zn(n.orig,function(e){return!(e instanceof Ti)})){if(void 0===n.fixed)return t||zn(n.orig,function(e){return!(e instanceof Di)});if(null===n.fixed&&n.safe_ids)return n.safe_ids[n.id]=!1,delete n.safe_ids,1;if(!1!==n.fixed){t=e.safe_ids[n.id];if(!Cn(e.safe_ids,n.id)){if(!t)return;if(t.read&&n.scope!==e.find_parent(nt))return;t.assign=!(!t.assign||t.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&t.read){if(t.read!==e.safe_ids)return;if(e.loop_ids[n.id]!==e.in_loop)return}return y(e,n)&&zn(n.orig,function(e){return!(e instanceof qi)})}}}function x(e,n){var t=ce(Mi,e,e);return t.fixed=n||ce(Ji,e),t}function k(e){return!!e&&(e.is_constant()||v(e)||e instanceof Pi)}function E(e,n,t,i,r,o,a){var s,f,c=e.parent(o);if(!r||!r.is_constant()){if(s=n,u=i,(f=c)instanceof ui?"="==f.operator&&f.right===u:f instanceof Qt?f.expression!==u||f instanceof Zt:f instanceof Dt?f.value===u&&u.scope!==s.scope:f instanceof Vt&&f.value===u)return n.escaped.push(c),!(1<a)||r&&r.is_constant_expression(t)||(a=1),void((!n.escaped.depth||n.escaped.depth>a)&&(n.escaped.depth=a));if(f=i,(u=c)instanceof di||(u instanceof fi?he[u.operator]:u instanceof ci?u.condition!==f:u instanceof ei?u.tail_node()===f:u instanceof ri))E(e,n,t,c,c,o+1,a);else if(c instanceof yi&&c.value===i){var u=e.parent(o+1);E(e,n,t,u,u,o+2,a)}else if(c instanceof ni&&c.expression===i&&(E(e,n,t,c,r=l(r,c),o+1,a+1),r))return;0<o||c instanceof Qt&&c.expression===i||c instanceof ei&&c.tail_node()!==i||c instanceof Yn||c instanceof oi&&!cr[c.operator]||(n.direct_access=!0)}}function S(e){var n;e instanceof ii&&((n=e.expression)instanceof Mi&&(!oe(n=n.definition())||((e=(e=e.property).is_constant()?e.value:e)instanceof Mn||p.test(e))&&(n.reassigned++,(e instanceof Mn?n.scope.argnames:[n.scope.argnames[e]]).forEach(function(e){e instanceof $i&&(e.definition().fixed=!1)}))))}function T(o,e,n,a,t){var s=new nr(function(i){if(i instanceof Kt)return c(i),m(o),i.value.walk(o),_(o),(r=a)&&(a=function(){var e=r();return de(e)?G(i,[e,i.value]):i}),i.name.walk(s),a=r,!0;if(i instanceof vi){c(i);var r=a;return i.elements.forEach(function(e,n){return e instanceof Xi?c(e):(r&&(a=function(){return ce(ii,e,{expression:r(),property:ce(Li,e,{value:n})})}),void e.walk(s))}),i.rest&&(r&&(a=e.option("rests")&&function(){var e=r();return e instanceof di?ce(di,i,{elements:e.elements.slice(i.elements.length)}):i}),i.rest.walk(s)),a=r,!0}if(i instanceof _i){c(i);r=a;return i.properties.forEach(function(t){c(t),t.key instanceof Mn&&(m(o),t.key.walk(o),_(o)),r&&(a=function(){var e=t.key,n=ii;return"string"==typeof e&&(ir(e)?n=ti:e=J(e,t)),ce(n,t,{expression:r(),property:e})}),t.value.walk(s)}),i.rest&&(a=!1,i.rest.walk(s)),a=r,!0}return t(i,a,function(){for(var e=o.stack.length,n=0,t=s.stack.length-1;n<t;n++)o.stack.push(s.stack[n]);i.walk(o),o.stack.length=e}),!0});n.walk(s)}function o(i,e,r){var o=this;o.inlined=!1;var a=i.parent(),n=st(o)||ft(o),t=!1;o.walk(new nr(function(e){return n?t=!0:e instanceof Ot?n=!0:e instanceof nt&&e!==o||void 0})),t&&m(i),d(i,r,o);var s=!o.uses_arguments||i.has_directive("use strict");o.argnames.forEach(function(n,e){var t=a.args[e];T(i,r,n,function(){var e=o.argnames.indexOf(n),e=e<0?t:a.args[e];return(e=e instanceof ei&&e.expressions.length<2?e.expressions[0]:e)||ce(Ji,a)},u)});var f=o.rest;f&&T(i,r,f,r.option("rests")&&function(){return o.rest===f?ce(di,o,{elements:a.args.slice(o.argnames.length)}):f},u),ct(o,i);var c=i.safe_ids;return _(i),h(i,o),t||(i.safe_ids=c),!0;function u(e,n){var t=e.definition();n&&s&&void 0===t.fixed?(g(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[e]):t.fixed=!1}}function c(e){e._squeezed=!1,e._optimized=!1,delete e.fixed,e instanceof nt&&delete e._var_names}function n(t,i){return this.transform(new tr(function(e,n){return e instanceof Kt?((e=e.clone()).name=e.name.transform(this),e):e instanceof hi?(n(e=e.clone(),this),e):e instanceof mi?((e=e.clone()).value=e.value.transform(this),e):e.convert_symbol(t,i)}))}function t(e,n){e=ce(e,this,this);return n(e,this),e}function i(n,t){var i=new nr(function(e){return e instanceof Kt?(e.value.walk(t),e.name.walk(i),!0):e instanceof mi?(e.key instanceof Mn&&e.key.walk(t),e.value.walk(i),!0):n(e)});this.walk(i)}function r(e){return e(this)}function A(e){return e instanceof gt||e instanceof dt}function V(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}(ve=function(e,n){e.DEFMETHOD("reduce_vars",n)})(Mn,wn),ve(ui,function(r,e,o){var a=this,s=a.left,f=a.right,n=s instanceof hi||s instanceof Mi;switch(a.operator){case"=":return s.equivalent_to(f)&&!s.has_side_effects(o)?(f.walk(r),function e(n){{var t;n instanceof ti?e(n.expression):n instanceof ii?(e(n.expression),n.property.walk(r)):n instanceof Mi?(b(t=n.definition(),n),t.fixed&&(n.fixed=t.fixed,n.fixed.assigns?n.fixed.assigns.push(a):n.fixed.assigns=[a])):n.walk(r)}}(s),a.__drop=!0):n?(u(),!0):void S(s);case"&&=":case"||=":case"??=":return s.walk(r),m(r),n?u():(S(s),f.walk(r)),_(r),!0;default:if(!n)return void S(s);var t=s.definition();t.assignments++;var i=t.fixed;if(re(o,r,a,a,0))return void(t.fixed=!1);var c=y(r,t);return f.walk(r),c&&!s.in_arg&&w(r,t)?(b(t,s),g(r,t),t.single_use&&(t.single_use=!1),s.fixed=t.fixed=function(){return ce(fi,a,{operator:a.operator.slice(0,-1),left:x(s,i),right:a.right})},s.fixed.assigns=i&&i.assigns?i.assigns.slice():[],s.fixed.assigns.push(a)):(s.walk(r),t.fixed=!1),!0}function u(){f.walk(r),T(r,o,s,function(){return a.right},function(e,n,t){if(!(e instanceof Mi))return S(e),void t();var i=e.definition();i.assignments++,n&&!re(o,r,a,f,0,k(f),un(r,i))&&!e.in_arg&&w(r,i)?(b(i,e),g(r,i),i.single_use&&s instanceof hi&&(i.single_use=!1),r.loop_ids[i.id]=r.in_loop,E(r,i,e.scope,a,f,0,1),e.fixed=i.fixed=n,e.fixed.assigns=[a]):(t(),i.fixed=!1)})}}),ve(fi,function(e){if(he[this.operator])return this.left.walk(e),m(e),this.right.walk(e),_(e),!0}),ve(Rn,function(n,e,t){this.variables.each(function(e){a(n,t,e)})}),ve(Qt,function(n,e){n.find_parent(nt).may_call_this();var t=this.expression;if(t instanceof ot){var i=pe(this);return this.args.forEach(function(e){e.walk(n),e instanceof ri&&(i=!1)}),i&&(t.reduce_vars=o),t.walk(n),i&&delete t.reduce_vars,!0}if(t instanceof Mi){var r=t.definition();if("Call"==this.TYPE&&n.in_boolean_context()&&r.bool_fn++,r.fixed instanceof mt){r=s(n,r);if(r)return e(),r.walk(n),!0}}else"Call"==this.TYPE&&t instanceof ui&&"="==t.operator&&t.left instanceof Mi&&n.in_boolean_context()&&t.left.definition().bool_fn++}),ve(wt,function(n,e,t){var i,r,o=this;return o.variables.each(function(e){a(n,t,e)}),o.extends&&o.extends.walk(n),o.name&&(i=o.name.definition(),((r=n.parent())instanceof Wt||r instanceof Gt)&&(i.single_use=!1),w(n,i,!0)?(g(n,i),n.loop_ids[i.id]=n.in_loop,i.fixed=function(){return o},i.fixed.assigns=[o],Ge(i)||(i.single_use=!1)):i.fixed=!1),o.properties.filter(function(e){return c(e),e.key instanceof Mn&&e.key.walk(n),e.value}).forEach(function(e){e.static&&(e.value instanceof it||!e.value.contains_this())?e.value.walk(n):(m(n),e.value.walk(n),_(n))}),!0}),ve(ci,function(e){return this.condition.walk(e),m(e),this.consequent.walk(e),_(e),m(e),this.alternative.walk(e),_(e),!0}),ve(Kt,function(e){return this.name.walk(e),m(e),this.value.walk(e),_(e),!0}),ve(Jn,function(e){var n=e.in_loop;return e.in_loop=this,m(e),this.body.walk(e),Ue(this,e.parent())&&(_(e),m(e)),this.condition.walk(e),_(e),e.in_loop=n,!0}),ve(Kn,function(n,e,t){this.variables.each(function(e){a(n,t,e)}),this.init&&this.init.walk(n);var i=n.in_loop;return n.in_loop=this,m(n),this.condition&&this.condition.walk(n),this.body.walk(n),this.step&&(Ue(this,n.parent())&&(_(n),m(n)),this.step.walk(n)),_(n),n.in_loop=i,!0}),ve(Qn,function(n,e,t){this.variables.each(function(e){a(n,t,e)}),this.object.walk(n);var i=n.in_loop;n.in_loop=this,m(n);var r=this.init;return r instanceof Rt?r.definitions[0].name.mark_symbol(function(e){e instanceof Si&&((e=e.definition()).assignments++,e.fixed=!1)},n):r instanceof hi||r instanceof Mi?r.mark_symbol(function(e){var n;e instanceof Mi&&(b(n=e.definition(),e),n.assignments++,e.is_immutable()||(n.fixed=!1))},n):r.walk(n),this.body.walk(n),_(n),n.in_loop=i,!0}),ve(Ft,function(e){return this.condition.walk(e),m(e),this.body.walk(e),_(e),this.alternative&&(m(e),this.alternative.walk(e),_(e)),!0}),ve(Vn,function(e){return m(e),this.body.walk(e),_(e),!0}),ve(it,function(e,n,t){var i=this;return i.inlined=!1,m(e),d(e,t,i),n(),_(e),i.name&&E(e,i.name.definition(),i,i.name,i,0,1),h(e,i),!0}),ve(mt,function(e,n,t){var i=this.name.definition(),r=e.parent();return(r instanceof Wt||r instanceof Gt)&&(i.single_use=!1),e.defun_visited[i.id]||e.defun_ids[i.id]!==e.safe_ids||(e.defun_visited[i.id]=!0,this.inlined=!1,m(e),d(e,t,this),n(),_(e),h(e,this)),!0}),ve(Mt,function(n,e,t){this.variables.each(function(e){a(n,t,e)}),this.expression.walk(n);var i=!0;return this.body.forEach(function(e){e instanceof Pt||(e.expression.walk(n),i&&(i=!1,m(n)))}),i||_(n),Bn(this,n),!0}),ve(jt,function(e){return m(e),Bn(this,e),_(e),!0}),ve(Fi,function(){this.definition().fixed=!1}),ve(Ai,function(){this.definition().fixed=!1}),ve(Mi,function(e,n,t){var i,r,o,a=this.definition();b(a,this),1==a.references.length&&!a.fixed&&a.orig[0]instanceof zi&&(e.loop_ids[a.id]=e.in_loop),!1===a.fixed?(r=a.redefined())&&U(a.scope,this.scope)&&(r.single_use=!1):void 0!==a.fixed&&y(e,a)?a.fixed&&(this.in_arg&&a.orig[0]instanceof qi&&(this.fixed=a.scope),o=this.fixed_value(),(i=un(e,a))?a.recursive_refs++:!o||(r=a,!t.option("unused")||r.scope.pinned()||!1===r.single_use||r.references.length-r.recursive_refs!=1||ae(r)&&r.scope.uses_arguments)?a.single_use=!1:(a.in_loop=e.loop_ids[a.id]!==e.in_loop,a.single_use=v(o)&&!o.pinned()&&(!a.in_loop||e.parent()instanceof Qt)||!a.in_loop&&a.scope===this.scope.resolve()&&o.is_constant_expression()),re(t,e,this,o,0,k(o),i)&&(a.single_use?a.single_use="m":a.fixed=!1),a.fixed&&e.loop_ids[a.id]!==e.in_loop&&(a.cross_loop=!0),E(e,a,this.scope,this,o,0,1)):a.fixed=!1,this.fixed||(this.fixed=a.fixed),!(a.fixed instanceof mt)||(o=e.parent())instanceof Qt&&o.expression===this||(a=s(e,a))&&a.walk(e)}),ve(tt,function(n,e,t){return this.globals.each(function(e){a(n,t,e)}),m(n),d(n,t,this),e(),_(n),h(n,this),!0}),ve(It,function(n,e,t){return this.variables.each(function(e){a(n,t,e)}),m(n),Bn(this,n),_(n),this.bcatch&&(m(n),this.bcatch.walk(n),_(n)),this.bfinally&&this.bfinally.walk(n),!0}),ve(oi,function(e,n){var t=this;if(ar[t.operator]){var i=t.expression;if(i instanceof Mi){var r=i.definition();r.assignments++;var o=r.fixed;return y(e,r)&&!i.in_arg&&w(e,r)?(b(r,i),g(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return ce(fi,t,{operator:t.operator.slice(0,-1),left:ce(ai,t,{operator:"+",expression:x(i,o)}),right:ce(Li,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof ai?i.fixed=r.fixed:(i.fixed=function(){return ce(ai,t,{operator:"+",expression:x(i,o)})},i.fixed.assigns=o&&o.assigns)):(i.walk(e),r.fixed=!1),!0}S(i)}}),ve(Vt,function(i,e,n){var r=this;if(r.value)r.value.walk(i);else if(!(i.parent()instanceof Lt))return;return T(i,n,r.name,function(){return r.value||ce(Ji,r)},function(e,n){var t=e.definition();n&&w(i,t,!0)?(g(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[r],(e instanceof Ti&&t.redefined()||!se(e)&&!Ge(t))&&(t.single_use=!1)):t.fixed=!1}),!0}),ve(Xn,function(e,n){var t=e.in_loop;return e.in_loop=this,m(e),n(),_(e),e.in_loop=t,!0}),tt.DEFMETHOD("reset_opt_flags",function(t){var i=new nr(t.option("reduce_vars")?function(e,n){return c(e),e.reduce_vars(i,n,t)}:c);i.defun_ids=Object.create(null),i.defun_visited=Object.create(null),i.in_loop=null,i.loop_ids=Object.create(null),i.safe_ids=Object.create(null),this.walk(i)}),Ei.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return e&&((e=this.fixed?this.fixed:e)instanceof Mn?e:e())}),Mi.DEFMETHOD("is_immutable",function(){var e=this.redef||this.definition();return 1==e.orig.length&&e.orig[0]instanceof qi}),Mn.DEFMETHOD("convert_symbol",wn),Kt.DEFMETHOD("convert_symbol",n),hi.DEFMETHOD("convert_symbol",n),Si.DEFMETHOD("convert_symbol",t),Mi.DEFMETHOD("convert_symbol",t),Kt.DEFMETHOD("mark_symbol",i),hi.DEFMETHOD("mark_symbol",i),Si.DEFMETHOD("mark_symbol",r),Mi.DEFMETHOD("mark_symbol",r),Mn.DEFMETHOD("match_symbol",function(e){return e(this)}),hi.DEFMETHOD("match_symbol",function(n,t){var i=!1,r=new nr(function(e){return!!i||(e instanceof Kt?t?(e.name.walk(r),!0):i=!0:e instanceof mi?!t&&e.key instanceof Mn?i=!0:(e.value.walk(r),!0):n(e)?i=!0:void 0)});return this.walk(r),i});var W=$n("Infinity NaN undefined");function fe(e,n){if(e instanceof Pi)return!0;if(e instanceof ni){if((e=e.expression)instanceof Mi){if(e.is_immutable())return!1;e=e.fixed_value()}return e?!!e.is_constant()||fe(e,n):!0}if(e instanceof Mi){if(e.is_immutable())return!0;e=e.definition();return n.exposed(e)&&W[e.name]}return!1}function ce(e,n,t){return t=t||{},n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function G(e,n){return 1==n.length?n[0]:ce(ei,e,{expressions:n.reduce(D,[])})}function J(e,n){switch(typeof e){case"string":return ce(Bi,n,{value:e});case"number":return isNaN(e)?ce(Gi,n):isFinite(e)?1/e<0?ce(ai,n,{operator:"-",expression:ce(Li,n,{value:-e})}):ce(Li,n,{value:e}):e<0?ce(ai,n,{operator:"-",expression:ce(Ki,n)}):ce(Ki,n);case"boolean":return ce(e?er:Zi,n);case"undefined":return ce(Ji,n);default:if(null===e)return ce(Wi,n,{value:null});if(e instanceof RegExp)return ce(Vi,n,{value:e});throw new Error(Dn("Can't handle constant of type: {type}",{type:typeof e}))}}function X(e,n){return n instanceof ni||Z(n)&&"eval"==n.name}function ue(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&X(0,i):n instanceof Yi?r=n.tag===t&&X(0,i):n instanceof ai&&(r="delete"==n.operator||"typeof"==n.operator&&Z(i)),r?G(t,[ce(Li,t,{value:0}),i]):i}function D(e,n){return n instanceof ei?e.push.apply(e,n.expressions):e.push(n),e}function O(e){return e instanceof Bt||e instanceof xt||e instanceof Lt}function $(t){if(t instanceof mt){var e=t.name.definition();return e.scope===t.name.scope||zn(e.references,function(e){var n=e.scope;do{if(n===t.name.scope)return 1}while(n=n.parent_scope)})}return!O(t)}function z(e){if(null===e)return[];if(e instanceof Un)return zn(e.body,$)?e.body:[e];if(e instanceof In)return[];if(Hn(e))return[e];throw new Error("Can't convert thing to statement array")}function K(e){return null===e||(e instanceof In||e instanceof Un&&0==e.body.length)}function q(e){return zn(e.body,function(e){return K(e)||e instanceof bt||e instanceof Ut&&zn(e.definitions,function(e){return!e.value})})}function C(e){return e instanceof Wn&&e.body instanceof Un?e.body:e}function le(e){for(;e instanceof ni;)e=e.expression;return e}function Q(e){if("Call"!=e.TYPE)return!1;for(;(e=e.expression)instanceof ni;);return e instanceof ot?!at(e):Q(e)}function pe(e){var n=e.expression;if(n.name)return!1;if(!(e instanceof Zt))return!0;var t=!1;return n.walk(new nr(function(e){return!!t||(e instanceof Hi?t=!0:e instanceof nt&&e!==n||void 0)})),!t}function Z(e){return e instanceof Mi&&e.definition().undeclared}var u=$n("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet");function F(e){return zn(e.definitions,function(e){return!e.value})}function M(e){return e instanceof bt||e instanceof Ut&&F(e)}function j(e,c){var ee,ne,te;!function(){var e=c.self(),n=0;do{if(e instanceof Ht)c.parent(n).bfinally||n++;else if(e instanceof Yt)n++;else if(e instanceof Wn)ee=!0;else{if(e instanceof nt){te=e;break}e instanceof It&&(ne=ne||e)}}while(e=c.parent(n++))}();for(var ie,n=10;ie=!1,function e(n){var t=[];for(var i=0;i<n.length;){var r=n[i];if(r instanceof Un&&zn(r.body,$))ie=!0,e(r.body),[].splice.apply(n,[i,1].concat(r.body)),i+=r.body.length;else{if(r instanceof Nn){if(bn(r.value,t)){ie=!0,n.splice(i,1);continue}t.push(r.value)}r instanceof In?(ie=!0,n.splice(i,1)):i++}}}(e),c.option("dead_code")&&function(n,t){for(var e,i=t.self(),r=0,o=0,a=n.length;r<a;r++){var s,f=n[r];if(f instanceof zt?(s=t.loopcontrol_target(f),f instanceof qt&&!(s instanceof Wn)&&C(s)===i||f instanceof Ct&&C(s)===i?f.label&&On(f.label.thedef.references,f):n[o++]=f):n[o++]=f,Ae(f)){e=n.slice(r+1);break}}n.length=o,ie=o!=a,e&&e.forEach(function(e){P(t,e,n)})}(e,c),c.option("if_return")&&function(i,r){for(var o=r.self(),e=r.parent(),t=v(function(e){return e instanceof it}),n=t&&e&&"Call"==e.TYPE,a=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof Ft&&i.body instanceof Ot&&1<++n)return!0}return!1}(i),s=i.length;0<=--s;){var f=i[s],c=w(s),u=i[c];if(t&&!u&&f instanceof Ot){if(!f.value){ie=!0,i.splice(s,1);continue}var l=f.value.tail_node();if(l instanceof ai&&"void"==l.operator){ie=!0,l===f.value?d=l.expression:(d=f.value.clone()).expressions[d.length-1]=l.expression,i[s]=ce(Yn,f,{body:d});continue}}if(f instanceof Ft){var p=Ae(f.body);if(g(p)){p.label&&On(p.label.thedef.references,p),ie=!0,(f=f.clone()).condition=f.condition.negate(r);var d=y(f.body,p);f.body=ce(Un,f,{body:z(f.alternative).concat(b())}),f.alternative=ce(Un,f,{body:d}),i[s]=f,i[s]=f.transform(r);continue}if(p&&!f.alternative&&f.body instanceof Un&&u instanceof At){var h=f.condition.negate(r);if(h.print_to_string().length<=f.condition.print_to_string().length){ie=!0,(f=f.clone()).condition=h,i[c]=f.body,f.body=u,i[s]=f,i[s]=f.transform(r);continue}}var h=Ae(f.alternative);if(g(h)){h.label&&On(h.label.thedef.references,h),ie=!0,(f=f.clone()).body=ce(Un,f.body,{body:z(f.body).concat(b())});d=y(f.alternative,h);f.alternative=ce(Un,f.alternative,{body:d}),i[s]=f,i[s]=f.transform(r);continue}r.option("typeofs")&&(p&&!h&&Ve(f.condition,null,ce(Un,o,{body:i.slice(s+1)})),!p&&h&&Ve(f.condition,ce(Un,o,{body:i.slice(s+1)})))}f instanceof Ft&&f.body instanceof Ot&&(p=f.body.value,h=f.body.in_bool||u instanceof Ot&&u.in_bool,p||f.alternative||!(t&&!u||u instanceof Ot&&!u.value)?!f.alternative&&u instanceof Ot?(ie=!0,(f=f.clone()).alternative=u,i.splice(s,1,f.transform(r)),i.splice(c,1)):f.alternative||u||!t||!(h||p&&a)?(p=i[function(e){for(var n=e;0<=--n&&M(i[n]););return n}(s)],r.option("sequences")&&t&&!f.alternative&&(!p&&n||p instanceof Ft&&p.body instanceof Ot)&&w(c)==i.length&&u instanceof Yn&&(ie=!0,(f=f.clone()).alternative=ce(Un,u,{body:[u,ce(Ot,u,{value:null})]}),i.splice(s,1,f.transform(r)),i.splice(c,1))):(ie=!0,(f=f.clone()).alternative=ce(Ot,f,{value:null}),i.splice(s,1,f.transform(r))):(ie=!0,i[s]=ce(Yn,f.condition,{body:f.condition})))}function v(e){var n,t=o,i=0;do{do{if(e(t))return!0}while((t=r.parent(i++))instanceof Ft&&(n=t))}while((t instanceof Un||t instanceof nt)&&function(e,n){var t=e.lastIndexOf(n);if(!(t<0)){for(;++t<e.length;)if(!M(e[t]))return;return 1}}(t.body,n))}function m(n){return v(function(e){return e===n})}function _(e){if(e instanceof Ot)return t&&(!(n=e.value)||n instanceof ai&&"void"==n.operator);if(e instanceof zt){var n=r.loopcontrol_target(e);return e instanceof Ct?m(C(n)):!(n instanceof Wn)&&m(n)}}function g(e){if(_(e)){for(var n=i.length;--n>s;){var t=i[n];if(t instanceof xt){if(t.name.definition().preinit)return}else if((t instanceof Bt||t instanceof Lt)&&!zn(t.definitions,function(e){return!e.name.match_symbol(function(e){return e instanceof Si&&e.definition().preinit})}))return}return 1}}function b(){var n=[],t=!1,e=i.splice(s+1).filter(function(e){return e instanceof mt?(n.push(e),!1):(O(e)&&(t=!0),!0)});return[].push.apply(t?e:i,n),e}function y(e,n){for(var t,e=z(e),i=e;(t=i[i.length-1])!==n;)i=t.body;return i.pop(),n.value&&i.push(ce(Yn,n.value,{body:n.value.expression})),e}function w(e){for(var n=e+1;n<i.length&&M(i[n]);n++);return n}}(e,c),0<c.sequences_limit&&(function(n,e){if(!(n.length<2)){for(var t=[],i=0,r=0,o=n.length;r<o;r++){var a,s=n[r];s instanceof Yn?(t.length>=e.sequences_limit&&f(),a=s.body,(a=0<t.length?a.drop_side_effect_free(e):a)&&D(t,a)):(M(s)||f(),n[i++]=s)}f(),(n.length=i)!=o&&(ie=!0)}function f(){var e;t.length&&(e=G(t[0],t),n[i++]=ce(Yn,e,{body:e}),t=[])}}(e,c),function(e,n){function t(e){r--,ie=!0;var n=i.body;return G(n,[n,e])}for(var i,r=0,o=0;o<e.length;o++){var a,s=e[o];if(i&&(s instanceof Dt?!s.value&&A(te)||(s.value=t(s.value||ce(Ji,s)).optimize(n)):s instanceof Kn?s.init instanceof Rt||(a=!1,i.body.walk(new nr(function(e){return!!(a||e instanceof nt)||(e instanceof fi&&"in"==e.operator?a=!0:void 0)})),a||(s.init?s.init=t(s.init):(s.init=i.body,r--,ie=!0))):s instanceof Zn?O(s.init)||(s.object=t(s.object)):s instanceof Ft?s.condition=t(s.condition):(s instanceof Mt||s instanceof et)&&(s.expression=t(s.expression))),n.option("conditionals")&&s instanceof Ft){var f=[],c=p(s.body,f),u=p(s.alternative,f);if(!1!==c&&!1!==u&&0<f.length){var l=f.length;f.push(ce(Ft,s,{condition:s.condition,body:c||ce(In,s.body),alternative:u})),f.unshift(r,1),[].splice.apply(e,f),o+=l,r+=l+1,ie=!(i=null);continue}}e[r++]=s,i=s instanceof Yn?s:null}e.length=r}(e,c)),c.option("join_vars")&&function(e){for(var r,n=0,t=-1;n<e.length;n++){var i,o,a=e[n],s=e[t];if(a instanceof Rt)s&&s.TYPE==a.TYPE?(s.definitions=s.definitions.concat(a.definitions),ie=!0):r&&r.TYPE==a.TYPE&&F(a)?(r.definitions=r.definitions.concat(a.definitions),ie=!0):a instanceof Ut?((o=d(s,a))?(o.length&&(s.body=G(s,o),t++),ie=!0):t++,e[t]=r=a):e[++t]=a;else{if(a instanceof Dt)a.value=f(a.value);else if(a instanceof Kn)if(o=l(s,a.init))ie=!0,a.init=o.length?G(a.init,o):null;else{if(s instanceof Ut&&(!a.init||a.init.TYPE==s.TYPE)){a.init&&(s.definitions=s.definitions.concat(a.init.definitions)),r=a.init=s,e[t]=c(a),ie=!0;continue}if(r&&a.init&&r.TYPE==a.init.TYPE&&F(a.init))r.definitions=r.definitions.concat(a.init.definitions),a.init=null,ie=!0;else if(a.init instanceof Ut&&(r=a.init,o=d(s,a.init))){if(ie=!0,0==o.length){e[t]=c(a);continue}s.body=G(s,o)}}else if(a instanceof Qn)r&&r.TYPE==a.init.TYPE&&(i=r.definitions.slice(),a.init=a.init.definitions[0].name.convert_symbol(Mi,function(e,n){i.push(ce(Vt,n,{name:n,value:null})),n.definition().references.push(e)}),r.definitions=i,ie=!0),a.object=f(a.object);else if(a instanceof Ft)a.condition=f(a.condition);else if(a instanceof Yn){if(o=l(s,a.body)){if(ie=!0,!o.length)continue;a.body=G(a.body,o)}}else(a instanceof Mt||a instanceof et)&&(a.expression=f(a.expression));e[++t]=r?c(a):a}}function f(e){var n=l(s,e,1);if(!n)return e;ie=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),G(e,n)}function c(e){return e.transform(new tr(function(e,n,t){if(e instanceof Rt){if(r===e)return e;if(r.TYPE!=e.TYPE)return e;var i=this.parent();return i instanceof Qn&&i.init===e?e:F(e)?(r.definitions=r.definitions.concat(e.definitions),ie=!0,i instanceof Kn&&i.init===e?null:t?Tn.skip:ce(In,e)):e}return!(e instanceof Wt)&&!(e instanceof nt)&&Hn(e)?void 0:e}))}e.length=t+1}(e),c.option("collapse_vars")&&function(o,p){if(te.pinned())return;var d,i,r=Object.create(null),h=[],a=Object.create(null),s=o.length,c=new tr(function(e,n){if(C)return e;if(!q)return e!==u[l]?e:++l<u.length?I(e,c):(q=!0,(_=(m?V:L)(e,0))===e&&(C=!0),e);var t=c.parent();if(function(e,n){if(e===O)return!0;if(n instanceof Kn&&e!==n.init)return!0;if(e instanceof ui)return"="!=e.operator&&b.equivalent_to(e.left);if(e instanceof Qt)return b instanceof ni&&(!!b.equivalent_to(e.expression)&&!(O instanceof ot&&!O.contains_this()));if(e instanceof wt)return!p.has_directive("use strict");if(e instanceof Pn)return!0;if(e instanceof bt)return k&&b.name===e.name.name;if(e instanceof mi)return e.key instanceof Mn;if(e instanceof Gn)return!0;if(e instanceof zt)return!0;if(e instanceof Mi){if(e.is_declared(p)){if(e.fixed_value())return!1;if(se(e))return!(n instanceof ni&&n.expression===e)&&oe(e.definition())}else if(H(e,n))return!1;return z?x=!1:!0}return e instanceof It||e instanceof et}(e,t))return C=!0,e;if(!g&&Y(e,t)&&(g=t),e.single_use&&t instanceof Vt&&t.value===e)return e;if(!(e instanceof Si)&&(w&&b.equivalent_to(e)||x&&(i=x(e,this)))){if(!j||g&&(i||!D||!z))return i||m||(C=!0),e;if(ur(e,t))return m&&!i&&(M=!0,F++),e;if(m)return i||F++,e;if(F++,ie=C=!0,Mn.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),"Binary"==v.TYPE)return ce(ui,v,{operator:"=",left:v.right.left,right:ce(ci,v,{condition:"&&"==v.operator?v.left:v.left.negate(p),consequent:v.right.right,alternative:e})});if(v instanceof si)return b instanceof Mi&&(b.definition().fixed=!1),ce(ai,v,v);if(v instanceof Vt){var i=v.name.definition();return i.references.length-i.replaced!=1||p.exposed(i)?ce(ui,v,{operator:"=",left:ce(Mi,v.name,v.name),right:v.value}):(i.replaced++,ue(0,t,e,v.value))}for(var r=v;r.write_only&&(r.write_only=!1,r instanceof ui);)r=r.right;return v}if((R(e,t)||E(e))&&(_=e)instanceof nt&&(C=!0),e instanceof rt){var o=j;return j=!1,n(e,c),j=o,N(e)}if(e instanceof hi){o=j;return j=!1,n(e,c),j=o,N(e)}if(e instanceof Kt){e.name=e.name.transform(c);o=j;return j=!1,e.value=e.value.transform(c),j=o,N(e)}if(!(e instanceof Rn)||e instanceof nt||e.variables&&e.variables.all(function(e){return!A.has(e.name)}))return I(e,c);o=j;return j=!1,I(e,c)||n(e,c),j=o,N(e)},N),f=new tr(function(e){if(C)return e;if(!q){if(e!==u[l])return e;switch(l++,u.length-l){case 0:if(q=!0,M)return e;if(e!==v)return e;if(e instanceof Vt)return e;P.replaced++;var n=f.parent();return n instanceof ei&&n.tail_node()!==e?(m.replaced++,Tn.skip):O;case 1:if(!M&&e.body===v)return q=!0,P.replaced++,m.replaced++,null;default:return I(e,f)}}if(e instanceof Mi&&e.name==P.name){if(--F||(C=!0),ur(e,f.parent()))return e;P.replaced++;var t=O.clone();return m.references.push(t),t}return e instanceof Pt||e instanceof nt?e:void 0},X);for(;0<=--s;){0==s&&p.option("unused")&&function(){var e,n,r=p.self();if(r instanceof ot&&!ft(r)&&!r.uses_arguments&&!r.pinned()&&(e=p.parent())instanceof Qt&&e.expression===r&&pe(e)&&zn(e.args,function(e){return!(e instanceof ri)})){var o=p.has_directive("use strict");o&&!bn(o,r.body)&&(o=!1);for(var a=st(r)?function(e){return e instanceof Ei&&"await"==e.name}:function(e){return e instanceof li&&!t.find_parent(nt)},s=null,t=new nr(function(e,n){if(!l)return!0;if(a(e)||e instanceof pi)return!(l=null);if(e instanceof Pi&&(o||!s))return!(l=null);if(e instanceof Mi&&r.variables.has(e.name)){var t=e.definition().scope;if(t!==te)for(;t=t.parent_scope;)if(t===te)return!0;l=null}if(e instanceof nt&&!at(e)){var i=s;return s=e,n(),s=i,!0}}),i=(d=e.args.slice()).length,f=Object.create(null),c=r.argnames.length;0<=--c;){var u=r.argnames[c],l=d[c];if(u instanceof Kt&&(n=u.value,u=u.name,d[i+c]=n),u instanceof hi){if(!function n(e,t){if(!t)return!(e instanceof Ei);if(e instanceof Kt)return t.has_side_effects(p)||e.value.has_side_effects(p)||n(e.name,de(t)&&e.value);if(e instanceof hi)return!(!e.rest||!n(e.rest))||(e instanceof vi?!(t instanceof di||t.is_string(p))||!zn(e.elements,function(e){return!n(e)}):e instanceof _i?!t.is_defined(p)||!zn(e.properties,function(e){return!(e instanceof Mn&&e.has_side_effects(p))&&!n(e.value)}):void 0)}(u,l))continue;h.length=0;break}u.name in f||(f[u.name]=!0,(l=n?!l||de(l)?n:null:l)||n?l instanceof it&&l.pinned()?l=null:l&&l.walk(t):l=ce(Ji,u).transform(p),l&&((u=ce(Vt,u,{name:u,value:l})).name_index=c,u.arg_index=n?i+c:c,h.unshift([u])))}}}();var u=[];for(B(o[s]);0<h.length;){u=h.pop();var l=0,v=u[u.length-1],m=null,_=null,g=null,b=function(e){if(e instanceof ui){var n=e.left;return!("="==e.operator&&n instanceof Mi&&(t=n.definition()).references[0]===n)||te.uses_arguments&&ae(t)||p.exposed(t)||1<(i=t.references.length-t.replaced)&&G(e.right),n}if(e instanceof fi)return e.right.left;if(e instanceof oi)return e.expression;if(e instanceof Vt){var t=e.name.definition();if(!t.const_redefs&&(bn(e.name,t.orig)&&(!te.uses_arguments||!ae(t)))){var n=t.orig.length-t.eliminated-(a[t.name]||0),i=t.references.length-t.replaced-(r[t.name]||0);return 1<n&&!(e.name instanceof $i)?(G(e.value),ce(Mi,e.name,e.name)):G(e.value)||1==i&&!p.exposed(t)?ce(Mi,e.name,e.name):void 0}}else;}(v),y=b&&b.has_side_effects(p),w=b&&!y&&!fe(b,p),x=function(n){if(!(n instanceof ui&&n.right.single_use)){for(var t,i=Object.create(null),e=new nr(function(e){e instanceof Mi&&(i[e.definition().id]=!0)});n instanceof ui&&"="==n.operator;)n.left.walk(e),n=n.right;if(n instanceof Pi)return o;if(n instanceof Mi){var r=n.evaluate(p);return r===n?o:J(r,o)}if(n.is_truthy())return J(!0,xn);if(n.is_constant()){r=n.evaluate(p);if(!(r instanceof Mn))return J(r,o)}return b instanceof Mi?!!function e(n){if(n instanceof di)return!1;if(n instanceof fi&&he[n.operator])return e(n.left)&&e(n.right);if(n instanceof Qt)return!1;if(n instanceof ci)return e(n.consequent)&&e(n.alternative);if(n instanceof gi)return!1;return!n.has_side_effects(p)}(n)&&(n.walk(new nr(function(e){if(t)return!0;e instanceof Mi&&i[e.definition().id]&&(t=!0)})),!t&&o):!1}function o(e){return n.equivalent_to(e)}}(v);if(w||x){var k=v.name instanceof $i,E=xn;if(v.may_throw(p)){if(k&&st(te))continue;E=ne?function(e){return e.has_side_effects(p)}:Z}var S=!1,T=!1,A=function(t){var i=new qn;t instanceof Vt&&i.add(t.name.name,b);var r=te.uses_arguments&&!p.has_directive("use strict"),o=te instanceof tt,a=new nr(function(e){var n;e instanceof Mi?n=e.fixed_value()||e:e instanceof Pi&&(n=e),n&&i.add(e.name,re(p,a,e,n,0)),r&&e instanceof ii&&(te.each_argname(function(e){p.option("reduce_vars")&&!e.definition().assignments||i.add(e.name,!0)}),r=!1),o&&("Call"==e.TYPE?T||((n=e.expression)instanceof ni||n instanceof ot&&!n.contains_this()||(T=!0)):e instanceof ni&&function e(n){if(n instanceof Mi&&!(n=n.fixed_value()))return!0;if(n instanceof ui)return"="==n.operator&&e(n.right);return n instanceof ni||n instanceof Pi}(e.expression)&&(e!==b||t instanceof oi?S=!0:T=!0))});return t.walk(a),i}(v),D=function(e){var n=le(e);return n instanceof Mi&&n.definition().scope===te&&!(ee&&(A.has(n.name)&&A.get(n.name)[0]!==e||v instanceof oi||v instanceof ui&&"="!=v.operator))}(b),O=function(e){if(e instanceof ui)return e.right;if(e instanceof fi){var n=e.clone();return n.right=e.right.right,n}return e instanceof Vt?e.value:void 0}(v);y=y||!(v instanceof oi)&&O.has_side_effects(p);var $=ne||!D?function(e){return e instanceof hi}:xn,z=function(e){if(e instanceof oi)return!1;if(y)return!1;if(m)return!0;if(!(b instanceof Mi))return!1;var n;if(e instanceof Vt)n=1;else{if("="!=e.operator)return!1;n=2}e=b.definition();return e.references.length-e.replaced==n}(v),q=k,C=!1,F=0,M=!1,j=!d||!q;if(!j){for(var e=v.arg_index+1;!C&&e<d.length;e++)d[e]&&d[e].transform(c);j=!0}for(var n=s;!C&&n<o.length;n++)o[n].transform(c);if(m){var P=b.definition(),t=P.references.length-P.replaced;if(v instanceof ui&&t--,!F||F<t){h.push(u),i=!0;continue}C=!1,l=0,q=k;for(n=s;!C&&n<o.length;n++)o[n].transform(f)||o.splice(n--,1);v!==u[u.length-1]?F=!1:v instanceof Vt&&(F=!p.exposed(P)&&P.references.length==P.replaced),m.last_ref=!1,m.single_use=!1}F&&!function(e){var n=e.name_index;if(0<=n){var t=te.argnames[n];return t instanceof Kt?(t.value=ce(Li,t,{value:0}),t.name.definition().fixed=!1):(e=p.parent().args)[n]&&(e[n]=ce(Li,e[n],{value:0}),t.definition().fixed=!1),!0}var i=u.length-1;u[i-1].body===u[i]&&i--;var r=new tr(function(e,n,t){return q||e!==u[l]?e:++l<=i?I(e,r):(q=!0,e instanceof Vt?(a[e.name.name]=(a[e.name.name]||0)+1,m&&m.replaced++,(e=e.clone()).value=null,e):t?Tn.skip:null)},X);return q=C=!1,l=0,o[s].transform(r)}(v)&&o.splice(s,1)}}}function N(e){return C||(_===e&&(C=!0),g===e&&(g=null)),e}function I(e,n){if(!(e instanceof Rn))return e instanceof Et&&!e.static?(e.key instanceof Mn&&(e.key=e.key.transform(n)),e):void 0;if(e instanceof nt)return e;if(e instanceof Qn)return e.object=e.object.transform(n),C=!0,e;if(e instanceof Mt){e.expression=e.expression.transform(n);for(var t=0;!C&&t<e.body.length;t++){var i=e.body[t];if(i instanceof Nt){if(!q){if(i!==u[l])continue;l++}if(i.expression=i.expression.transform(n),!z)break;x=!1}}return C=!0,e}}function H(e,n){return n instanceof ui?"="==n.operator&&n.left===e:n instanceof Kt?n.name===e:n instanceof vi||n instanceof mi&&n.value===e}function Y(e,n){return n instanceof ui?n.left!==e&&he[n.operator.slice(0,-1)]:n instanceof fi?n.left!==e&&he[n.operator]:n instanceof Nt?n.expression!==e:(n instanceof ci||n instanceof Ft)&&n.condition!==e}function R(e,n){if(e instanceof li)return 1;if("Binary"==e.TYPE)return"in"==e.operator&&!sn(e.right);if(e instanceof Qt){var t=e.expression;if(t instanceof Mi&&(f=t.definition(),t=t.fixed_value()),!(t instanceof it))return 1;if(f&&un(p,f))return 1;if(t.collapse_scanning)return;t.collapse_scanning=!0;var i=j;j=!1;var r=_,o=g;if(zn(t.argnames,function(e){if(e instanceof Kt){if(e.value.transform(c),C)return;e=e.name}return!(e instanceof hi)}))if(at(t)&&t.value)t.value.transform(c);else for(var a=0;!C&&a<t.body.length;a++){var s=t.body[a];if(s instanceof Ot){s.value&&s.value.transform(c);break}s.transform(c)}else C=!0;return(g=o,_=r,j=i,delete t.collapse_scanning,C)?(C=!1,1):void 0}if(e instanceof Dt){if(ne){if(ne.bfinally)return 1;if(ne.bcatch&&e instanceof $t)return 1}return y||b instanceof ni||Q(b)}if(e instanceof ht)return p.option("ie8")&&e.name&&A.has(e.name.name);if(e instanceof Pi)return K(e);if(e instanceof ni){i=e.expression;return y||i instanceof Mi&&oe(i.definition())||!m&&(ne||!D)&&i.may_throw_on_access(p)}if(e instanceof ri)return 1;if(e instanceof Mi){if(K(e))return!H(e,n);if(y&&Q(e))return 1;var f=e.definition();return(ne||f.scope.resolve()!==te)&&!se(e)}if(e instanceof Yi)return e.tag&&!pn(p,e.tag);if(e instanceof Vt)return $(e.name)||(e.value||n instanceof Lt)&&e.name.match_symbol(function(e){return e instanceof Si&&(A.has(e.name)||y&&Q(e))},!0);if(e instanceof pi)return 1;e=ur(e.left,e);return e&&(e instanceof ni||($(e)||e.match_symbol(function(e){return e instanceof Mi&&(A.has(e.name)||S&&p.exposed(e.definition()))},!0)))}function B(e,n){var t,i;u.push(e),e instanceof di?e.elements.forEach(function(e){B(e,n)}):e instanceof ui?(e.left instanceof hi||h.push(u.slice()),B(e.left),B(e.right),e.left instanceof Mi&&(r[e.left.name]=(r[e.left.name]||0)+1)):e instanceof li?B(e.expression,n):e instanceof fi?(i=he[e.operator],n&&i&&"??"!=e.operator&&e.right instanceof ui&&"="==e.right.operator&&!(e.right.left instanceof hi)&&h.push(u.slice()),B(e.left,!i&&n),B(e.right,n)):e instanceof Qt?(B(e.expression),e.args.forEach(B)):e instanceof Nt?B(e.expression):e instanceof ci?(B(e.condition),B(e.consequent,n),B(e.alternative,n)):e instanceof Rt?e.definitions.forEach(B):e instanceof ti?B(e.expression):e instanceof Gn?(B(e.condition),e.body instanceof Ln||B(e.body)):e instanceof Dt?e.value&&B(e.value):e instanceof Kn?(e.init&&B(e.init,!0),e.condition&&B(e.condition),e.step&&B(e.step,!0),e.body instanceof Ln||B(e.body)):e instanceof Qn?(B(e.object),e.body instanceof Ln||B(e.body)):e instanceof Ft?(B(e.condition),e.body instanceof Ln||B(e.body),!e.alternative||e.alternative instanceof Ln||B(e.alternative)):e instanceof gi?e.properties.forEach(function(e){u.push(e),e.key instanceof Mn&&B(e.key),e instanceof yi&&B(e.value,n),u.pop()}):e instanceof ei?(t=e.expressions.length-(n?0:1),e.expressions.forEach(function(e,n){B(e,n<t)})):e instanceof Yn?B(e.body,!0):e instanceof ri?B(e.expression):e instanceof ii?(B(e.expression),B(e.property)):e instanceof Mt?(B(e.expression),e.body.forEach(B)):e instanceof oi?ar[e.operator]?h.push(u.slice()):B(e.expression):e instanceof Vt?(e.name instanceof Oi&&(e.value?(i=e.name.definition()).references.length>i.replaced&&h.push(u.slice()):a[e.name.name]=(a[e.name.name]||0)+1),e.value&&B(e.value)):e instanceof pi&&e.expression&&B(e.expression),u.pop()}function L(e,n){var t=c.parent(n);return t instanceof di||t instanceof ui||t instanceof li||t instanceof fi||t instanceof Qt||t instanceof Nt||t instanceof ci?e:t instanceof Rt?W(t,n+1):t instanceof Dt||t instanceof Ft||t instanceof Wn||t instanceof bi||t instanceof ni?e:t instanceof ei?(t.tail_node()===e?L:W)(t,n+1):t instanceof Yn?W(t,n+1):t instanceof ri||t instanceof Mt||t instanceof oi||t instanceof Vt||t instanceof pi?e:null}function U(e,n,t){for(var i;i=e,(e=c.parent(++t))instanceof ui&&e.operator.slice(0,-1)==n||e instanceof fi&&e.operator==n;);return i}function V(e,n){var t=c.parent(n);if(t instanceof di)return V(t,n+1);if(t instanceof ui)return E(t)||t.left.match_symbol(function(e){return e instanceof Mi&&(b.name==e.name||m.name==e.name)})?e:t.left!==e&&he[i=t.operator.slice(0,-1)]?U(t,i,n):V(t,n+1);if(t instanceof fi)return t.left!==e&&he[i=t.operator]?U(t,i,n):V(t,n+1);if(t instanceof Qt)return t;if(t instanceof Nt)return t.expression!==e?e:V(t,n+1);if(t instanceof ci)return t.condition!==e?e:V(t,n+1);if(t instanceof Rt)return W(t,n+1);if(t instanceof Jn)return e;if(t instanceof Dt)return W(t,n+1);if(t instanceof Kn)return t.init!==e&&t.condition!==e?e:V(t,n+1);if(t instanceof Qn)return t.init!==e?e:V(t,n+1);if(t instanceof Ft)return t.condition!==e?e:V(t,n+1);if(t instanceof bi){var i=c.parent(n+1);return zn(i.properties,function(e){return e instanceof yi})?V(i,n+2):i}return t instanceof ni?V(t,n+1):t instanceof ei?(t.tail_node()===e?V:W)(t,n+1):t instanceof Yn?W(t,n+1):t instanceof ri?V(t,n+1):t instanceof Mt?t.expression!==e?e:V(t,n+1):t instanceof oi?"delete"==t.operator?e:V(t,n+1):t instanceof Vt?t.name.match_symbol(function(e){return e instanceof Si&&(b.name==e.name||m.name==e.name)})?e:V(t,n+1):t instanceof Xn?t.condition!==e?e:V(t,n+1):t instanceof pi?V(t,n+1):null}function W(o,a){var s=c.parent(a);if(R(o,s))return o;if(Y(o,s))return o;if(s instanceof di)return W(s,a+1);if(s instanceof ui)return n(s.left);if(s instanceof li)return o;if(s instanceof fi)return W(s,a+1);if(s instanceof Qt)return W(s,a+1);if(s instanceof Nt)return W(s,a+1);if(s instanceof ci)return W(s,a+1);if(s instanceof Rt)return W(s,a+1);if(s instanceof Dt)return W(s,a+1);if(s instanceof Ft)return W(s,a+1);if(s instanceof Wn)return o;if(s instanceof bi){var e=c.parent(a+1);return zn(e.properties,function(e){return e instanceof yi})?W(e,a+2):e}if(s instanceof ni){e=s.expression;if(e===o)return W(s,a+1);e=le(e);if(!(e instanceof Mi))return W(s,a+1);e=A.get(e.name);return!e||zn(e,function(e){return!(e instanceof ni)})?W(s,a+1):o}return s instanceof ei||s instanceof Yn?W(s,a+1):s instanceof ri?o:s instanceof Mt||s instanceof oi?W(s,a+1):s instanceof Vt?n(s.name):s instanceof pi?o:null;function n(e){if(E(s))return o;if(e!==o&&e instanceof hi){var n=j;j=!1;var t=_,i=g,r=c.stack;if(c.stack=[s],e.transform(c),c.stack=r,g=i,_=t,j=n,C)return C=!1,o}return W(s,a+1)}}function G(e){if(i)i=!1;else{var n=e instanceof ui&&"="==e.operator?e.left:e;if(n instanceof Mi){var t=n.definition();if(!t.undeclared&&!oe(t)){if(n!==e){if(fe(n,p))return;if(t.references.length-t.replaced<2)return;e=v.clone();e[e instanceof ui?"right":"value"]=n,0<=v.name_index&&(e.name_index=v.name_index,e.arg_index=v.arg_index),v=e}return m=t}}}}function J(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(p))return!0;if(e.is_constant()){n=e.evaluate(p);if(!(n instanceof Mn))return!n==!t}}return i(e)}}function X(e){if(e instanceof ei)switch(e.expressions.length){case 0:return null;case 1:return ue(0,this.parent(),e,e.expressions[0])}}function K(e){e=A.get(e.name);if(e&&!zn(e,function(e){return!e}))return e[0]!==b||void(x=!1)}function Q(e){e=e.definition();return!(1==e.orig.length&&e.orig[0]instanceof zi)&&(e.scope!==te||(!(!T||!p.exposed(e))||!zn(e.references,function(e){return e.scope.resolve()===te})))}function Z(e,n){if(e instanceof ui)return Z(e.left,!0);if(e instanceof oi)return Z(e.expression,!0);if(e instanceof Vt)return e.value&&Z(e.value);if(n){if(e instanceof ti)return Z(e.expression,!0);if(e instanceof ii)return Z(e.expression,!0);if(e instanceof Mi)return e.definition().scope!==te}return!1}}(e,c),ie&&0<n--;);return e;function p(e,n){if(!(e instanceof Un))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof Ut&&F(r))n.push(r);else{if(t||O(r))return!1;t=r}}return t}function u(e){return e instanceof ui?[e]:e instanceof ei?e.expressions.slice():void 0}function l(e,n,t){var i=u(n);if(i){for(var r=!1,o=i.length-1;0<=--o;){var a,s=i[o];s instanceof ui&&"="==s.operator&&s.left instanceof Mi&&(a=i.slice(o+1),v(s.left,s.right,a)&&(r=!0,i=i.slice(0,o+1).concat(a)))}if(e instanceof Rt){t=t||0;for(o=e.definitions.length;0<=--o;){var f=e.definitions[o];if(f.value){v(f.name,f.value,i)&&(r=!0),function(e,n,t){if(c.option("conditionals")&&!(e.name instanceof hi)){for(var i=!1,r=e.name.definition();n.length>t;){var o=nn(c,r,e.value,n[0]);if(!o)break;e.value=o,n.shift(),i=!0}return i}}(f,i,t)&&(r=!0);break}}e instanceof Ut&&h(e.definitions,i,t)&&(r=!0)}return r&&i}}function d(e,n){if(e instanceof Yn&&!F(n)){var t=u(e.body);if(t){e=[];if(h(e,t.reverse(),0))return n.definitions=e.reverse().concat(n.definitions),t.reverse()}}}function h(e,n,t){for(var i=!1;n.length>t;){var r=n[0];if(!(r instanceof ui))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Mi))break;if(Z(o))break;if(o.scope.resolve()!==te)break;var a=o.definition();if(a.scope!==te)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;o=ce(Oi,o,o);e.push(ce(Vt,r,{name:o,value:r.right})),a.orig.push(o),a.replaced++,n.shift(),i=!0}return i}function v(e,n,t){if(n instanceof gi){var i=!1;do{var r=t[0];if(!(r instanceof ui))break;if("="!=r.operator)break;if(!(r.left instanceof ni))break;var o=r.left.expression;if(!(o instanceof Mi))break;if(e.name!=o.name)break;if(!r.right.is_constant_expression(te))break;var a=r.left.property;if((a=a instanceof Mn?a.evaluate(c):a)instanceof Mn)break;o="__proto__"==(a=""+a)||c.has_directive("use strict")?function(e){return"string"==typeof e.key&&e.key!=a}:function(e){return!(e instanceof ki||e instanceof xi)||"string"==typeof e.key&&e.key!=a}}while(zn(n.properties,o)&&(n.properties.push(ce(yi,r,{key:a,value:r.right})),t.shift(),i=!0,t.length));return i}}}function P(i,r,o){var a;function s(e){a?(a.push(e),$(e)||(a.required=!0)):o.push(e)}r instanceof Rt||r instanceof mt||Mn.warn("Dropping unreachable code [{file}:{line},{col}]",r.start),r.walk(new nr(function(e,n){if(e instanceof Rt){var t=[];return e.remove_initializers(i,t)&&Mn.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",e.start),0<t.length&&(e.definitions=t,s(e)),!0}if(e instanceof mt)return s(e),!0;if(e instanceof nt)return!0;if(e instanceof Rn){e=a;return a=[],n(),a.required?o.push(ce(Un,r,{body:a})):a.length&&[].push.apply(o,a),a=e,!0}}))}function de(e,n){return e.is_undefined||e instanceof Ji||e instanceof ai&&"void"==e.operator&&!(n&&e.expression.has_side_effects(n))}function N(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Ri)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}function I(e,n){return n||/strict/.test(e.option("pure_getters"))}function H(e,n,t){switch(n){case"&&":return t.left.is_defined(e)&&t.right.is_defined(e);case"||":return t.left.is_truthy()||t.right.is_defined(e);case"??":return t.left.is_defined(e)||t.right.is_defined(e);default:return!0}}Mi.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&u[this.name]}),(ve=function(e,n){e.DEFMETHOD("is_truthy",n)})(Mn,xn),ve(di,kn),ve(ui,function(){return"="==this.operator&&this.right.is_truthy()}),ve(it,kn),ve(gi,kn),ve(Vi,kn),ve(ei,function(){return this.tail_node().is_truthy()}),ve(Mi,function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=xn;e=e.is_truthy();return delete this.is_truthy,e}),(ve=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(Mn,kn),ve(di,xn),ve(ui,function(){var e=this.operator;return"="==e?this.right.is_negative_zero():N(e.slice(0,-1),this.left,this.right)}),ve(fi,function(){return N(this.operator,this.left,this.right)}),ve(Ri,function(){return 0==this.value&&1/this.value<0}),ve(it,xn),ve(gi,xn),ve(Vi,xn),ve(ei,function(){return this.tail_node().is_negative_zero()}),ve(Mi,function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=kn;e=e.is_negative_zero();return delete this.is_negative_zero,e}),ve(ai,function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}),ve=function(e,n){e.DEFMETHOD("_dot_throw",n)},Mn.DEFMETHOD("may_throw_on_access",function(e,n){return!e.option("pure_getters")||this._dot_throw(e,n)}),ve(Mn,I),ve(di,xn),ve(ui,function(e){var n=this.operator,t=this.left,i=this.right;return"="!=n?he[n.slice(0,-1)]&&(t._dot_throw(e)||i._dot_throw(e)):!!i._dot_throw(e)&&(!(t instanceof Mi)||(!(i instanceof fi&&"||"==i.operator&&t.name==i.left.name)||i.right._dot_throw(e)))}),ve(fi,function(e){return he[this.operator]&&(this.left._dot_throw(e)||this.right._dot_throw(e))}),ve(wt,xn),ve(ci,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),ve(Ri,xn),ve(ti,function(e,n){if(!I(e,n))return!1;n=this.expression;return n instanceof Mi&&(n=n.fixed_value()),!("prototype"==this.property&&v(n))}),ve(it,xn),ve(Wi,kn),ve(gi,function(e,n){return I(e,n)&&!zn(this.properties,function(e){return e instanceof yi})}),ve(Pi,function(e,n){return I(e,n)&&!this.scope.new}),ve(ei,function(e){return this.tail_node()._dot_throw(e)}),ve(Mi,function(e,n){if(this.is_undefined)return!0;if(!I(e,n))return!1;if(Z(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;n=this.definition();if(oe(n)&&!n.scope.rest&&zn(n.scope.argnames,function(e){return e instanceof $i}))return 2<n.scope.uses_arguments;n=this.fixed_value();return!n||(this._dot_throw=kn,n._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=xn,!1))}),ve(ai,function(){return"void"==this.operator}),ve(si,xn),ve(Ji,kn),(ve=function(e,n){e.DEFMETHOD("is_defined",n)})(Mn,xn),ve(di,kn),ve(ui,function(e){var n=this.operator;return"="==n?this.right.is_defined(e):H(e,n.slice(0,-1),this)}),ve(fi,function(e){return H(e,this.operator,this)}),ve(ci,function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)}),ve(Ri,kn),ve(Xi,xn),ve(it,kn),ve(gi,kn),ve(ei,function(e){return this.tail_node().is_defined(e)}),ve(Mi,function(e){if(this.is_undefined)return!1;if(Z(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=xn;e=n.is_defined(e);return delete this.is_defined,e}),ve(ai,function(){return"void"!=this.operator}),ve(si,kn),ve(Ji,xn),function(e){e(Mn,xn),e(ui,function(e){return"="==this.operator&&this.right.is_boolean(e)});var n=$n("in instanceof == != === !== < <= >= >");e(fi,function(e){return n[this.operator]||he[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)}),e(Qi,kn);var t=$n("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(Qt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof ti&&(t[e.property]||"test"==e.property&&e.expression instanceof Vi)}),e(ci,function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)}),e(Zt,xn),e(ei,function(e){return this.tail_node().is_boolean(e)}),e(Mi,function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=xn;e=n.is_boolean(e);return delete this.is_boolean,e});var i=$n("! delete");e(ai,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(Mn,xn);var n=$n("- * / % ** & | ^ << >> >>>");e(ui,function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)}),e(fi,function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))});var t=$n(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toExponential","toFixed","toPrecision"]);e(Qt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof ti&&(t[e.property]||Z(e.expression)&&"Math"==e.expression.name)}),e(ci,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)}),e(Zt,xn),e(Li,kn),e(ei,function(e){return this.tail_node().is_number(e)}),e(Mi,function(e){var n=this.fixed_value();if(!n)return!1;this.is_number=xn;e=n.is_number(e);return delete this.is_number,e});var i=$n("+ - ~ ++ --");e(oi,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(Mn,xn),e(ui,function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}}),e(fi,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))});var n=$n(["charAt","substr","substring","toLowerCase","toString","toUpperCase","trim"]);e(Qt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof ti&&n[e.property]}),e(ci,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(ei,function(e){return this.tail_node().is_string(e)}),e(Bi,kn),e(Mi,function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=xn;e=n.is_string(e);return delete this.is_string,e}),e(Yi,function(e){return!this.tag||pn(e,this.tag)}),e(ai,function(){return"typeof"==this.operator})}(function(e,n){e.DEFMETHOD("is_string",n)});var he=$n("&& || ??");function Y(e){Mn.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}function ee(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function R(e,n,t){return ee(ce(Yn,e,{body:e}),ce(Yn,n,{body:n}),t).body}function ne(e,n,t,i){return(Fn(e)?R:ee)(n,t,i)}function B(n){var t=Object.create(null);return Object.keys(n).forEach(function(e){t[e]=$n(n[e])}),t}function L(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof Nn))return t}}function te(){return this.value?ce(Ot,this.value,{value:this.value}):L(this.body)}function ie(e,n){var t=n.evaluate(e);return t===n?n:ne(e,n,J(t,n).optimize(e),e.eval_threshold)}ve=function(e,n){e.DEFMETHOD("_find_defs",n)},tt.DEFMETHOD("resolve_defines",function(o){return o.option("global_defs")?(this.figure_out_scope({ie8:o.option("ie8")}),this.transform(new tr(function(e){var n=e._find_defs(o,"");if(n){for(var t,i=0,r=e;(t=this.parent(i++))&&t instanceof ni&&t.expression===r;)r=t;if(!ur(r,t))return n;Y(e)}}))):this}),ve(Mn,wn),ve(ti,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),ve(Si,function(e){this.definition().global&&Cn(e.option("global_defs"),this.name)&&Y(this)}),ve(Mi,function(e,n){if(this.definition().global){e=e.option("global_defs"),n=this.name+n;return Cn(e,n)?function n(e,t){if(e instanceof Mn)return e.clone(!0);if(Array.isArray(e))return ce(di,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i,r=[];for(i in e)Cn(e,i)&&r.push(ce(yi,t,{key:i,value:n(e[i],t)}));return ce(gi,t,{properties:r})}return J(e,t)}(e[n],this):void 0}}),ut.DEFMETHOD("first_statement",te),lt.DEFMETHOD("first_statement",te),it.DEFMETHOD("first_statement",function(){return L(this.body)}),it.DEFMETHOD("length",function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof Kt);n++);return n});var ve=["constructor","toString","valueOf"],me=B({Array:["indexOf","join","lastIndexOf","slice"].concat(ve),Boolean:ve,Function:ve,Number:["toExponential","toFixed","toPrecision"].concat(ve),Object:ve,RegExp:["exec","test"].concat(ve),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(ve)}),_e=B({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]});function ge(e){return ce(ai,e,{operator:"!",expression:e})}function be(e,n,t){e=ge(e);if(t){t=ce(Yn,n,{body:n});return ee(e,t)===t?n:e}return ee(e,n)}!function(e){e(Mn,xn),e(Ri,kn),e(Vi,xn);var n=$n("! ~ - + void");e(ai,function(){return n[this.operator]&&this.expression instanceof Ri})}(function(e,n){e.DEFMETHOD("is_constant",n)}),function(e){Mn.DEFMETHOD("evaluate",function(e,n){if(!e.option("evaluate"))return this;var t=[],e=this._eval(e,n,t,1);return t.forEach(function(e){delete e._eval}),!n&&e&&!(e instanceof RegExp)&&("function"==typeof e||"object"==typeof e)?this:e});var d=new nr(function(e){e instanceof ui&&f(e.left),e instanceof oi&&ar[e.operator]&&f(e.expression)});function f(e){e instanceof vi?e.elements.forEach(f):e instanceof _i?e.properties.forEach(function(e){f(e.value)}):e instanceof ni?f(e.expression):e instanceof Mi&&e.definition().references.forEach(function(e){delete e._eval})}e(jn,function(){throw new Error(Dn("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(rt,En),e(Ui,En),e(wt,En),e(Mn,En),e(Ri,function(){return this.value}),e(ui,function(e,n,t,i){var r=this.left;if(!n){if(!(r instanceof Mi))return this;if(!Cn(r,"_eval")){if(!r.fixed)return this;var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this;if("m"==o.single_use)return this}}o=this.operator,o=!Cn(r,"_eval")&&r instanceof Mi&&r.fixed&&r.definition().fixed?r:"="==o?this.right:ce(fi,this,{operator:o.slice(0,-1),left:r,right:this.right});r.walk(d);i=o._eval(e,n,t,i);return"object"==typeof i?this:(f(r),i)}),e(ei,function(e,n,t,i){if(!n)return this;for(var r=this.expressions,o=0,a=r.length-1;o<a;o++)r[o].walk(d);var s=r[a],i=s._eval(e,n,t,i);return i===s?this:i}),e(it,function(e){if(e.option("unsafe")){e=function(){};return e.node=this,e.toString=function(){return"function(){}"},e}return this}),e(di,function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof Xi)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}),e(gi,function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof yi))return this;var s=a.key;if(s instanceof Mn&&(s=s._eval(e,n,t,i))===a.key)return this;if("toString"==s||"valueOf"==s)return this;if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this});var c=$n("! typeof void");e(ai,function(e,n,t,i){var r=this.expression,o=this.operator;if(e.option("typeofs")&&"typeof"==o&&(r instanceof it||r instanceof Mi&&r.fixed_value()instanceof it))return"function";var a=r instanceof Mi&&r.definition();c[o]||a&&a.fixed||i++,r.walk(d);var s=r._eval(e,n,t,i);if(s===r)return n&&"void"==o?void 0:this;switch(o){case"!":return!s;case"typeof":return s instanceof RegExp?this:typeof s;case"void":return;case"~":return~s;case"-":return-s;case"+":return+s;case"++":case"--":if(!a)return this;if(!n){if(a.undeclared)return this;if(a.last_ref!==r)return this}return Cn(r,"_eval")&&(s=+(o[0]+1)+ +s),f(r),s}return this}),e(si,function(e,n,t,i){var r=this.expression;if(r instanceof Mi){if(!Cn(r,"_eval")){if(!r.fixed)return this;if(!n){var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this}}}else if(!n)return this;r instanceof Mi&&r.definition().fixed||i++,r.walk(d);i=r._eval(e,n,t,i);return i===r?this:(f(r),+i)});var u=$n("&& || === !==");e(fi,function(e,n,t,i){u[this.operator]||i++;var r=this.left._eval(e,n,t,i);if(r===this.left)return this;if(this.operator==(r?"||":"&&"))return r;var o,a=this.right._eval(e,n&&!(r&&"object"==typeof r),t,i);if(a===this.right)return this;switch(this.operator){case"&&":o=r&&a;break;case"||":o=r||a;break;case"??":o=null==r?a:r;break;case"|":o=r|a;break;case"&":o=r&a;break;case"^":o=r^a;break;case"+":o=r+a;break;case"-":o=r-a;break;case"*":o=r*a;break;case"/":o=r/a;break;case"%":o=r%a;break;case"<<":o=r<<a;break;case">>":o=r>>a;break;case">>>":o=r>>>a;break;case"==":o=r==a;break;case"===":o=r===a;break;case"!=":o=r!=a;break;case"!==":o=r!==a;break;case"<":o=r<a;break;case"<=":o=r<=a;break;case">":o=a<r;break;case">=":o=a<=r;break;case"**":o=Math.pow(r,a);break;case"in":if(a&&"object"==typeof a&&Cn(a,r)){o=!0;break}default:return this}if(isNaN(o))return e.find_parent(et)?this:o;if(e.option("unsafe_math")&&!n&&o&&"number"==typeof o&&("+"==this.operator||"-"==this.operator)){n=Math.max(0,s(r),s(a));if(n<16)return+o.toFixed(n)}return o;function s(e){e=/(\.[0-9]*)?(e.+)?$/.exec(+e);return(e[1]||".").length-1-(e[2]||"").slice(1)}}),e(ci,function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;r=r?this.consequent:this.alternative,i=r._eval(e,n,t,i);return i===r?this:i}),e(Mi,function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(Cn(o,"_eval"))r=o._eval();else{if(this._eval=En,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(n,e){var t=n.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new nr(function(e){return!!i||(e===n?i=!0:e instanceof nt||void 0)})),i;default:return e<=t.depth}}(this,i)?this:r});var h={Array:Array,Math:Math,Number:Number,Object:Object,String:String},s=B({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),l=$n("global ignoreCase multiline source");function v(e,n,t,i,r){for(var o=[],a=0;a<e.length;a++){var s=e[a],f=s._eval(n,t,i,r);if(s===f)return;o.push(f)}return o}e(ni,function(e,n,t,i){if(e.option("unsafe")){var r,o=this.expression;if(!Z(o)&&(null==(r=o._eval(e,n,t,i+1))||r===o))return this;var a=this.property;if(a instanceof Mn&&(a=a._eval(e,n,t,i))===this.property)return this;if(void 0===r){i=s[o.name];if(!i||!i[a])return this;r=h[o.name]}else if(r instanceof RegExp){if(!l[a])return this}else if("object"==typeof r){if(!Cn(r,a))return this}else if("function"==typeof r)switch(a){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.length();default:return this}return r[a]}return this}),e(Qt,function(i,r,o,a){var e=this.expression,n=e instanceof Mi?e.fixed_value():e;if(n instanceof ut||n instanceof bt||n instanceof ht){if(n.evaluating)return this;if(n.name&&0<n.name.definition().recursive_refs)return this;if(this.is_expr_pure(i))return this;var s=v(this.args,i,r,o,a);if(!zn(n.argnames,function(e,n){if(e instanceof Kt){if(!s)return;if(void 0!==s[n])return;var t=e.value._eval(i,r,o,a);if(t===e.value)return;s[n]=t,e=e.name}return!(e instanceof hi)}))return this;if(n.rest instanceof hi)return this;if(!s&&!r)return this;var t=n.first_statement();if(!(t instanceof Ot)){if(r){n.walk(d);var f=!1;if(n.evaluating=!0,Bn(n,new nr(function(e){return!!f||(e instanceof Ot?(e.value&&void 0!==e.value._eval(i,!0,o,a)&&(f=!0),!0):e instanceof nt&&e!==n||void 0)})),delete n.evaluating,!f)return}return this}if(!(u=t.value))return;var c=[];return s&&(!zn(n.argnames,function(e,n){return p(e,s[n])})||n.rest&&!p(n.rest,s.slice(n.argnames.length)))&&!r||(n.evaluating=!0,u=u._eval(i,r,o,a),delete n.evaluating),c.forEach(function(e){delete e._eval}),u===t.value?this:u}if(i.option("unsafe")&&e instanceof ni){var u,t=e.property;if(t instanceof Mn&&(t=t._eval(i,r,o,a))===e.property)return this;e=e.expression;if(Z(e)){var l=_e[e.name];if(!l||!l[t])return this;u=h[e.name]}else{if(null==(u=e._eval(i,r,o,a+1))||u===e)return this;l=me[u.constructor.name];if(!l||!l[t])return this;if(u instanceof RegExp&&u.global&&!(e instanceof Vi))return this}if(!(s=v(this.args,i,r,o,a)))return this;if("replace"==t&&"function"==typeof s[1])return this;try{return u[t].apply(u,s)}catch(e){Mn.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{u instanceof RegExp&&(u.lastIndex=0)}}return this;function p(e,n){var t=(e=e instanceof Kt?e.name:e).definition();if(t.orig[t.orig.length-1]!==e)return!1;var i=n;return t.references.forEach(function(e){e._eval=function(){return i},c.push(e)}),!0}}),e(Zt,En),e(Yi,function(e,n,t,i){if(!e.option("templates"))return this;if(this.tag){if(!pn(e,this.tag))return this;f=function(e){return e}}var r=v(this.expressions,e,n,t,i);if(!r)return this;for(var o=!1,a=f(this.strings[0]),s=0;s<r.length;s++)a+=r[s]+f(this.strings[s+1]);return o?(this._eval=En,this):a;function f(e){return e.replace(/\\(u\{[^}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,function(e,n){n=rr(n);return"string"!=typeof n&&(o=!0),n})}})}(function(e,n){e.DEFMETHOD("_eval",n)}),(ve=function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})})(Mn,function(){return ge(this)}),ve(jn,function(){throw new Error("Cannot negate a statement")}),ve(fi,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),be(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),be(this,t,n)}return ge(this)}),ve(kt,function(){return ge(this)}),ve(ci,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),be(this,t,n)}),ve(ot,function(){return ge(this)}),ve(ei,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),G(this,n)}),ve(ai,function(){return"!"==this.operator?this.expression:ge(this)});var ye=$n("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),we=$n("Map Set WeakMap WeakSet");function xe(e){for(;(e=e.tail_node())instanceof Mi;)if(!(e=e.fixed_value()))return!0;return!(e instanceof di||"Binary"==e.TYPE&&!he[e.operator]||e instanceof Ri||e instanceof it||e instanceof gi&&zn(e.properties,function(e){return!(e instanceof ki||e instanceof ri)})||e instanceof Pi||e instanceof oi)}function ke(e,n,t){return!zn(e,t?function(e){return e instanceof ri?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function Ee(e,n){return!e.expression.is_string(n)||e.expression.has_side_effects(n)}function Se(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function Te(e,n){for(var t=e.length;0<=--t;)if(!e[t].is_constant_expression(n))return!1;return!0}function Ae(e){return e&&e.aborts()}function De(){var e=this.body.length;return 0<e&&Ae(this.body[e-1])}Qt.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(Z(n)){if(ye[n.name])return!0;if(this instanceof Zt&&we[n.name])return!0}if(n instanceof ti&&Z(n.expression)){var t=_e[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return e.option("annotations")&&this.pure||!e.pure_funcs(this)}),Mn.DEFMETHOD("is_call_pure",xn),Qt.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof ti))return!1;var t,i=n.expression,r=n.property;if(i instanceof di)t=me.Array;else if(i.is_boolean(e))t=me.Boolean;else if(i.is_number(e))t=me.Number;else if(i instanceof Vi)t=me.RegExp;else if(i.is_string(e)){if(t=me.String,"replace"==r){i=this.args[1];if(i&&!i.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=me.Object);return t&&t[r]}),(ve=function(e,n){e.DEFMETHOD("has_side_effects",n)})(Mn,kn),ve(di,function(e){return ke(this.elements,e,Ee)}),ve(ui,function(e){var n=this.left;if(!(n instanceof ni))return!0;var t=n.expression;return!(t instanceof Pi)||!t.scope.new||n instanceof ii&&n.property.has_side_effects(e)||this.right.has_side_effects(e)}),ve(fi,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!sn(this.right)}),ve(Ln,function(e){return ke(this.body,e)}),ve(Qt,function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||ke(this.args,e,Ee)}),ve(Nt,function(e){return this.expression.has_side_effects(e)||ke(this.body,e)}),ve(wt,function(e){var n=this.extends;return!(!n||f(n=n instanceof Mi?n.fixed_value():n))||ke(this.properties,e)}),ve(Et,function(e){return this.key instanceof Mn&&this.key.has_side_effects(e)||this.static&&this.value&&this.value.has_side_effects(e)}),ve(ci,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),ve(Ri,xn),ve(Rt,function(e){return ke(this.definitions,e)}),ve(vi,function(e){return ke(this.elements,e)}),ve(mi,function(e){return this.key instanceof Mn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),ve(_i,function(e){return ke(this.properties,e)}),ve(ti,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),ve(In,xn),ve(Ft,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),ve(Vn,function(e){return this.body.has_side_effects(e)}),ve(it,xn),ve(gi,function(e){return ke(this.properties,e,function(e,n){e=e.expression;return xe(e)||e.has_side_effects(n)})}),ve(Pi,xn),ve(bi,function(e){return this.key instanceof Mn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),ve(ei,function(e){return ke(this.expressions,e)}),ve(Yn,function(e){return this.body.has_side_effects(e)}),ve(ii,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),ve(Mt,function(e){return this.expression.has_side_effects(e)||ke(this.body,e)}),ve(Si,xn),ve(Mi,function(e){return!this.is_declared(e)||!se(this,e)}),ve(Yi,function(e){return this.tag&&!pn(e,this.tag)||ke(this.expressions,e)}),ve(It,function(e){return ke(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),ve(oi,function(e){return cr[this.operator]||this.expression.has_side_effects(e)}),ve(Vt,function(){return this.value}),(ve=function(e,n){e.DEFMETHOD("may_throw",n)})(Mn,kn),ve(Ri,xn),ve(In,xn),ve(it,xn),ve(Pi,xn),ve(Si,xn),ve(di,function(e){return Se(this.elements,e)}),ve(ui,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Mi)&&this.left.may_throw(e)}),ve(fi,function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!sn(this.right)}),ve(Ln,function(e){return Se(this.body,e)}),ve(Qt,function(e){return!!Se(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||(!(this.expression instanceof it)||Se(this.expression.body,e)))}),ve(Nt,function(e){return this.expression.may_throw(e)||Se(this.body,e)}),ve(ci,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),ve(Rt,function(e){return Se(this.definitions,e)}),ve(ti,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),ve(Ft,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),ve(Vn,function(e){return this.body.may_throw(e)}),ve(gi,function(e){return Se(this.properties,e)}),ve(bi,function(e){return this.key instanceof Mn&&this.key.may_throw(e)||this.value.may_throw(e)}),ve(Ot,function(e){return this.value&&this.value.may_throw(e)}),ve(ei,function(e){return Se(this.expressions,e)}),ve(Yn,function(e){return this.body.may_throw(e)}),ve(ii,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),ve(Mt,function(e){return this.expression.may_throw(e)||Se(this.body,e)}),ve(Mi,function(e){return!this.is_declared(e)}),ve(It,function(e){return(this.bcatch?this.bcatch.may_throw(e):Se(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)}),ve(oi,function(e){return!("typeof"==this.operator&&this.expression instanceof Mi)&&this.expression.may_throw(e)}),ve(Vt,function(e){return!!this.value&&this.value.may_throw(e)}),(ve=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(Mn,xn),ve(di,function(){return Te(this.elements)}),ve(fi,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()&&("in"!=this.operator||sn(this.right))}),ve(wt,function(e){var n=this.extends;return!(n&&!f(n))&&Te(this.properties,e)}),ve(Et,function(e){return"string"==typeof this.key&&(!this.value||this.value.is_constant_expression(e))}),ve(Ri,kn),ve(it,function(i){var r=this,o=!0,a=[];return r.walk(new nr(function(e,n){if(!o)return!0;if(e instanceof Rn)return e===r?void 0:(a.push(e),n(),a.pop(),!0);if(e instanceof Mi){if(r.inlined||e.redef)return!(o=!1);if(r.variables.has(e.name))return!0;var t=e.definition();if(bn(t.scope,a))return!0;if(i&&!t.redefined()){n=i.find_variable(e.name);if(t.undeclared?!n:n===t)return o="f",!0}return!(o=!1)}return e instanceof Pi?(at(r)&&zn(a,function(e){return!(e instanceof nt)||at(e)})&&(o=!1),!0):void 0})),o}),ve(gi,function(){return Te(this.properties)}),ve(bi,function(){return"string"==typeof this.key&&this.value.is_constant_expression()}),ve(oi,function(){return this.expression.is_constant_expression()}),(ve=function(e,n){e.DEFMETHOD("aborts",n)})(jn,Sn),ve(At,En),ve(Un,De),ve(jt,De),ve(Ft,function(){return this.alternative&&Ae(this.body)&&Ae(this.alternative)&&this});var Oe=$n(["use asm","use strict"]);function $e(e,n,t){switch(e.body.length){case 0:return t?Tn.skip:ce(In,e);case 1:var i=e.body[0];return $(i)?n instanceof Wn&&i instanceof mt?e:i:e}return e}function ze(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof vi&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=null))}function qe(e,n){if(!n.option("arrows"))return e;ze(e,n);var t=j(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof Ot){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}e(Nn,function(e,n){return!n.option("directives")||Oe[e.value]&&n.has_directive(e.value)===e?e:ce(In,e)}),e(Pn,function(e,n){return n.option("drop_debugger")?ce(In,e):e}),e(Vn,function(e,n){return n.option("dead_code")&&e.body instanceof qt&&n.loopcontrol_target(e.body)===e.body?ce(In,e):n.option("unused")&&0==e.label.references.length?e.body:e}),e(Ln,function(e,n){return e.body=j(e.body,n),e}),e(Un,function(e,n){return e.body=j(e.body,n),$e(e,n.parent())}),e(it,function(e,n){return ze(e,n),e.body=j(e.body,n),e}),e(ut,qe),e(lt,qe),e(ht,function(n,e){ze(n,e),n.body=j(n.body,e);var t=e.parent();if(e.option("inline"))for(var i=0;i<n.body.length;i++){var r=n.body[i];if(!(r instanceof Nn)){if(r instanceof Ot){if(i!=n.body.length-1)break;var o=r.value;if(!o||"Call"!=o.TYPE)break;if(o.is_expr_pure(e))break;var a=o.expression;if(a instanceof Mi){if(n.name&&n.name.definition()===a.definition())break;a=a.fixed_value()}if(!(a instanceof bt||a instanceof ht))break;if(a.uses_arguments)break;if(a===o.expression){if(a.parent_scope!==n)break;if(!zn(a.enclosed,function(e){return e.scope!==n}))break}if(a.name&&(t instanceof Tt||t instanceof wi)&&t.value===e.self())break;if(a.contains_this())break;var s=a.argnames.length;if(0<s&&e.option("inline")<2)break;if(s>n.argnames.length)break;if(!zn(n.argnames,function(e){return e instanceof $i}))break;if(!zn(o.args,function(e){return!(e instanceof ri)}))break;for(var f=0;f<s;f++){var c=o.args[f];if(!(c instanceof Mi))break;if(c.definition()!==n.argnames[f].definition())break}if(f<s)break;for(;f<o.args.length&&!o.args[f].has_side_effects(e);f++);if(f<o.args.length)break;if(s<n.argnames.length&&!e.drop_fargs(n,t)){if(!e.drop_fargs(a,o))break;for(;a.argnames.push(a.make_var($i,a,"argument_"+s)),++s<n.argnames.length;);}return o.expression}break}}return n});var Ce=$n("arguments await yield");function Fe(e,n){for(var t=n.length;0<=--t;)n[t]||(n[t]=ce(Xi,e))}function Me(e,n){var t=ce(kt,e,e);return t.name=n?null:ce(Ci,e.name,e.name),t}function je(e,n){var t;switch(e.CTOR){case _t:t=pt;break;case gt:t=dt;break;case bt:t=ht;break;case yt:t=vt}var i=ce(t,e,e);return i.name=n?null:ce(qi,e.name,e.name),i}function Pe(n,t){n.walk(new nr(function(e){return e instanceof Ot?(t(e),!0):e instanceof nt&&e!==n||void 0}))}function Ne(e){var n=Object.create(null);return Pe(e,function(e){e=e.value;(e=e&&e.tail_node())instanceof Mi&&(e=e.definition().id,n[e]=(n[e]||0)+1)}),n}function Ie(e,n,t){return e.bool_fn+(n[e.id]||0)===e.references.length-e.replaced&&!t.exposed(e)}function He(e,i){Pe(e,function(e){e.in_bool=!0;var n,t=e.value;t&&((n=t.is_truthy()||t.evaluate(i,!0))?n instanceof Mn||(t=t.drop_side_effect_free(i),e.value=t?G(e.value,[t,ce(Li,e.value,{value:1})]):ce(Li,e.value,{value:1})):(t=t.drop_side_effect_free(i),e.value=t?G(e.value,[t,ce(Li,e.value,{value:0})]):null))})}function Ye(e,n){if(!e.name||!n.option("ie8"))return 1;e=e.name.definition();return!n.exposed(e)&&zn(e.references,function(e){return!(e instanceof Mi)})}function Re(e,n,t,i){for(var r=e.length,o=[],a=!1,s=0;s<r;s++){var f=e[s],c=i&&f instanceof ri?i(f,n,t):f.drop_side_effect_free(n,t);c!==f&&(a=!0),c&&(o.push(c),t=!1)}return o.length?a?o:e:null}function Be(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function Le(e){return e instanceof ri?ce(di,e,{elements:[e]}):e}function Ue(n,e,t){t=t||zt;var i=!1,r=new nr(function(e){return!!(i||e instanceof nt)||(e instanceof t&&r.loopcontrol_target(e)===n?i=!0:void 0)});return e instanceof Vn&&r.push(e),r.push(n),n.body.walk(r),i}function Ve(e,n,t){if(e instanceof fi)if(e.left instanceof Bi){if(e.right instanceof ai&&"typeof"==e.right.operator){var i=e.right.expression;if(Z(i)){var r,o,a,s="undefined"==e.left.value;switch(e.operator){case"==":r=s?t:n;break;case"!=":r=s?n:t;break;default:return}r&&(o=i.definition(),a=new nr(function(e){if(e instanceof nt){var n=a.parent();return n instanceof Qt&&n.expression===e?void 0:!0}e instanceof Mi&&e.definition()===o&&(e.defined=!0)}),r.walk(a))}}}else switch(e.operator){case"&&":Ve(e.left,n),Ve(e.right,n);break;case"||":Ve(f(e.left),t),Ve(f(e.right),t)}function f(e){if(e instanceof fi)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function We(r){return function(n,t){var i=!1;return this.definitions.forEach(function(e){e.value&&(i=!0),e.name.match_symbol(function(e){e instanceof Si&&t.push(ce(Vt,e,{name:e,value:r(n,e)}))},!0)}),i}}function Ge(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof qi?3:2)}function Je(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names()[n.name])return!0}function Xe(e){return ce(Ut,e,{definitions:e.definitions.map(function(e){return ce(Vt,e,{name:e.name.convert_symbol(Oi,function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;e=t.scope.resolve();t.scope!==e&&(t.scope=e).variables.set(t.name,t)}),value:e.value})})})}function Ke(e,n){if(!n.fixed_value())return!1;n=n.definition();return Ge(n)&&ln(n)&&!Je(e,n)}function Qe(e,n){return n.option("varify")&&zn(e.definitions,function(e){return!e.name.match_symbol(function(e){if(e instanceof Si)return!Ke(n,e)},!0)})?Xe(e):e}function Ze(e){var n=e.expression;if(!(n instanceof ei))return e;var t=n.expressions.slice(),n=e.clone();return n.expression=t.pop(),t.push(n),G(e,t)}function en(e,t,n){var i=e.expression,r=i instanceof Mi?i.fixed_value():i;if(r instanceof it&&(!r.uses_arguments&&!r.pinned()&&!(n&&n.indexOf(r)<0)&&zn(s=e.args,function(e){return!(e instanceof ri)}))){var o=r.argnames,i=r===i&&!r.name;if(r.rest){if(!i||!t.option("rests"))return;for(var a=o.length,s=s.slice(0,a);s.length<a;)s.push(ce(Ji,e).optimize(t));s.push(ce(di,e,{elements:e.args.slice(a)})),o=o.concat(r.rest),r.rest=null}else s=s.slice(),o=o.slice();for(var f=0,c=0,u=i&&t.option("default_values"),l=i&&t.drop_fargs(r,e)?function(e,n){return!e||(e instanceof vi?0==e.elements.length&&!e.rest&&n instanceof di:e instanceof _i?0==e.properties.length&&!e.rest&&n&&!n.may_throw_on_access(t):e.__unused)}:xn,p=[],d=0;d<s.length;d++){var h=o[d];if(u&&h instanceof Kt&&s[d].is_defined(t)&&(o[d]=h=h.name),!h||"__unused"in h){var v=s[d].drop_side_effect_free(t);if(l(h)){h&&o.splice(d,1),s.splice(d,1),v&&p.push(v),d--;continue}if(v)p.push(v),s[f++]=G(e,p),p=[];else if(h){if(!p.length){s[f++]=ce(Li,s[d],{value:0});continue}s[f++]=G(e,p),p=[]}}else{if(l(h,s[d])){v=s[d].drop_side_effect_free(t);o.splice(d,1),s.splice(d,1),v&&p.push(v),d--;continue}p.push(s[d]),s[f++]=G(e,p),p=[]}c=f}for(;d<o.length;d++)l(o[d])&&o.splice(d--,1);r.argnames=o,s.length=c,e.args=s,p.length&&(r=G(e,p),s.push(s.length<o.length?ce(ai,e,{operator:"void",expression:r}):r))}}function nn(t,i,e,n){if(n instanceof fi&&("&&"==n.operator||"||"==n.operator)&&n.right instanceof ui&&"="==n.right.operator&&n.right.left instanceof Mi&&n.right.left.definition()===i&&!e.has_side_effects(t)&&r(n.left)&&r(n.right.right))return i.replaced++,"&&"==n.operator?ce(ci,n,{condition:n.left,consequent:n.right.right,alternative:e}):ce(ci,n,{condition:n.left,consequent:e,alternative:n.right.right});function r(e){if(!e.has_side_effects(t)){var n=!1;return e.walk(new nr(function(e){return!!n||(e instanceof Mi&&e.definition()===i?n=!0:void 0)})),!n}}}nt.DEFMETHOD("merge_variables",function(a){if(a.option("merge_vars")){var c,u,l={},p=this,s=[],f=[],d=0,h=new qn,v=Object.create(null),m=Object.create(null),_=new nr(function(i,e){if(i instanceof ui){var n=i.left,t=i.right;if(n instanceof hi){t.walk(_);var r=new nr(function(e){if(!(e instanceof hi))return e instanceof Kt?(x(),e.value.walk(_),k(),e.name.walk(r)):e instanceof mi?e.key instanceof Mn?(x(),(l.block=e).key.walk(_),e.value.walk(r),k()):e.value.walk(r):e instanceof Mi?E(e):e.walk(_),!0});return n.walk(r),!0}return he[i.operator.slice(0,-1)]?(n.walk(_),x(),t.walk(_),n instanceof Mi&&E(n),k(),!0):n instanceof Mi?("="!=i.operator&&E(n,!0),t.walk(_),E(n),!0):void 0}if(i instanceof fi)return he[i.operator]?(i.left.walk(_),x(),i.right.walk(_),k(),!0):void 0;var o;if(i instanceof qt)return(s=_.loopcontrol_target(i))instanceof Wn||S(s),!0;if(i instanceof Qt){t=i.expression,n=t.tail_node();return n instanceof ot?(t!==n&&t.expressions.slice(0,-1).forEach(function(e){e.walk(_)}),i.args.forEach(function(e){e.walk(_)}),n.walk(_),!0):void 0}if(i instanceof ci)return i.condition.walk(_),x(),i.consequent.walk(_),k(),x(),i.alternative.walk(_),k(),!0;if(i instanceof Ct)return(s=_.loopcontrol_target(i))instanceof Jn&&S(s),!0;if(i instanceof Jn){x(),l.block=i,l.loop=!0;var a=l;return i.body.walk(_),l.inserted===i&&(l=a),i.condition.walk(_),k(),!0}if(i instanceof Kn)return i.init&&i.init.walk(_),x(),l.block=i,l.loop=!0,i.condition&&i.condition.walk(_),i.body.walk(_),i.step&&i.step.walk(_),k(),!0;if(i instanceof Qn)return i.object.walk(_),x(),l.block=i,l.loop=!0,i.init.walk(_),i.body.walk(_),k(),!0;if(i instanceof Ft)return i.condition.walk(_),x(),i.body.walk(_),k(),i.alternative&&(x(),i.alternative.walk(_),k()),!0;if(i instanceof Vn){x(),l.block=i;a=l;return i.body.walk(_),l.inserted===i&&(l=a),k(),!0}if(i instanceof nt)return x(),(l.block=i)===p&&(u=l),i instanceof it&&(i.name&&(v[i.name.definition().id]=!1),r=i.uses_arguments&&!_.has_directive("use strict")?function(e){e instanceof $i&&(v[e.definition().id]=!1)}:function(e){e instanceof $i&&E(e)},o=new nr(function(e){if(e instanceof Si&&(v[e.definition().id]=!1),e instanceof Mi){var n=e.definition(),t=i.variables.get(e.name);return t&&(t===n||n.undeclared||i.parent_scope.find_variable(e.name)===n)?(v[n.id]=!1,v[t.id]=!1):(t=l,k(),E(e,!0),l=t),!0}}),i.argnames.forEach(function(e){e.mark_symbol(r,o)}),i.rest&&i.rest.mark_symbol(r,o)),ct(i,_),k(),!0;if(i instanceof Mt){i.expression.walk(_);a=l;return i.body.forEach(function(e){e instanceof Pt||(e.expression.walk(_),a===l&&x())}),l=a,i.body.forEach(function(e){x(),l.block=i;var n=l;Bn(e,_),l.inserted===i&&(l=n),k()}),!0}if(i instanceof Ti||i instanceof Di)return!(v[i.definition().id]=!1);if(i instanceof Mi)return E(i,!0),!0;if(i instanceof It){var s=c,a=l;return Bn(c=i,_),l=a,i.bcatch&&(i.bcatch.argname&&i.bcatch.argname.mark_symbol(function(e){e instanceof Fi&&(e=e.definition(),v[e.id]=!1,(e=e.redefined())&&(v[e.id]=!1))},_),i.bfinally||(c=s)?Bn(i.bcatch,_):(x(),Bn(i.bcatch,_),k())),c=s,l=a,i.bfinally&&i.bfinally.walk(_),!0}if(i instanceof oi){if(!ar[i.operator])return;var f=i.expression;return f instanceof Mi?(E(f,!0),!0):void 0}if(i instanceof Vt){f=i.value;return f?f.walk(_):f=l.block instanceof Qn&&l.block.init===_.parent(),i.name.mark_symbol(f?function(e){if(e instanceof Si)return e instanceof Oi?E(e):v[e.definition().id]=!1,!0}:function(e){if(e instanceof Si){var n=e.definition().id;return e instanceof Oi?n in v?v[n]&&v[n].push(e):h.add(n,e):v[n]=!1,!0}},_),!0}return i instanceof Xn?(x(),l.block=i,l.loop=!0,e(),k(),!0):void 0});_.directives=Object.create(a.directives),p.walk(_);for(var e=Object.create(null);s.length&&f.length;){var n=s.pop(),t=n.definition;if(t.id in m&&v[t.id]){for(var i={start:v[t.id].start};t.id in e;)t=e[t.id];i.end=v[t.id].end;var r=[];do{var o=f.pop();if(o&&!(o.index>n.index)){var g=o.definition.id,b=v[g];if(b){if(i.start.block===b.start.block&&A(i,b)&&(!i.start.loop||A(b,i))&&zn(b,function(e){return e.scope.find_variable(t.name)===t})){var y=[],w=[];b.forEach(function(e){e.thedef=t,e.name=t.name,(e instanceof Mi?w:y).push(e)}),t.orig=y.concat(t.orig),t.references=w.concat(t.references),t.fixed=o.definition.fixed&&t.fixed,e[g]=t;break}r.unshift(o)}}}while(f.length);r.length&&(f=f.concat(r))}}}function x(){l=Object.create(l)}function k(){l=Object.getPrototypeOf(l)}function E(e,n){var t,i,r=e.definition(),o=l;if(c&&(x(),o=l,k()),r.id in v){if(!(i=v[r.id]))return;if(i.start.block!==o.block)return v[r.id]=!1;if(i.push(e),i.end=o,r.id in m)f[m[r.id]]=null;else if(!n)return}else{if((t=p.variables.get(r.name))!==r)return t&&u===o&&(v[t.id]=!1),v[r.id]=!1;if(a.exposed(r)||Ce[e.name])return v[r.id]=!1;if((i=h.get(r.id)||[]).push(e),v[r.id]=i,!n)return i.start=o,s.push({index:d++,definition:r});if(o.block!==p)return v[r.id]=!1;i.start=u}m[r.id]=f.length,f.push({index:d++,definition:r})}function S(e){for(var n=[];;){if(Cn(l,"block")){var t=l.block;if((t=t instanceof Vn?t.body:t)===e)break}n.push(l),k()}for(l.inserted=l.block,x();n.length;){var i=n.pop();x(),Cn(i,"block")&&(l.block=i.block),Cn(i,"loop")&&(l.loop=i.loop)}}function T(e,n){return e===n||e.isPrototypeOf(n)}function A(e,n){return T(e.start,e.end)||T(e.start,n.start)}}),nt.DEFMETHOD("drop_unused",function(x){if(x.option("unused")){var k=this,E=!(k instanceof tt)||x.toplevel.funcs,S=!(k instanceof tt)||x.toplevel.vars,T=/keep_assign/.test(x.option("unused"))?xn:function(e,n){var t,i=!1;if(e instanceof ui?!e.write_only&&"="!=e.operator||(t=r(e.left,n)):e instanceof oi&&e.write_only&&(t=r(e.expression,n)),t instanceof Mi){n=t.definition();if(!o[n.id]&&!x.exposed(n)&&se(t,x,i))return t}function r(e,n){if(e instanceof ni){var t=e.expression;if(!t.may_throw_on_access(x,!0))return i=!0,n&&e instanceof ii&&n.unshift(e.property),r(t,n)}else if(e instanceof ui&&"="==e.operator){e.write_only="p";t=r(e.right);return n?(n.assign=e,t instanceof Mi?t:e.left):t}return e}},A=Object.create(null),o=Object.create(null),c=function(e){return(c=function e(n,t,i){var r=x.parent(t);if(!r)return i;if(r instanceof mi){var o=x.parent(t+1);if(r.key===n){var a=x.parent(t+2);if(a instanceof it)return e(a,t+3,0<=a.argnames.indexOf(o)?function(e){var n=i(e);if(n)return n;if(n=a.variables.get(e)){var e=n.orig[0];if(e instanceof $i||e instanceof qi)return n}}:function(e){return i(e)||a.variables.get(e)})}return e(o,t+2,i)}return e(r,t+1,r.variables?function(e){return i(e)||r.variables.get(e)}:i)}(k,0,wn))(e)},D=Object.create(null),u=[],O=Object.create(null),l=Object.create(null),p=Object.create(null),$=Object.create(null);k instanceof tt&&x.top_retain&&k.variables.each(function(e){!x.top_retain(e)||e.id in O||(O[e.id]=!0,u.push(e))});var d=new qn,h=new qn,z=this;(v=new nr(function(r,e){if(r instanceof it&&r.uses_arguments&&!v.has_directive("use strict")&&r.each_argname(function(e){e=e.definition();e.id in O||(O[e.id]=!0,u.push(e))}),r!==k){if(z===k){if(r instanceof xt){var t=r.name.definition();E&&!t.exported||t.id in O||(O[t.id]=!0,u.push(t)),r.extends&&r.extends.walk(v);var i=!1;return v.parent()instanceof Gt&&(o[t.id]=i=!0),r.properties.forEach(function(e){var n;e.key instanceof Mn&&e.key.walk(v),e.value&&(i||e instanceof St&&e.static?(n=z,z=r,e.value.walk(v),z=n):h.add(t.id,e.value))}),!0}if(r instanceof mt){t=r.name.definition();if(E&&!t.exported||t.id in O||(O[t.id]=!0,u.push(t)),h.add(t.id,r),!(v.parent()instanceof Gt))return!0;o[t.id]=!0}if(r instanceof Rt)return r.definitions.forEach(function(t){var i=t.value&&(t.name instanceof hi||t.value.has_side_effects(x));t.name.mark_symbol(function(e){if(e instanceof Si){var n=e.definition();return $[n.id]=($[n.id]||0)+1,r instanceof Ut&&n.orig[0]instanceof Fi&&((e=n.redefined())&&($[e.id]=($[e.id]||0)+1)),n.id in O||S&&!n.exported&&(r instanceof Bt?!n.redefined():!n.const_redefs)&&(r instanceof Ut||Ge(n))||(O[n.id]=!0,u.push(n)),t.value&&(i||h.add(n.id,t.value),d.add(n.id,t)),!0}},v),i&&t.value.walk(v)}),!0;if(r instanceof $i){t=r.definition();return $[t.id]=($[t.id]||0)+1,d.add(t.id,r),!0}if(r instanceof Ai)return(t=r.definition()).id in O||S&&Ge(t)||(O[t.id]=!0,u.push(t)),!0}else r instanceof Ii&&z instanceof xt&&((t=z.name.definition()).id in O||(O[t.id]=!0,u.push(t)));return a(r,e,!0)}})).directives=Object.create(x.directives),k.walk(v);for(var v=new nr(a),e=0;e<u.length;e++){var n=h.get(u[e].id);n&&n.forEach(function(e){e.walk(v)})}Object.keys(A).forEach(function(e){var n,t=A[e];t?(t=t.reduce(function(n,e){return e.forEach(function(e){An(n,e)}),n},[]),n=(d.get(e)||[]).filter(function(n){return yn(n instanceof oi?function(e){return e===n}:function(e){return e===n||!(e instanceof oi)&&i(e)===i(n)},t)}),t.length==n.length?A[e]=n:delete A[e]):delete A[e]});var q=x.option("keep_fnames")?xn:x.option("ie8")?function(e){return!x.exposed(e)&&e.references.length==e.replaced}:function(e){return!(e.id in O)||!(e.orig.length<2)&&(e.orig[1]instanceof $i||zn(e.references,function(e){return!e.in_arg}))},C=[],F=[],M=[],j=[],P=new tr(function(t){if(t instanceof Kt)return w(P,t);if(t instanceof hi&&t.rest&&(t.rest=t.rest.transform(P)),t instanceof vi){for(var e=!t.rest,n=t.elements.length;0<=--n;){var i=t.elements[n].transform(P);i?(t.elements[n]=i,e=!1):e?t.elements.pop():t.elements[n]=ce(Xi,t.elements[n])}return t}if(t instanceof _i){var r=[];return t.properties.forEach(function(e){var n=!1;e.key instanceof Mn&&(e.key=e.key.transform(N),n=e.key.has_side_effects(x)),(n||t.rest)&&y(e.value)?(e.value=e.value.transform(N),r.push(e)):(n=!(n=e.value.transform(P))&&t.rest?e.value instanceof vi?ce(vi,e.value,{elements:[]}):ce(_i,e.value,{properties:[]}):n)&&(e.value=n,r.push(e))}),t.properties=r,t}return t instanceof Si?t.definition().id in O?t:null:void 0}),N=new tr(function(d,n,e){var h=N.parent();if(S){var t=[];if(o=T(d,t)){var i=(a=o.definition()).id in O;if(d instanceof ui?(!i||d.left===o&&R(a,d)<0)&&(r=B(d),!0===d.write_only&&(r=r.drop_side_effect_free(x)||ce(Li,d,{value:0}))):(!i||d.expression===o&&R(a,d)<0)&&(r=ce(Li,d,{value:0})),r)switch(!t.assign||(i=t.assign.drop_side_effect_free(x))&&t.unshift(i),(r=h instanceof ei&&h.tail_node()!==d?r.drop_side_effect_free(x):r)&&t.push(r),t.length){case 0:return Tn.skip;case 1:return ue(0,h,d,t[0].transform(N));default:return G(d,t.map(function(e){return e.transform(N)}))}}else if(d instanceof si&&d.expression instanceof Mi&&R(d.expression.definition(),d)<0)return ce(ai,d,{operator:"+",expression:d.expression})}if(d instanceof Qt&&M.push(d),z===k){if(E&&d!==k&&d instanceof xt)if(!((a=d.name.definition()).id in O)){if(I(d.name,"Dropping unused class {name}"),a.eliminated++,n(d,N),h instanceof Gt)return Me(d,!0);var r=d.drop_side_effect_free(x,!0);return(r=r===d?Me(d,!0):r)?ce(Yn,d,{body:r}):e?Tn.skip:ce(In,d)}if(d instanceof kt&&d.name&&q(d.name.definition())&&F.push(d),d instanceof it){if(E&&d!==k&&d instanceof mt)if(!((a=d.name.definition()).id in O))return I(d.name,"Dropping unused function {name}"),a.eliminated++,h instanceof Gt?(w(),je(d,!0)):e?Tn.skip:ce(In,d);if(d instanceof ot&&d.name&&q(d.name.definition())&&F.push(d),!(d instanceof rt)){d.rest&&(d.rest=d.rest.transform(P),d.uses_arguments&&!N.has_directive("use strict")||!(d.rest instanceof vi&&0==d.rest.elements.length||d.rest instanceof _i&&0==d.rest.properties.length)||(d.rest=null));for(var o,a,s=d.argnames,f=x.drop_fargs(d,h)&&!d.rest,c=f?-1:d.length(),u=s.length;0<=--u;)(o=s[u])instanceof $i?(a=o.definition()).id in O?(f=!1,R(a,o)<0&&(o.__unused=null)):f?(I(o,"Dropping unused function argument {name}"),s.pop()):o.__unused=!0:o.transform(P)?f=!1:f?(I(o.name,"Dropping unused default argument {name}"),s.pop()):c<u?(I(o.name,"Dropping unused default argument assignment {name}"),o.name.__unused=!0,s[u]=o.name):(I(o.name,"Dropping unused default argument value {name}"),o.value=ce(Li,o,{value:0}));j.push(d)}}if(d instanceof Ht&&d.argname instanceof hi&&d.argname.transform(P),d instanceof Rt&&!(h instanceof Qn&&h.init===d)){var v=[],m=[],_=[],g=[],b=0,y=d instanceof Ut;switch(d.definitions.forEach(function(e){e.value&&(e.value=e.value.transform(N));var n=e.value;if(e.name instanceof hi)L(e.name,n,function(e){return!S||e.definition().id in O||l(e)||y&&!se(e)?e:null})?p():(n=n.drop_side_effect_free(x))&&g.push(n);else{var t,i,r,o,a,s=e.name.definition(),f=y?se(e.name):Ge(s);if(!f||!S||s.id in O)if(n&&R(s,e)<0&&(c=n.write_only,n=n.drop_side_effect_free(x),e.value!==n?(n&&(Mn.warn("Side effects in last use of variable {name} [{file}:{line},{col}]",H(e.name)),g.push(n)),n=null,C.push(e)):n.write_only!==c&&(n.write_only=c)),n||d instanceof Lt)if(x.option("functions")&&!x.option("ie8")&&d instanceof Ut&&1==$[s.id]&&0==s.assignments&&n instanceof ot&&!oe(s)&&!at(n)&&(o=n,0==(a=s.references).length?o===e.name.fixed_value():zn(a,function(e){return o===e.fixed_value()}))&&(r=n,!x.has_directive("use strict")&&r instanceof ht?h instanceof Ln||h instanceof Kn&&h.init===d||h instanceof Ft:h instanceof nt)&&!1!==(t=function(e,n){if(!e.name)return null;var t=e.name.definition();return 1<t.orig.length?null:!(0<t.assignments)&&(t.name==n?t:("await"!=n||!st(e))&&(("yield"!=n||!ft(e))&&(zn(t.references,function(e){return e.scope.find_variable(n)===s})&&t)))}(n,e.name.name))){switch(Mn.warn("Declaring {name} as function [{file}:{line},{col}]",H(e.name)),n.CTOR){case pt:i=_t;break;case dt:i=gt;break;case ht:i=bt;break;case vt:i=yt}var c=ce(i,e,n);c.name=ce(zi,e.name,e.name);var u=e.name.scope.resolve().def_function(c.name);t&&t.forEach(function(e){e.name=u.name,e.thedef=u,e.reference()}),v.push(c)}else f&&1<$[s.id]&&!(h instanceof Wt)&&s.orig.indexOf(e.name)>s.eliminated&&($[s.id]--,b++),p();else h instanceof Wt?p():f&&1<$[s.id]?(Mn.info("Dropping declaration of variable {name} [{file}:{line},{col}]",H(e.name)),$[s.id]--,s.eliminated++):m.push(e);else l(e.name)?((n=n&&n.drop_side_effect_free(x))&&g.push(n),1<$[s.id]?(Mn.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",H(e.name)),$[s.id]--,s.eliminated++):(e.value=null,m.push(e))):((n=n&&!n.single_use&&n.drop_side_effect_free(x))?(Mn.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",H(e.name)),g.push(n)):I(e.name,"Dropping unused variable {name}"),s.eliminated++)}function l(e){var n=e.definition();return n.orig[0]instanceof Fi&&n.scope.resolve()===e.scope.resolve()}function p(){0<g.length&&(0==_.length?v.push(ce(Yn,d,{body:G(d,g)})):n?(g.push(n),e.value=G(n,g)):e.value=ce(ai,e,{operator:"void",expression:G(e,g)}),g=[]),_.push(e)}}),m.length){case 0:if(0==_.length)break;if(_.length==b){[].unshift.apply(g,_.map(function(e){Mn.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",H(e.name));var n=e.name.definition(),t=ce(Mi,e.name,e.name);n.references.push(t);t=ce(ui,e,{operator:"=",left:t,right:e.value}),e=R(n,e);return 0<=e&&(A[n.id][e]=t),n.eliminated++,t}));break}case 1:if(0==_.length){var l=m[0].name.definition().id;if(l in D){d.definitions=m,D[l].init=d;break}}default:d.definitions=m.concat(_),v.push(d)}return 0<g.length&&v.push(ce(Yn,d,{body:G(d,g)})),Y(v,d,e)}if(d instanceof ui){if(n(d,N),d.left instanceof hi){var p=L(d.left,d.right,function(e){return e});if(!p)return d.right;d.left=p}return d}if(d instanceof Vn&&d.body instanceof Kn){if(n(d,N),d.body instanceof Un){p=d.body;return d.body=p.body.pop(),p.body.push(d),e?Tn.splice(p.body):p}return d}return d instanceof nt?(w(),d):d instanceof Ai?!x.option("imports")||d.definition().id in O?d:e?Tn.skip:null:void 0}function w(){var e=z;n(z=d,N),z=e}},function(e,n){if(e instanceof Un)return $e(e,N.parent(),n);if(e instanceof Kn)return e.init instanceof Un&&(r=e.init,e.init=r.body.pop(),r.body.push(e)),e.init instanceof bt?((r=r||ce(Un,e,{body:[e]})).body.splice(-1,0,e.init),e.init=null):e.init instanceof Yn?e.init=e.init.body:K(e.init)&&(e.init=null),r?n?Tn.splice(r.body):r:e;if(e instanceof Zn){if(!S||!x.option("loops"))return;if(!K(e.body))return;var t=b(e);if(!t)return;var i=t.definition();if(i.id in O)return;I(t,"Dropping unused loop variable {name}"),D[i.id]===e&&delete D[i.id];var r=[],t=e.object.drop_side_effect_free(x);return t&&(Mn.warn("Side effects in object of for-in loop [{file}:{line},{col}]",t.start),r.push(ce(Yn,e,{body:t}))),e.init instanceof Rt&&i.orig[0]instanceof Fi&&r.push(e.init),Y(r,e,n)}return e instanceof Xt?(e.properties&&0==e.properties&&(e.properties=null),e):e instanceof ei&&!(1<e.expressions.length)?ue(0,N.parent(),e,e.expressions[0]):void 0});N.push(x.parent()),k.transform(N),k instanceof it&&1==k.body.length&&k.body[0]instanceof Nn&&"use strict"==k.body[0].value&&(k.body.length=0),C.forEach(function(e){e.value=null}),F.forEach(function(e){e.name=null}),M.forEach(function(e){en(e,x,j)})}function I(e,n){Mn[0<e.definition().references.length?"info":"warn"](n+" [{file}:{line},{col}]",H(e))}function H(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function i(e){return e[e instanceof ui?"right":"value"]}function Y(e,n,t){switch(e.length){case 0:return t?Tn.skip:ce(In,n);case 1:return e[0];default:return t?Tn.splice(e):ce(Un,n,{body:e})}}function m(e,n){return e.scope===k&&(e.fixed&&n.fixed||(A[e.id]=!1),!1!==A[e.id])}function _(e,n){A[e.id]||(A[e.id]=[]),n.fixed.assigns&&An(A[e.id],n.fixed.assigns)}function R(e,n){e=A[e.id];return e&&e.indexOf(n)}function g(e,n,t){e.id in O||(n&&t?(O[e.id]=!0,u.push(e)):(l[e.id]=n,p[e.id]=t))}function B(e){var n=e.right;if(!e.write_only)return n;if(!(n instanceof fi&&he[n.operator]))return n;if(!(n.left instanceof Mi))return n;if(!(e.left instanceof Mi))return n;e=e.left.definition();return n.left.definition()!==e||n.right.has_side_effects(x)?n:(m(e,n.left)&&_(e,n.left),n.right)}function b(e){var n=e.init;if(n instanceof Rt)return(n=n.definitions[0].name)instanceof Si&&n;for(;n instanceof ni;)n=n.expression.tail_node();return n instanceof Mi?n:void 0}function a(e,n,t){e instanceof ui&&e.left instanceof Mi&&(i=e.left.definition()).scope===k&&d.add(i.id,e),e instanceof oi&&e.expression instanceof Mi&&(i=e.expression.definition()).scope===k&&d.add(i.id,e);var i,r=[],o=T(e,r);if(o&&k.variables.get(o.name)===(f=o.definition())&&(!oe(f)||zn(k.argnames,function(e){return!e.match_symbol(function(e){if(e instanceof $i){e=e.definition();return e.references.length>e.replaced}},!0)}))){if("p"===e.write_only&&e.right.may_throw_on_access(x,!0))return;var a,s=r.assign;return s&&(s.write_only=!0,s.walk(v),s.write_only="p"),r.forEach(function(e){e.walk(v)}),e instanceof ui&&(r=B(e),t&&!0===e.write_only&&f.scope===k&&!r.has_side_effects(x)?h.add(f.id,r):r.walk(v),e.left===o?e.write_only||g(f,!0,p[f.id]):(a=o.fixed_value())&&a.is_constant()||g(f,l[f.id],!0)),m(f,o)&&ur(o,e)!==o&&_(f,o),!0}if(e instanceof Zn){if(e.init instanceof Mi&&z===k&&((a=e.init.definition().id)in D||(D[a]=e)),!S||!x.option("loops"))return;if(!K(e.body))return;if(e.init.has_side_effects(x))return;if(!(o=b(e)))return;if((i=o.definition()).scope!==k){o=c(o.name);if(o===i||o&&o.redefined()===i)return}return e.object.walk(v),!0}if(e instanceof Mi)return(f=e.definition()).id in O||(O[f.id]=!0,u.push(f)),U(f.scope,e.scope)&&(!(i=f.redefined())||i.id in O||(O[i.id]=!0,u.push(i))),m(f,e)&&_(f,e),!0;if(e instanceof nt){var f=z;return z=e,n(),z=f,!0}}function y(e){return(e instanceof Kt?e.name:e)instanceof Si}function w(e,n){n.value=n.value.transform(N);var t=n.name.transform(e);if(!t){e=n.value.drop_side_effect_free(x);if(!e)return null;(t=n.name)instanceof hi?((t=t.clone())[t instanceof vi?"elements":"properties"]=[],e instanceof di||e.is_string(x)||t instanceof _i&&(e instanceof gi||e.is_boolean(x)||e.is_number(x))||(e=ce(di,e,{elements:[e]})),n.name=t):I(t,"Side effects in default value of unused variable {name}"),n.value=e}return n}function L(e,s,f){var c=new tr(function(t){if(t instanceof Kt){if(!(x.option("default_values")&&s&&s.is_defined(x)))return w(c,t);t=t.name}if(t instanceof vi){var e=s,i=(s=s instanceof Mi?s.fixed_value():s)instanceof di&&s.elements,r=[];if(t.elements.forEach(function(e,n){(s=i&&i[n])instanceof ri&&(s=i=null),e instanceof Xi||(e=e.transform(c))&&(r[n]=e)}),t.rest&&(x.option("rests")?(s=i&&ce(di,e,{elements:i.slice(t.elements.length)}),t.rest=t.rest.transform(c)):t.rest=t.rest.transform(N)),s=e,t.rest)r.length=t.elements.length;else if(i&&0==r.length)return null;return Fe(t,r),t.elements=r,t}if(t instanceof _i){e=s;if((s=s instanceof Mi?s.fixed_value():s)instanceof gi){i=Object.create(null);for(var n=0;n<s.properties.length;n++){var o=s.properties[n];if("string"!=typeof o.key){i=null;break}i[o.key]=o.value}}var a=[];return(t.properties.forEach(function(e){var n=e.key instanceof Mn?(e.key=e.key.transform(N),s=null,e.key.has_side_effects(x)):(s=i&&i[e.key],!1);(n||t.rest)&&y(e.value)?(e.value=e.value.transform(N),a.push(e)):(n=!(n=e.value.transform(c))&&t.rest?e.value instanceof vi?ce(vi,e.value,{elements:[]}):ce(_i,e.value,{properties:[]}):n)&&(e.value=n,a.push(e))}),t.rest&&(x.option("rests")?(s=i&&ce(gi,e,{properties:[]}),t.rest=t.rest.transform(c)):t.rest=t.rest.transform(N)),s=e,0!=a.length||t.rest||!s||s.may_throw_on_access(x))?(t.properties=a,t):null}return f(t)});return e.transform(c)}}),nt.DEFMETHOD("hoist_declarations",function(a){var s,f,c,n,u,l,p,d,h,v,m;a.has_directive("use asm")||(s=a.option("hoist_funs"),f=a.option("hoist_vars"),c=this,f&&(n=0,c.walk(new nr(function(e){return 1<n||(e instanceof Wt||(e instanceof nt&&e!==c||(e instanceof Ut?(n++,!0):void 0)))})),n<=1&&(f=!1)),(s||f)&&(u=Object.create(null),l=[],p=[],d=new qn,h=0,v=new tr(function(e,n,t){if(e!==c){if(e instanceof Nn)return l.push(e),t?Tn.skip:ce(In,e);var i;if(e instanceof mt)return s?(i=v.parent())instanceof Wt||i instanceof Gt||i!==c&&a.has_directive("use strict")?e:(p.push(e),t?Tn.skip:ce(In,e)):e;if(e instanceof Ut){if(!f)return e;if((i=v.parent())instanceof Wt)return e;if(!zn(e.definitions,function(e){e=e.name;return e instanceof Oi&&!u[e.name]&&c.find_variable(e.name)===e.definition()}))return e;e.definitions.forEach(function(e){d.set(e.name.name,e),++h});var r=e.to_assignments();if(i instanceof Qn&&i.init===e){if(r)return r;var o=e.definitions[0].name;return ce(Mi,o,o)}return i instanceof Kn&&i.init===e?r:r?ce(Yn,e,{body:r}):t?Tn.skip:ce(In,e)}return e instanceof nt?e:e instanceof Ti?(u[e.name]=!0,e):void 0}}),c.transform(v),0<h&&(m=[],c instanceof it&&c.each_argname(function(e){d.del(e.name)}),d.each(function(e,n){(e=e.clone()).value=null,m.push(e),d.set(n,e)}),0<m.length&&(function e(n){for(;n.length;){var t=n[0];if(t instanceof Yn){var i,r,o=t.body;if(o instanceof ui&&"="==o.operator&&(i=o.left)instanceof Ei&&d.has(i.name)){var a=d.get(i.name);if(a.value)break;var s=o.right;s instanceof ei&&(s=s.clone()),a.value=s,On(m,a),m.push(a),n.shift();continue}if(o instanceof ei&&(r=o.expressions[0])instanceof ui&&"="==r.operator&&(i=r.left)instanceof Ei&&d.has(i.name)){var a=d.get(i.name);if(a.value)break;a.value=r.right,On(m,a),m.push(a),t.body=G(o,o.expressions.slice(1));continue}}if(t instanceof In)n.shift();else{if(!(t instanceof Un)||e(t.body))break;n.shift()}}return n.length}(c.body),m=ce(Ut,c,{definitions:m}),p.push(m))),c.body=l.concat(p,c.body)))}),nt.DEFMETHOD("process_boolean_returns",wn),bt.DEFMETHOD("process_boolean_returns",function(e){var n;e.option("booleans")&&(n=Ne(this),Ie(this.name.definition(),n,e)&&(e.parent()instanceof Gt||He(this,e)))}),ht.DEFMETHOD("process_boolean_returns",function(e){if(e.option("booleans")){var n=Ne(this);if(!this.name||Ie(this.name.definition(),n,e)){var t=e.parent();if(t instanceof ui){if("="!=t.operator)return;if(!((i=t.left)instanceof Mi))return;if(!Ie(i.definition(),n,e))return}else if(t instanceof Qt&&t.expression!==this){var i,r=t.expression;if(!((r=r instanceof Mi?r.fixed_value():r)instanceof it))return;if(r.uses_arguments||r.pinned())return;if((i=(i=r.argnames[t.args.indexOf(this)])instanceof Kt?i.name:i)instanceof $i&&!Ie(i.definition(),n,e))return}else{if("Call"!=t.TYPE)return;e.pop();t=e.in_boolean_context();if(e.push(this),!t)return}He(this,e)}}}),Rn.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),t}),nt.DEFMETHOD("make_var",function(e,n,t){var i=[this];n instanceof Si&&n.definition().references.forEach(function(e){var n=e.scope;if(!bn(n,i))for(;An(i,n),(n=n.parent_scope)&&n!==this;);});for(var r=t=t.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),o=0;!zn(i,function(e){return!e.var_names()[r]});o++)r=t+"$"+o;var n=ce(e,n,{name:r,scope:this}),a=this.def_variable(n);return i.forEach(function(e){e.enclosed.push(a),e.var_names()[r]=!0}),n}),nt.DEFMETHOD("hoist_properties",function(e){var s,r,f;function c(e,n,t){if(e instanceof Ei){var i=e.definition();return i.assignments==t?!i.direct_access&&(1!=i.escaped.depth&&(i.references.length-i.replaced!=t&&(!i.single_use&&(!r(i)&&(e.fixed_value()===n&&(n instanceof gi&&0<n.properties.length&&zn(n.properties,gn)&&zn(i.references,function(e){return e.fixed_value()===n})&&se(e))))))):void 0}}e.option("hoist_props")&&!e.has_directive("use asm")&&(r=(s=this)instanceof tt&&e.top_retain||xn,f=Object.create(null),s.transform(new tr(function(t,e){if(t instanceof ui){if("="!=t.operator)return;if(!t.write_only)return;if(t.left.scope!==s)return;if(!c(t.left,t.right,1))return;e(t,this);var i=new qn,r=[],o=[];return t.right.properties.forEach(function(e){var n=a(t.left,e.key);o.push(ce(Vt,t,{name:n,value:null}));n=ce(Mi,t,{name:n.name,scope:s,thedef:n.definition()});n.reference(),r.push(ce(ui,t,{operator:"=",left:n,right:e.value}))}),f[t.left.definition().id]=i,s.body.splice(s.body.indexOf(this.stack[1])+1,0,ce(Ut,t,{definitions:o})),G(t,r)}if(t instanceof nt)return t===s?void 0:t;if(t instanceof Vt&&c(t.name,t.value,0)){e(t,this);var i=new qn,n=[];return t.value.properties.forEach(function(e){n.push(ce(Vt,t,{name:a(t.name,e.key),value:e.value}))}),f[t.name.definition().id]=i,Tn.splice(n)}function a(e,n){e=s.make_var(Oi,e,e.name+"_"+n);return i.set(n,e.definition()),e}})),s.transform(new tr(function(i,e){if(i instanceof fi)return t("right");if(i instanceof ni){if(!(i.expression instanceof Mi))return;var n=f[i.expression.definition().id];if(!n)return;n=n.get(i.getProperty()),n=ce(Mi,i,{name:n.name,scope:i.expression.scope,thedef:n});return n.reference(),n}return i instanceof oi&&!cr[i.operator]?t("expression"):void 0;function t(e){var n=i[e];if(n instanceof Mi&&n.definition().id in f){var t=i.clone();return t[e]=ce(gi,n,{properties:[]}),t}}})))}),(ve=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(Mn,En),ve(rt,Sn),ve(di,function(e,n){n=Re(this.elements,e,n,Be);return n?n===this.elements&&zn(n,function(e){return e instanceof ri})?this:G(this,n.map(Le)):null}),ve(ui,function(e){var n=this.left;if(n instanceof ni){var t=n.expression;if(t.may_throw_on_access(e,!0))return this;if(e.has_directive("use strict")&&t.is_constant())return this}if(n.has_side_effects(e))return this;t=this.right;if(he[this.operator.slice(0,-1)])this.write_only=!t.has_side_effects(e);else if(this.write_only=!0,le(n).is_constant_expression(e.find_parent(nt)))return t.drop_side_effect_free(e);return this}),ve(li,function(e){if(!e.option("awaits"))return this;var n=this.expression;if(!fn(e,n))return this;var t=this.clone();return t.expression=n.drop_side_effect_free(e)||ce(Li,this,{value:0}),t}),ve(fi,function(e,n){var t=this.left,i=this.right,r=this.operator;if("in"==r&&!sn(i))return(o=t.drop_side_effect_free(e,n))===t?this:((s=this.clone()).left=o||ce(Li,t,{value:0}),s);var o,a=i.drop_side_effect_free(e,n);if(!a)return t.drop_side_effect_free(e,n);if(he[r]&&a.has_side_effects(e)){var s=this;if(a!==i&&((s=s.clone()).right=a.drop_side_effect_free(e)),"??"==r)return s;r=ce(fi,this,{operator:"&&"==r?"||":"&&",left:t.negate(e,n),right:s.right});return(n?R:ee)(s,r)}return(o=t.drop_side_effect_free(e,n))?(a=a.drop_side_effect_free(e))?G(this,[o,a]):o:a}),ve(Qt,function(t,e){var n=this;if(n.is_expr_pure(t)){n.pure&&Mn.warn("Dropping __PURE__ call [{file}:{line},{col}]",n.start);var i=Re(n.args,t,e,Be);return i&&G(n,i.map(Le))}var r=n.expression;if(n.is_call_pure(t))return(f=n.args.slice()).unshift(r.expression),(f=Re(f,t,e,Be))&&G(n,f.map(Le));if(t.option("yields")&&ft(r)){i=n.clone();i.expression=ce(ht,r,r),i.expression.body=[];var o=i.transform(t);if(o!==i)return o.drop_side_effect_free(t,e)}var a,o=!1;if(t.option("arrows")&&at(r)?r.value?st(r)&&!fn(t,r.value)||(r.value=r.value.drop_side_effect_free(t)):o=!0:(r instanceof pt||r instanceof ht)&&(o=!r.name||(s=r.name.definition()).references.length==s.replaced),o&&(a=st(r),r.process_expression(!1,function(e){var n=e.value;if(n){if(a&&!fn(t,n))return e;n=n.drop_side_effect_free(t,!0)}return n?ce(Yn,e,{body:n}):ce(In,e)}),Pe(r,function(e){var n=e.value;n&&(a&&!fn(t,n)||(e.value=n.drop_side_effect_free(t)))}),(n=n.clone()).expression=r.clone(),r._squeezed&&(n.expression._squeezed=!0)),n instanceof Zt){var s=r;if((s=s instanceof Mi?s.fixed_value():s)instanceof it){s.new=!0;var f,o=zn(s.body,function(e){return!e.has_side_effects(t)});if(delete s.new,o)return(f=n.args.slice()).unshift(r),(f=Re(f,t,e,Be))&&G(n,f.map(Le));if(!s.contains_this())return ce(Qt,n,n)}}return n}),ve(wt,function(e,n){for(var t=[],i=[],r=this.properties,o=0;o<r.length;o++){var a=r[o];if(a.key instanceof Mn&&t.push(a.key),a instanceof St&&a.static&&a.value&&!(a.value instanceof it)){if(a.value.contains_this())return this;i.push(a.value)}}var s=this.extends;if(s&&((s=!f(s=s instanceof Mi?s.fixed_value():s))||t.unshift(this.extends)),t=Re(t,e,n),i=Re(i,e,n=t?!1:n),!t){if(!s&&!i)return null;t=[]}return s&&((s=Me(this,!0)).properties=[],t.length&&s.properties.push(ce(Tt,this,{key:G(this,t),value:ce(ht,this,{argnames:[],body:[]}).init_vars(s)})),t=[s]),i&&t.push(ce(Qt,this,{expression:ce(ut,this,{argnames:[],body:[],value:G(this,i)}).init_vars(this.parent_scope),args:[]})),G(this,t)}),ve(ci,function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie8")&&(n=[],i instanceof ht&&(n.push(i),i=null),r instanceof ht&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=ce(fi,this,{operator:"&&",left:this.condition,right:i}):t=r?ce(fi,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),e.option("ie8")?(t&&n.push(t),0==n.length?null:G(this,n)):t)}),ve(Ri,Sn),ve(ti,function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)}),ve(ht,function(e){return Ye(this,e)?null:this}),ve(ot,Sn),ve(gi,function(e,n){var t=[];this.properties.forEach(function(e){e instanceof ri?t.push(e):(e.key instanceof Mn&&t.push(e.key),t.push(e.value))});n=Re(t,e,n,function(e,n,t){var i=e.expression;return xe(i)?e:i.drop_side_effect_free(n,t)});return n?n!==t||zn(n,function(e){return!(e instanceof ri)})?G(this,n.map(function(e){return e instanceof ri?ce(gi,e,{properties:[e]}):e})):this:null}),ve(Pi,Sn),ve(ei,function(e,n){var t=Re(this.expressions,e,n);if(!t)return null;var i,r,o,a=t.length-1,s=t[a];return e.option("awaits")&&0<a&&s instanceof li&&s.expression.is_constant()&&(t=t.slice(0,-1),s.expression=t[--a],t[a]=s),e.option("conditionals")&&0<a&&(i=t[a-1])instanceof ui&&"="==i.operator&&(o=i.left)instanceof Mi&&(r=nn(e,o.definition(),i.right,s))&&((i=i.clone()).right=r,(t=t.slice(0,-2)).push(i.drop_side_effect_free(e,n))),t===this.expressions?this:G(this,t)}),ve(ii,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);e=this.property.drop_side_effect_free(e);return e?G(this,[t,e]):t}),ve(Mi,function(e){return this.is_declared(e)&&se(this,e)?null:this}),ve(Yi,function(e,n){if(this.tag&&!pn(e,this.tag))return this;var t=this.expressions;return 0==t.length?null:G(this,t).drop_side_effect_free(e,n)}),ve(oi,function(e,n){var t=this.expression;if(cr[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Mi&&se(t,e))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&Q(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}),e(Yn,function(e,n){if(n.option("side_effects")){var t=e.body,n=t.drop_side_effect_free(n,!0);if(!n)return Mn.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),ce(In,e);if(n!==t)return ce(Yn,e,{body:n})}return e}),e(Xn,function(e,n){return n.option("loops")?ce(Kn,e,e).optimize(n):e}),e(Jn,function(t,e){if(!e.option("loops"))return t;var n=t.condition.is_truthy()||t.condition.evaluate(e,!0);if(!(n instanceof Mn)){if(n&&!Ue(t,e.parent(),Ct))return ce(Kn,t,{body:ce(Un,t.body,{body:[t.body,ce(Yn,t.condition,{body:t.condition})]})}).optimize(e);if(!Ue(t,e.parent()))return ce(Un,t.body,{body:[t.body,ce(Yn,t.condition,{body:t.condition})]}).optimize(e)}if(t.body instanceof Un&&!Ue(t,e.parent(),Ct)){for(var i=t.body.body,r=i.length;0<=--r;){var o=i[r];if(o instanceof Ft&&!o.alternative&&o.body instanceof qt&&e.loopcontrol_target(o.body)===t){if(a(o.condition))break;t.condition=ce(fi,t,{operator:"&&",left:o.condition.negate(e),right:t.condition}),i.splice(r,1)}else if(o instanceof Yn){if(a(o.body))break;t.condition=G(t,[o.body,t.condition]),i.splice(r,1)}else if(!M(o))break}t.body=$e(t.body,e.parent())}return t.body instanceof In?ce(Kn,t,t).optimize(e):t.body instanceof Yn?ce(Kn,t,{condition:G(t.condition,[t.body.body,t.condition]),body:ce(In,t)}).optimize(e):t;function a(e){var n=!1;return e.walk(new nr(function(e){return!!n||(e instanceof Mi?(bn(e.definition(),t.enclosed)||(n=!0),!0):void 0)})),n}}),e(Kn,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t,i=e.condition.evaluate(n);if(i instanceof Mn?i=e.condition.is_truthy()||e.condition.evaluate(n,!0):i?e.condition=null:n.option("dead_code")||(t=e.condition,e.condition=J(i,e.condition),e.condition=ee(e.condition.transform(n),t)),i)!e.condition||i instanceof Mn||(e.body=ce(Un,e.body,{body:[ce(Yn,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){i=[];return Hn(e.init)?i.push(e.init):e.init&&i.push(ce(Yn,e.init,{body:e.init})),i.push(ce(Yn,e.condition,{body:e.condition})),P(n,e.body,i),ce(Un,e,{body:i}).optimize(n)}}return function n(t,i){var e=a(t.body);if(i.option("dead_code")&&(e instanceof qt||e instanceof Ct&&s(e)||e instanceof Dt)){var r=[];Hn(t.init)?r.push(t.init):t.init&&r.push(ce(Yn,t.init,{body:t.init}));var o=s(e)||e instanceof Dt;return t.condition&&o?r.push(ce(Ft,t,{condition:t.condition,body:e,alternative:null})):t.condition?r.push(ce(Yn,t.condition,{body:t.condition})):o&&r.push(e),P(i,t.body,r),ce(Un,t,{body:r})}if(e instanceof Ft){if((o=a(e.body))instanceof qt&&!s(o))return t.condition?t.condition=ce(fi,t.condition,{left:t.condition,operator:"&&",right:e.condition.negate(i)}):t.condition=e.condition.negate(i),r=z(e.alternative),P(i,e.body,r),f(r);if((o=a(e.alternative))instanceof qt&&!s(o))return t.condition?t.condition=ce(fi,t.condition,{left:t.condition,operator:"&&",right:e.condition}):t.condition=e.condition,r=z(e.body),P(i,e.alternative,r),f(r)}return t;function a(e){return e instanceof Un?e.body[0]:e}function s(e){return i.loopcontrol_target(e)!==i.self()}function f(e){return t.body instanceof Un?(t.body=t.body.clone(),t.body.body=e.concat(t.body.body.slice(1)),t.body=t.body.transform(i)):t.body=ce(Un,t.body,{body:e}).transform(i),n(t,i)}}(e,n)}),e(Qn,function(e,n){var t;return n.option("varify")&&O(e.init)&&(((t=e.init.definitions[0].name)instanceof hi||t instanceof Di)&&!t.match_symbol(function(e){if(e instanceof Si){e=e.definition();return!ln(e)||Je(n,e)}},!0)&&(e.init=Xe(e.init))),e}),e(Ft,function(e,f){if(K(e.alternative)&&(e.alternative=null),!f.option("conditionals"))return e;var n=e.condition.evaluate(f);if(f.option("dead_code")||n instanceof Mn||(c=e.condition,e.condition=J(n,c),e.condition=ee(e.condition.transform(f),c)),f.option("dead_code")){if(!(n=n instanceof Mn?e.condition.is_truthy()||e.condition.evaluate(f,!0):n)){Mn.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var t=[ce(Yn,e.condition,{body:e.condition})];return P(f,e.body,t),e.alternative&&t.push(e.alternative),ce(Un,e,{body:t}).optimize(f)}if(!(n instanceof Mn)){Mn.warn("Condition always true [{file}:{line},{col}]",e.condition.start);t=[ce(Yn,e.condition,{body:e.condition}),e.body];return e.alternative&&P(f,e.alternative,t),ce(Un,e,{body:t}).optimize(f)}}var i=e.condition.negate(f),r=e.condition.print_to_string().length,o=i.print_to_string().length,a=o<r;e.alternative&&a&&(a=!1,e.condition=i,u=e.body,e.body=e.alternative||ce(In,e),e.alternative=u);var s=[],c=[],n=p(e.body,t=[],s,c),u=p(e.alternative,t,s,c);if(n&&u)return 0<s.length&&t.push(ce(Ut,e,{definitions:s})),0==n.length?t.push(ce(Yn,e.condition,{body:0<u.length?ce(fi,e,{operator:"||",left:e.condition,right:G(e.alternative,u)}).transform(f):e.condition.clone()}).optimize(f)):0==u.length?(r===o&&!a&&e.condition instanceof fi&&"||"==e.condition.operator&&(a=!0),t.push(ce(Yn,e,{body:ce(fi,e,{operator:a?"||":"&&",left:a?i:e.condition,right:G(e.body,n)}).transform(f)}).optimize(f))):t.push(ce(Yn,e,{body:ce(ci,e,{condition:e.condition,consequent:G(e.body,n),alternative:G(e.alternative,u)})}).optimize(f)),c.forEach(function(e){e.definition().references.push(e)}),ce(Un,e,{body:t}).optimize(f);if((e=K(e.body)?ce(Ft,e,{condition:i,body:e.alternative,alternative:null}):e).body instanceof Dt&&e.alternative instanceof Dt&&e.body.TYPE==e.alternative.TYPE){var l=ce(e.body.CTOR,e,{value:ce(ci,e,{condition:e.condition,consequent:e.body.value||ce(Ji,e.body).transform(f),alternative:e.alternative.value||ce(Ji,e.alternative).transform(f)})});return l instanceof Ot&&(l.in_bool=e.body.in_bool||e.alternative.in_bool),l}if(Ae((e=e.body instanceof Ft&&!e.body.alternative&&!e.alternative?ce(Ft,e,{condition:ce(fi,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null}):e).body)&&e.alternative){l=e.alternative;return e.alternative=null,ce(Un,e,{body:[e,l]}).optimize(f)}if(Ae(e.alternative)){t=e.body;return e.body=e.alternative,e.condition=a?i:e.condition.negate(f),e.alternative=null,ce(Un,e,{body:[e,t]}).optimize(f)}return f.option("typeofs")&&Ve(e.condition,e.body,e.alternative),e;function p(e,n,t,i){if(null==e)return[];if(e instanceof Un){for(var r=[],o=0;o<e.body.length;o++){var a=e.body[o];if(a instanceof mt)n.push(a);else if(!(a instanceof In))if(a instanceof Yn){if(!f.option("sequences")&&0<r.length)return;r.push(a.body)}else{if(!(a instanceof Ut))return;if(!f.option("sequences")&&0<r.length)return;a.remove_initializers(f,t),a.definitions.forEach(s)}}return r}if(e instanceof mt)return n.push(e),[];if(e instanceof In)return[];if(e instanceof Yn)return[e.body];if(e instanceof Ut){r=[];return e.remove_initializers(f,t),e.definitions.forEach(s),r}function s(e){e.value&&r.push(ce(ui,e,{operator:"=",left:e.name.convert_symbol(Mi,function(e){i.push(e)}),right:e.value}))}}}),e(Mt,function(i,t){if(!t.option("switches"))return i;var e,n,r=i.expression.evaluate(t);if(r instanceof Mn||(n=i.expression,i.expression=J(r,n),i.expression=ee(i.expression.transform(t),n)),!t.option("dead_code"))return i;r instanceof Mn&&(r=i.expression.evaluate(t,!0));for(var o,a,s,f=[],c=[],u=0,l=i.body.length;u<l&&!s;u++){if((e=i.body[u])instanceof Pt){var p=c[c.length-1];if(o||_(e.body[0],t)&&(!p||Ae(p))){b(e,p);continue}o=e}else if(!(r instanceof Mn)){if(!((d=e.expression.evaluate(t))instanceof Mn)&&d!==r){b(e,c[c.length-1]);continue}(d=d instanceof Mn?e.expression.evaluate(t,!0):d)===r&&(s=e,o&&(a=c.indexOf(o),c.splice(a,1),b(o,c[a-1]),o=null))}Ae(e)&&Ae(p=c[c.length-1])&&p.body.length==e.body.length&&ce(Un,p,p).equivalent_to(ce(Un,e,e))&&(p.body=[]),c.push(e)}for(;u<l;)b(i.body[u++],c[c.length-1]);for(;e=c[c.length-1];){if(_(e.body[e.body.length-1],t)&&e.body.pop(),e===o){if(!q(e))break}else{if(e.expression.has_side_effects(t))break;if(o){if(!q(o))break;if(c[c.length-2]!==o)break;o.body=o.body.concat(e.body),e.body=[]}else if(!q(e))break}b(e),c.pop()===o&&(o=null)}if(0==c.length)return ce(Un,i,{body:f.concat(ce(Yn,i.expression,{body:i.expression}))}).optimize(t);if(c[0].body=f.concat(c[0].body),i.body=c,t.option("conditionals"))switch(c.length){case 1:if(!g(c[0]))break;var d=c[0].expression,h=c[0].body.slice();return c[0]!==o&&c[0]!==s?ce(Ft,i,{condition:ce(fi,i,{operator:"===",left:i.expression,right:d}),body:ce(Un,i,{body:h}),alternative:null}).optimize(t):(d&&h.unshift(ce(Yn,d,{body:d})),h.unshift(ce(Yn,i.expression,{body:i.expression})),ce(Un,i,{body:h}).optimize(t));case 2:if(!bn(o,c)||!g(c[1]))break;var v=(h=c[0].body.slice()).length&&_(h[h.length-1],t);if(v&&h.pop(),!zn(h,g))break;var m=c[1].body.length&&ce(Un,c[1],c[1]),h=ce(Ft,i,{condition:ce(fi,i,c[0]===o?{operator:"!==",left:i.expression,right:c[1].expression}:{operator:"===",left:i.expression,right:c[0].expression}),body:ce(Un,c[0],{body:h}),alternative:v&&m||null});return(h=!v&&m?ce(Un,i,{body:[h,m]}):h).optimize(t)}return i;function _(e,n){return e instanceof qt&&n.loopcontrol_target(e)===i}function g(e){var n=!1,t=new nr(function(e){if(n||e instanceof it||e instanceof Yn)return!0;_(e,t)&&(n=!0)});return t.push(i),e.walk(t),!n}function b(e,n){n&&!Ae(n)?n.body=n.body.concat(e.body):P(t,e,f)}}),e(It,function(e,n){if(e.body=j(e.body,n),n.option("dead_code")){if(q(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol(function(e){return e instanceof Fi&&!se(e)},!0))){var t=[];return e.bcatch&&(P(n,e.bcatch,t),t.forEach(function(e){e instanceof Ut&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),t.unshift(ce(Un,e,e).optimize(n)),e.bfinally&&t.push(ce(Un,e.bfinally,e.bfinally).optimize(n)),ce(Un,e,{body:t}).optimize(n)}if(e.bfinally&&q(e.bfinally)){t=ce(Un,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return ce(Un,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e}),Bt.DEFMETHOD("remove_initializers",We(function(e,n){return ce(Ji,n).optimize(e)})),Lt.DEFMETHOD("remove_initializers",We(Sn)),Ut.DEFMETHOD("remove_initializers",We(Sn)),Rt.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){var t,i=n.name.definition(),r=n.value;return r&&(r instanceof ei&&(r=r.clone()),t=ce(Mi,n.name,n.name),e.push(ce(ui,n,{operator:"=",left:t,right:r})),i.references.push(t)),i.eliminated++,i.single_use=!1,e},[]);return 0==e.length?null:G(this,e)}),e(Bt,Qe),e(Lt,Qe),e(Qt,function(l,f){var a=l.expression;if(f.option("sequences"))if(a instanceof ni){if((b=Ze(a))!==a){var e=l.clone();return e.expression=b.expressions.pop(),b.expressions.push(e),b.optimize(f)}}else if(!X(0,a.tail_node()))if((b=Ze(l))!==l)return b.optimize(f);if(f.option("unused")&&en(l,f),f.option("unsafe"))if(Z(a))switch(a.name){case"Array":if(1==l.args.length){if((c=l.args[0])instanceof Li)try{var n=c.value;if(6<n)break;for(var t=Array(n),i=0;i<n;i++)t[i]=ce(Xi,l);return ce(di,l,{elements:t})}catch(e){Mn.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:n,file:l.start.file,line:l.start.line,col:l.start.col});break}if(!c.is_boolean(f)&&!c.is_string(f))break}return ce(di,l,{elements:l.args});case"Object":if(0==l.args.length)return ce(gi,l,{properties:[]});break;case"String":if(0==l.args.length)return ce(Bi,l,{value:""});if(1==l.args.length)return ce(fi,l,{operator:"+",left:ce(Bi,l,{value:""}),right:l.args[0]}).optimize(f);break;case"Number":if(0==l.args.length)return ce(Li,l,{value:0});if(1==l.args.length)return ce(ai,l,{operator:"+",expression:ce(fi,l,{operator:"+",left:ce(Bi,l,{value:""}),right:l.args[0]})}).optimize(f);break;case"Boolean":if(0==l.args.length)return ce(Zi,l).optimize(f);if(1==l.args.length)return ce(ai,l,{operator:"!",expression:ce(ai,l,{operator:"!",expression:l.args[0]})}).optimize(f);break;case"RegExp":var r=[];if(zn(l.args,function(e){var n=e.evaluate(f);return r.unshift(n),e!==n}))try{return ne(f,l,ce(Vi,l,{value:RegExp.apply(RegExp,r)}))}catch(e){Mn.warn("Error converting {expr} [{file}:{line},{col}]",{expr:l,file:l.start.file,line:l.start.line,col:l.start.col})}}else if(a instanceof ti)switch(a.property){case"toString":var o=a.expression;if(0==l.args.length&&!(o.may_throw_on_access(f)||o instanceof Ni))return ce(fi,l,{operator:"+",left:ce(Bi,l,{value:""}),right:o}).optimize(f);break;case"join":if(a.expression instanceof di&&l.args.length<2)e:{var s=l.args[0];if(0==a.expression.elements.length&&!(s instanceof ri))return s?G(l,[s,ce(Bi,l,{value:""})]).optimize(f):ce(Bi,l,{value:""});if(!(s&&(s=s.evaluate(f))instanceof Mn)){for(var c,t=[],u=[],i=0;i<a.expression.elements.length;i++){var p=a.expression.elements[i];if((E=p.evaluate(f))!==p)u.push(E);else{if(p instanceof ri)break e;0<u.length&&(t.push(ce(Bi,l,{value:u.join(s)})),u.length=0),t.push(p)}}return(0<u.length&&t.push(ce(Bi,l,{value:u.join(s)})),1==t.length)?t[0].is_string(f)?t[0]:ce(fi,t[0],{operator:"+",left:ce(Bi,l,{value:""}),right:t[0]}):""==s?(c=t[0].is_string(f)||t[1].is_string(f)?t.shift():ce(Bi,l,{value:""}),t.reduce(function(e,n){return ce(fi,n,{operator:"+",left:e,right:n})},c).optimize(f)):((F=l.clone()).expression=F.expression.clone(),F.expression.expression=F.expression.expression.clone(),F.expression.expression.elements=t,ne(f,l,F))}}break;case"charAt":if(l.args.length<2)return(F=ce(fi,l,{operator:"||",left:ce(ii,l,{expression:a.expression,property:l.args.length?ce(fi,l.args[0],{operator:"|",left:ce(Li,l,{value:0}),right:l.args[0]}):ce(Li,l,{value:0})}).optimize(f),right:ce(Bi,l,{value:""})})).is_string=kn,F.optimize(f);break;case"apply":if(2==l.args.length&&l.args[1]instanceof di)return(z=l.args[1].elements.slice()).unshift(l.args[0]),ce(Qt,l,{expression:ce(ti,a,{expression:a.expression,property:"call"}),args:z}).optimize(f);break;case"call":o=a.expression;if((o=o instanceof Mi?o.fixed_value():o)instanceof it&&!o.contains_this())return(l.args.length?G(this,[l.args[0],ce(Qt,l,{expression:a.expression,args:l.args.slice(1)})]):ce(Qt,l,{expression:a.expression,args:[]})).optimize(f)}if(f.option("unsafe_Function")&&Z(a)&&"Function"==a.name){if(0==l.args.length)return ce(ht,l,{argnames:[],body:[]}).init_vars(a.scope);if(zn(l.args,function(e){return e instanceof Bi}))try{var d=fr(_="n(function("+l.args.slice(0,-1).map(function(e){return e.value}).join()+"){"+l.args[l.args.length-1].value+"})"),h={ie8:f.option("ie8")};d.figure_out_scope(h);var v,m=new lr(f.options);(d=d.transform(m)).figure_out_scope(h),d.compute_char_frequency(h),d.mangle_names(h),d.walk(new nr(function(e){return!!v||(e instanceof it?(v=e,!0):void 0)}));var _=pr();return Un.prototype._codegen.call(v,_),l.args=[ce(Bi,l,{value:v.argnames.map(function(e){return e.print_to_string()}).join()}),ce(Bi,l.args[l.args.length-1],{value:_.get().replace(/^\{|\}$/g,"")})],l}catch(e){if(!(e instanceof or))throw e;Mn.warn("Error parsing code passed to new Function [{file}:{line},{col}]",l.args[l.args.length-1].start),Mn.warn(e.toString())}}var g=a instanceof Mi?a.fixed_value():a,b=f.parent(),y=f.self(),m=g instanceof it&&(!st(g)||f.option("awaits")&&b instanceof li)&&(!ft(g)||f.option("yields")&&y instanceof pi&&y.nested),h=m&&g.first_statement(),w=0,x=!1,k=!zn(l.args,function(e){return!(e instanceof ri)}),d=m&&zn(g.argnames,function(e,n){if(1==w&&l.args[n]instanceof ri&&(w=2),e instanceof Kt){n=1==(w=w||1)&&l.args[n];if(n&&!de(n)&&(w=2),j(e.value))return;e=e.name}return!(e instanceof hi&&(x=!0,j(e)))})&&!(g.rest instanceof hi&&j(g.rest)),_=d&&f.option("inline")&&!l.is_expr_pure(f);if(_&&h instanceof Ot){var E=h.value;if(a===g&&!g.name&&(!E||E.is_constant_expression())&&H(g))return G(l,N(E)).optimize(f)}if(m){var S=!1;if(_&&!g.uses_arguments&&!g.pinned()&&!(g.name&&g instanceof ot)&&(a===g||!un(f,C=a.definition())&&g.is_constant_expression(V(f)))&&!k&&(E=function(e){var n=g.body.length;if(n<2&&(e=Y(e)))return e;if(f.option("inline")<3)return!1;e=null;for(var t=0;t<n;t++){var i=g.body[t];if(i instanceof Ut){var r=S||!zn(i.definitions,function(e){return!e.value});if(r&&(S=!0,e))return!1}else if(!(i instanceof _t||i instanceof bt||i instanceof In)){if(e)return!1;e=i}}return Y(e)}(h))&&!g.contains_this()){var T,A,D,O,$=a===g||C.single_use&&C.references.length-C.replaced==1;if(function(){if(!(w||x||S||g.rest)&&!(f.option("inline")<2&&g.argnames.length)&&g.variables.all(function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof $i})){var i,r=!1,o=I(),a=[],s=!1;if(E.walk(new nr(function(e,n){if(r)return!0;if(!(e instanceof fi&&he[e.operator]||e instanceof ci)){if(e instanceof nt)return r=!0;if(o&&e instanceof Ei&&o[e.name])return r=!0;if(e instanceof Mi){var t=e.definition();if(g.variables.get(e.name)!==t)return void(a=null);if(t.init instanceof mt)return r=!0;if(ur(e,this.parent()))return r=!0;t=R(t);return(i<t||(i=t),a)?void(s?a=null:a.push(g.argnames[t])):void 0}return e.has_side_effects(f)?(n(),s=!0):void 0}a=null})),!r){var e=l.args.length;if(a&&g.argnames.length>=e){for(e=g.argnames.length;e-- >i&&g.argnames[e]===a.pop(););e++}var n=s&&!a&&f.find_parent(nt);return e<=i||zn(l.args.slice(i,e),n?function(e){return e.is_constant_expression(n)}:function(e){return!e.has_side_effects(f)})}}}()){var z=l.args.slice(),q=[];z.push(E.clone(!0).transform(new tr(function(e){if(e instanceof Mi){var n=e.definition();if(g.variables.get(e.name)!==n)return q.push(e),e;var t=R(n),n=z[t];if(!n)return ce(Ji,l);z[t]=null;t=this.parent();return t?ue(0,t,e,n):n}})));var C=g.inlined;a!==g&&(g.inlined=!0);var F=G(l,z.filter(function(e){return e})).optimize(f);if(g.inlined=C,F=ue(0,b,y,F),$||ee(F,l)===F)return q.forEach(function(e){e.scope=a===g?g.parent_scope:a.scope,e.reference(),$?e.definition().replaced++:e.definition().single_use=!1}),F;F.has_side_effects(f)||(l.drop_side_effect_free=Sn)}if($&&function(){var e,n=Object.create(null),t=0;O=y;do{if(O.variables&&O.variables.each(function(e){n[e.name]=!0}),e=O,(O=f.parent(t++))instanceof Gn)D=[];else if(O instanceof Kn)O.init!==e&&(D=[]);else if(O instanceof Qn)O.init!==e&&O.object!==e&&(D=[]);else if(O instanceof Mi&&O.fixed_value()instanceof nt)return!1}while(!(O instanceof nt));if(!(A=O.body.indexOf(e)+1))return!1;if(!H(g))return!1;var i=a!==g||g.parent_scope.resolve()===O;O instanceof tt&&(f.toplevel.vars?n.arguments=!0:i=!1);var r=f.option("inline");if(T=Object.create(n),!function(n,t,i){var r=!1;return g.each_argname(function(e){if(!r&&!e.__unused){if(e instanceof Kt&&(e=e.name),!i||B(n,e.name))return r=!0;t[e.name]=!0,D&&D.push(e.definition())}}),!r}(n,T,2<=r&&i))return!1;var o=Object.create(T);return!!function(n,e,t){for(var i=0;i<g.body.length;i++){var r=g.body[i];if(r instanceof mt){if(!t||B(e,r.name.name))return!1;if(!zn(r.enclosed,function(e){return e.scope===r||!n[e.name]}))return!1;D&&D.push(r.name.definition())}else if(r instanceof Ut){if(!t)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(B(n,a.name))return!1;D&&D.push(a.definition())}}}return!0}(n,o,3<=r&&i)&&(!D||0==D.length||!hn(g,D))}()){g._squeezed=!0,a!==g&&(g.parent_scope=a.scope);F=G(l,function(){var e=[],n=[];(1<w||x||g.rest?function(i,r){function n(e,n){var t=ce(Oi,n,n);n.definition().orig.push(t),L(i,r,t)}r.push(ce(ui,l,{operator:"=",left:ce(vi,l,{elements:g.argnames.map(function(e){return e.convert_symbol(Mi,n)}),rest:g.rest&&g.rest.convert_symbol(Mi,n)}),right:ce(di,l,{elements:l.args.slice()})}))}:function(e,n){for(var t=g.argnames.length,i=l.args.length;--i>=t;)n.push(l.args[i]);var r,o=[];for(i=t;0<=--i;){var a=g.argnames[i];r=a instanceof Kt?(o.push(a),a.name):a;var s,f=l.args[i];r.__unused||O.var_names()[r.name]?f&&n.push(f):(s=ce(Oi,r,r),r.definition().orig.push(s),"__unused"in r?(L(e,n,s),f&&n.push(f)):(!f&&D&&a===r&&(f=ce(Ji,l)),L(e,n,s,f)))}for(e.reverse(),n.reverse(),i=o.length;0<=--i;){var c,u=o[i];"__unused"in u.name?n.push(u.value):(c=ce(Mi,u.name,u.name),u.name.definition().references.push(c),n.push(ce(ui,u,{operator:"=",left:c,right:u.value})))}})(e,n);var t=function(e,n){for(var t=[A,0],i=[],r=[],o=[],a=0;a<g.body.length;a++){var s=g.body[a];if(s instanceof mt)D?((p=ce(Oi,s.name,U(s.name))).definition().orig.push(p),L(e,n,p,je(s,!0))):(c=s.name.definition(),O.functions.set(c.name,c),O.variables.set(c.name,c),O.enclosed.push(c),O.var_names()[c.name]=!0,t.push(s));else if(s instanceof Ut)for(var f=0;f<s.definitions.length;f++){var c,u,l=s.definitions[f],p=U(l.name);L(i,r,p,l.value),D&&!Cn(T,p.name)&&(c=g.variables.get(p.name),u=ce(Mi,p,p),c.references.push(u),o.push(ce(ui,l,{operator:"=",left:u,right:ce(Ji,p)})))}}return[].push.apply(e,i),[].push.apply(n,o),[].push.apply(n,r),t}(e,n);n.push(E),e.length&&t.push(ce(Ut,g,{definitions:e}));return[].splice.apply(O.body,t),g.enclosed.forEach(function(e){O.var_names()[e.name]||(O.enclosed.push(e),O.var_names()[e.name]=!0)}),n}()).optimize(f);return ue(0,b,y,F)}}if(f.option("side_effects")&&d&&zn(g.body,K)&&(g===a?Ye(g,f):!w&&!x&&!g.rest)&&(!at(g)||!g.value)&&H(g))return G(l,N()).optimize(f)}if(f.option("drop_console")&&a instanceof ni){for(var M=a.expression;M.expression;)M=M.expression;if(Z(M)&&"console"==M.name)return ce(Ji,l).optimize(f)}return f.option("negate_iife")&&b instanceof Yn&&Q(y)?l.negate(f,!0):ie(f,l);function j(e){var n=!1;return e.walk(new nr(function(e){return!!n||(e instanceof Mi&&g.variables.get(e.name)===e.definition()?n=!0:void 0)})),n}function P(e){return ce(ti,e,{expression:ce(di,e,{elements:[]}),property:"e"})}function N(e){var a,t,n=l.args.slice(),i=1<w||x||g.rest;return(i||k)&&(n=[ce(di,l,{elements:n})]),i?(a=new tr(function(i,e){if(i instanceof Kt)return ce(Kt,i,{name:i.name.transform(a)||P(i),value:i.value});if(i instanceof vi){var t=[];return i.elements.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),Fe(i,t),ce(vi,i,{elements:t})}if(i instanceof _i){var r=[],o=[];return i.properties.forEach(function(e){var n=e.key,t=e.value.transform(a);t?(o.push(n instanceof Mn?n:J(n,e)),r.push(ce(mi,e,{key:G(i,o),value:t})),o=[]):n instanceof Mn&&o.push(n)}),o.length&&r.push(ce(mi,i,{key:G(i,o),value:P(i)})),ce(_i,i,{properties:r})}return i instanceof $i?null:void 0}),t=[],g.argnames.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),(i=g.rest&&g.rest.transform(a))&&(t.length=g.argnames.length),Fe(g,t),n[0]=ce(ui,l,{operator:"=",left:ce(vi,g,{elements:t,rest:i}),right:n[0]})):g.argnames.forEach(function(e){e instanceof Kt&&n.push(e.value)}),n.push(e||ce(Ji,l)),n}function I(){var e=[],n=O||f.find_parent(nt);return st(n)&&e.push("await"),ft(n)&&e.push("yield"),e.length&&$n(e)}function H(e){var t=I();if(!t)return 1;var i=!0,r=new nr(function(e){if(!i)return!0;if(e instanceof nt){if(e===g)return;if(at(e))for(var n=0;i&&n<e.argnames.length;n++)e.argnames[n].walk(r);else e instanceof mt&&t[e.name.name]&&(i=!1);return!0}e instanceof Ei&&t[e.name]&&e!==g.name&&(i=!1)});return e.walk(r),i}function Y(e){return e?e instanceof Ot?e.value||ce(Ji,l):e instanceof Yn?ce(ai,e,{operator:"void",expression:e.body}):void 0:ce(Ji,l)}function R(e){for(var n=g.argnames.length;0<=--n;)if(g.argnames[n].definition()===e)return n}function B(e,n){return e[n]||W[n]||O.var_names()[n]}function L(e,n,t,i){var r=t.definition();O.variables.set(t.name,r),O.enclosed.push(r),O.var_names()[t.name]||(O.var_names()[t.name]=!0,e.push(ce(Vt,t,{name:t,value:null}))),i&&(t=ce(Mi,t,t),r.references.push(t),n.push(ce(ui,l,{operator:"=",left:t,right:i})))}function U(e){var n=e.definition().redefined();return n&&((e=e.clone()).thedef=n),e}}),e(Zt,function(e,n){if(n.option("sequences")){var t=Ze(e);if(t!==e)return t.optimize(n)}if(n.option("unused")&&en(e,n),n.option("unsafe")){t=e.expression;if(Z(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return ce(Qt,e,e).transform(n)}}return e}),e(ei,function(e,o){var i=function(){if(!o.option("side_effects"))return e.expressions;var t=[],i=Fn(o),r=e.expressions.length-1;return e.expressions.forEach(function(e,n){(e=n<r?e.drop_side_effect_free(o,i):e)&&(D(t,e),i=!1)}),t}(),r=i.length-1;return function(){if(o.option("conditionals"))for(var e=1;e<r;e++){var n,t=i[e-1];t instanceof ui&&"="==t.operator&&t.left instanceof Mi&&(n=t.left.definition(),(n=nn(o,n,t.right,i[e]))&&(t.right=n,i.splice(e,1),r--))}}(),function(){if(o.option("side_effects")){for(;0<r&&de(i[r],o);)r--;r<i.length-1&&(i[r]=ce(ai,e,{operator:"void",expression:i[r]}),i.length=r+1)}}(),0==r?(e=ue(0,o.parent(),o.self(),i[0]))instanceof ei?e:e.optimize(o):(e.expressions=i,e)}),e(si,function(e,n){if(n.option("sequences")){var t=Ze(e);if(t!==e)return t.optimize(n)}return ie(n,e)});var tn=$n("+ -"),rn=$n("* / %");e(ai,function(e,n){var t=e.operator,i=e.expression;if(n.option("evaluate")&&"delete"==t&&!a(i))return G(e,[i,ce(er,e)]).optimize(n);if(n.option("sequences")&&function(){switch(t){case"delete":return!a(i.tail_node());case"typeof":return!Z(i.tail_node());default:return!0}}()){var r=Ze(e);if(r!==e)return r.optimize(n)}if(n.option("side_effects")&&"void"==t)return(i=i.drop_side_effect_free(n))?(e.expression=i,e):ce(Ji,e).optimize(n);if(n.option("booleans")){if("!"==t&&i.is_truthy())return G(e,[i,ce(Zi,e)]).optimize(n);if(n.in_boolean_context())switch(t){case"!":if(i instanceof ai&&"!"==i.operator)return i.expression;i instanceof fi&&(e=ne(n,e,i.negate(n,Fn(n))));break;case"typeof":Mn.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var o=[ce(er,e)];return i instanceof Mi&&se(i,n)||o.unshift(i),G(e,o).optimize(n)}}return"-"==t&&i instanceof Ki&&(i=i.transform(n)),n.option("evaluate")&&i instanceof fi&&tn[t]&&rn[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?ce(fi,e,{operator:i.operator,left:ce(ai,i.left,{operator:t,expression:i.left}),right:i.right}):"-"==t&&(i instanceof Li||i instanceof Ki)?e:ie(n,e);function a(e){return e instanceof Ki||e instanceof Gi||e instanceof Hi||e instanceof ni||e instanceof Mi||e instanceof Ji}}),e(li,function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var t=Ze(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){n=e.expression;if(n instanceof li)return n;if(n instanceof ai){if(n.expression instanceof li)return n;if("void"==n.operator)return ce(ai,e,{operator:"void",expression:ce(li,e,{expression:n.expression})})}}return e}),e(pi,function(e,n){if(!n.option("yields"))return e;if(n.option("sequences")){var t=Ze(e);if(t!==e)return t.optimize(n)}t=e.expression;if(e.nested&&"Call"==t.TYPE){n=t.clone().optimize(n);if("Call"!=n.TYPE)return n}return e}),fi.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof ni){if(!(this.left.expression instanceof ei))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),G(this,n)}if(this.left instanceof ei){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),G(this,n)}if(this.right instanceof ei){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Mi,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),G(this,n);if(0<o)return(t=this.clone()).right=G(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),G(this,n)}return this});var on=$n("indexOf lastIndexOf"),an=$n("== === != !== * & | ^");function sn(e){return e instanceof ui?"="==e.operator&&sn(e.right):e instanceof ei?sn(e.tail_node()):e instanceof Mi?sn(e.fixed_value()):e instanceof di||e instanceof wt||e instanceof it||e instanceof Zt||e instanceof gi}function fn(e,n){if(n.is_constant())return!0;if(n instanceof ui)return"="!=n.operator||fn(e,n.right);if(n instanceof fi)return!he[n.operator]||fn(e,n.left)&&fn(e,n.right);if(n instanceof ci)return fn(e,n.consequent)&&fn(e,n.alternative);if(n instanceof ei)return fn(e,n.tail_node());if(n instanceof Mi){var t=n.fixed_value();return t&&fn(e,t)}return n instanceof Yi?!n.tag||pn(e,n.tag):n instanceof oi||void 0}function cn(e,n){return n instanceof ti?cn(e,n.expression):n instanceof ii?cn(e,n.expression)&&cn(e,n.property):n instanceof Ei||!n.has_side_effects(e)}function un(e,n){var t=0,i=e.self();do{if(v(i)&&i.name&&i.name.definition()===n)return i}while(i=e.parent(t++))}function ln(e){var n=e.scope.resolve();return zn(e.references,function(e){return n===e.scope.resolve()})}function pn(e,n){return e.option("unsafe")&&n instanceof ti&&"raw"==n.property&&Z(n.expression)&&"String"==n.expression.name}function dn(e,n){return e instanceof Mi||e.TYPE===n.TYPE}function hn(t,n){var i=!1,r=new nr(function(e){return!!i||(e instanceof Mi&&bn(e.definition(),n)?i=!0:void 0)}),o=new nr(function(e){if(i)return!0;if(e instanceof nt&&e!==t){var n=o.parent();if(!(n instanceof Qt&&n.expression===e))return e.walk(r),!0}});return t.walk(o),i}e(fi,function(t,a){function n(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(a)&&!t.right.has_side_effects(a)}function e(e){n()&&(e&&(t.operator=e),e=t.left,t.left=t.right,t.right=e)}function i(){var e=t.right;t.left=ce(fi,t,{operator:t.operator,left:t.left,right:e.left,start:t.left.start,end:e.left.end}),t.right=e.right,t.left=t.left.transform(a)}if(!an[t.operator]||!t.right.is_constant()||t.left.is_constant()||t.left instanceof fi&&sr[t.left.operator]>=sr[t.operator]||e(),a.option("sequences")){var r=t.lift_sequences(a);if(r!==t)return r.optimize(a)}if(a.option("assignments")&&he[t.operator]){var o=t.right;if(t.left instanceof Mi&&o instanceof ui&&"="==o.operator&&t.left.equivalent_to(o.left))return t.right=o.right,o.right=t,o}if(a.option("comparisons"))switch(t.operator){case"===":case"!==":if(de(t.left,a)&&t.right.is_defined(a))return Mn.warn("Expression always defined [{file}:{line},{col}]",t.start),G(t,[t.right,ce("==="==t.operator?Zi:er,t)]).optimize(a);var s=!0;(t.left.is_string(a)&&t.right.is_string(a)||t.left.is_number(a)&&t.right.is_number(a)||t.left.is_boolean(a)&&t.right.is_boolean(a)||cn(a,t.left)&&t.left.equivalent_to(t.right))&&(t.operator=t.operator.slice(0,2));case"==":case"!=":if(!s&&de(t.left,a))t.left=ce(Wi,t.left);else if(a.option("typeofs")&&t.left instanceof Bi&&"undefined"==t.left.value&&t.right instanceof ai&&"typeof"==t.right.operator){var f=t.right.expression;(f instanceof Mi?!f.is_declared(a):f instanceof ni&&a.option("ie8"))||(t.right=f,t.left=ce(Ji,t.left).optimize(a),2==t.operator.length&&(t.operator+="="))}else if(t.left instanceof Mi&&t.right instanceof Mi&&t.left.definition()===t.right.definition()&&sn(t.left))return ce("="==t.operator[0]?er:Zi,t).optimize(a);break;case"&&":case"||":if((v=(v=t.left).operator==t.operator?v.right:v)instanceof fi&&v.operator==("&&"==t.operator?"!==":"===")&&t.right instanceof fi&&v.operator==t.right.operator&&(de(v.left,a)&&t.right.left instanceof Wi||v.left instanceof Wi&&de(t.right.left,a))&&!v.right.has_side_effects(a)&&v.right.equivalent_to(t.right.right)){f=ce(fi,t,{operator:v.operator.slice(0,-1),left:ce(Wi,t),right:v.right});return f=v!==t.left?ce(fi,t,{operator:t.operator,left:t.left.left,right:f}):f}}var c=a.option("booleans")&&a.in_boolean_context();if(c)switch(t.operator){case"+":var u=t.left.evaluate(a),l=t.right.evaluate(a);if(u&&"string"==typeof u)return Mn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),G(t,[t.right,ce(er,t)]).optimize(a);if(l&&"string"==typeof l)return Mn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),G(t,[t.left,ce(er,t)]).optimize(a);break;case"==":if(t.left instanceof Bi&&""==t.left.value&&t.right.is_string(a))return ce(ai,t,{operator:"!",expression:t.right}).optimize(a);break;case"!=":if(t.left instanceof Bi&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a)}var p,d,h=a.parent();if(a.option("comparisons")&&t.is_boolean(a)){if(!(h instanceof fi)||h instanceof ui){o=ne(a,t,ce(ai,t,{operator:"!",expression:t.negate(a,Fn(a))}));if(o!==t)return o}switch(t.operator){case">":e("<");break;case">=":e("<=")}}if(a.option("conditionals")&&he[t.operator]&&t.right instanceof fi&&t.operator==t.right.operator&&i(),a.option("strings")&&"+"==t.operator){if(t.right instanceof Bi&&""==t.right.value&&t.left.is_string(a))return t.left.optimize(a);if(t.left instanceof Bi&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a);if(t.left instanceof fi&&"+"==t.left.operator&&t.left.left instanceof Bi&&""==t.left.left.value&&t.right.is_string(a))return t.left=t.left.right,t.optimize(a);t.right instanceof fi&&t.operator==t.right.operator&&(t.left.is_string(a)&&t.right.is_string(a)||t.right.left.is_string(a)&&(t.left.is_constant()||!t.right.right.has_side_effects(a)))&&i()}if(a.option("evaluate")){var v,m,_=!0;switch(t.operator){case"&&":if(!(u=S(t.left)))return Mn.warn("Condition left of && always false [{file}:{line},{col}]",t.start),ue(0,h,a.self(),t.left).optimize(a);if(!(u instanceof Mn))return Mn.warn("Condition left of && always true [{file}:{line},{col}]",t.start),G(t,[t.left,t.right]).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof Mn)&&(c||"&&"==h.operator&&h.left===a.self()))return Mn.warn("Dropping side-effect-free && [{file}:{line},{col}]",t.start),t.left.optimize(a)}else{if(c)return Mn.warn("Boolean && always false [{file}:{line},{col}]",t.start),G(t,[t.left,ce(Zi,t)]).optimize(a);t.falsy=!0}if("||"==t.left.operator)if(!(b=t.left.right.evaluate(a,!0)))return ce(ci,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(a);break;case"??":var g=!0;case"||":var b,u=S(t.left,g);if(g?null==u:!u)return Mn.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:t.operator,value:g?"nulish":"false",file:t.start.file,line:t.start.line,col:t.start.col}),G(t,[t.left,t.right]).optimize(a);if(!(u instanceof Mn))return Mn.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:t.operator,value:g?"defined":"true",file:t.start.file,line:t.start.line,col:t.start.col}),ue(0,h,a.self(),t.left).optimize(a);if(l=t.right.evaluate(a)){if(!(g||l instanceof Mn)){if(c)return Mn.warn("Boolean || always true [{file}:{line},{col}]",t.start),G(t,[t.left,ce(er,t)]).optimize(a);t.truthy=!0}}else if(c||"||"==h.operator&&h.left===a.self())return Mn.warn("Dropping side-effect-free {operator} [{file}:{line},{col}]",{operator:t.operator,file:t.start.file,line:t.start.line,col:t.start.col}),t.left.optimize(a);if(!g&&"&&"==t.left.operator)if((b=t.left.right.is_truthy()||t.left.right.evaluate(a,!0))&&!(b instanceof Mn))return ce(ci,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(a);break;case"+":if((t=(t=t.left instanceof Ri&&t.right instanceof fi&&"+"==t.right.operator&&t.right.left instanceof Ri&&t.right.is_string(a)?ce(fi,t,{operator:"+",left:ce(Bi,t.left,{value:""+t.left.value+t.right.left.value,start:t.left.start,end:t.right.left.end}),right:t.right.right}):t).right instanceof Ri&&t.left instanceof fi&&"+"==t.left.operator&&t.left.right instanceof Ri&&t.left.is_string(a)?ce(fi,t,{operator:"+",left:t.left.left,right:ce(Bi,t.right,{value:""+t.left.right.value+t.right.value,start:t.left.right.start,end:t.right.end})}):t).right instanceof ai&&"-"==t.right.operator&&t.left.is_number(a)){t=ce(fi,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof ai&&"-"==t.left.operator&&n()&&t.right.is_number(a)){t=ce(fi,t,{operator:"-",left:t.right,right:t.left.expression});break}if(a.option("unsafe_math")&&t.left instanceof fi&&sr[t.left.operator]==sr[t.operator]&&t.right.is_constant()&&(t.right.is_boolean(a)||t.right.is_number(a))&&t.left.is_number(a)&&!t.left.right.is_constant()&&(t.left.left.is_boolean(a)||t.left.left.is_number(a))){t=ce(fi,t,{operator:t.left.operator,left:ce(fi,t,{operator:t.operator,left:t.right,right:t.left.left}),right:t.left.right});break}case"-":if(t.right instanceof ai&&"-"==t.right.operator&&t.left.is_number(a)&&t.right.expression.is_number(a)){t=ce(fi,t,{operator:"+",left:t.left,right:t.right.expression});break}case"*":case"/":_=a.option("unsafe_math"),"+"!=t.operator&&["left","right"].forEach(function(e){var n=t[e];n instanceof ai&&"+"==n.operator&&(((n=n.expression).is_boolean(a)||n.is_number(a)||n.is_string(a))&&(t[e]=n))});case"&":case"|":case"^":if("-"==t.operator||"/"==t.operator||!t.left.is_boolean(a)&&!t.left.is_number(a)||!t.right.is_boolean(a)&&!t.right.is_number(a)||!n()||t.left instanceof fi&&t.left.operator!=t.operator&&sr[t.left.operator]>=sr[t.operator]||(m=ce(fi,t,{operator:t.operator,left:t.right,right:t.left}),t=t.right instanceof Ri&&!(t.left instanceof Ri)?ne(a,m,t):ne(a,t,m)),!_||!t.is_number(a))break;!(t.right instanceof fi&&"%"!=t.right.operator&&sr[t.right.operator]==sr[t.operator]&&t.right.is_number(a)&&("+"!=t.operator||t.right.left.is_boolean(a)||t.right.left.is_number(a)))||"-"==t.operator&&t.left.is_negative_zero()||!t.right.left.is_constant_expression()&&t.right.right.has_side_effects(a)||(p=t.right.right,d=!1,p.walk(new nr(function(e){if(d)return!0;if(e instanceof ui){if(e.left instanceof ni)return d=!0}else if(e instanceof oi&&cr[e.operator]&&e.expression instanceof ni)return d=!0})),d)||"+"!=(t=ce(fi,t,{operator:k(t.operator,t.right.operator),left:ce(fi,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})).operator||t.right.is_boolean(a)||t.right.is_number(a)||(t.right=ce(ai,t.right,{operator:"+",expression:t.right})),t.right instanceof Ri&&t.left instanceof fi&&"%"!=t.left.operator&&sr[t.left.operator]==sr[t.operator]&&t.left.is_number(a)&&(t.left.left instanceof Ri?(v=E(t.left,t.operator,t.left.left,t.right,t.left.left.start,t.right.end),t=E(t,t.left.operator,ie(a,v),t.left.right)):t.left.right instanceof Ri&&(m=k(t.left.operator,t.operator),!(m=ie(a,E(t.left,m,t.left.right,t.right))).is_constant()||"-"==t.left.operator&&0!=t.right.value&&0==+m.value&&t.left.left.is_negative_zero()||(t=E(t,t.left.operator,t.left.left,m))))}if(!(h instanceof ai&&"delete"==h.operator)){if(t.left instanceof Li&&!t.right.is_constant())switch(t.operator){case"+":if(0==t.left.value){if(t.right.is_boolean(a))return ce(ai,t,{operator:"+",expression:t.right}).optimize(a);if(t.right.is_number(a)&&!t.right.is_negative_zero())return t.right}break;case"*":if(1==t.left.value)return t.right.is_number(a)?t.right:ce(ai,t,{operator:"+",expression:t.right}).optimize(a)}if(t.right instanceof Li&&!t.left.is_constant())switch(t.operator){case"+":if(0==t.right.value){if(t.left.is_boolean(a))return ce(ai,t,{operator:"+",expression:t.left}).optimize(a);if(t.left.is_number(a)&&!t.left.is_negative_zero())return t.left}break;case"-":if(0==t.right.value)return t.left.is_number(a)?t.left:ce(ai,t,{operator:"+",expression:t.left}).optimize(a);break;case"/":if(1==t.right.value)return t.left.is_number(a)?t.left:ce(ai,t,{operator:"+",expression:t.left}).optimize(a)}}}if(a.option("typeofs"))switch(t.operator){case"&&":Ve(t.left,t.right,null);break;case"||":Ve(t.left,null,t.right)}if(a.option("unsafe")){var y=T(t.right);if(c&&y&&("=="==t.operator||"!="==t.operator)&&t.left instanceof Li&&0==t.left.value)return("=="==t.operator?ce(ai,t,{operator:"!",expression:t.right}):t.right).optimize(a);var w=T(t.left);if(a.option("comparisons")&&function(){switch(t.operator){case"<=":return y&&t.left instanceof Li&&0==t.left.value;case"<":if(w&&t.right instanceof Li&&0==t.right.value)return!0;case"==":case"!=":return y?t.left instanceof Li&&-1==t.left.value||t.left instanceof ai&&"-"==t.left.operator&&t.left.expression instanceof Li&&1==t.left.expression.value:!1}}()){var x=ce(ai,t,{operator:"!",expression:ce(ai,t,{operator:"~",expression:w?t.left:t.right})});switch(t.operator){case"<":if(w)break;case"<=":case"!=":x=ce(ai,t,{operator:"!",expression:x})}return x.optimize(a)}}return ie(a,t);function k(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function E(e,n,t,i,r,o){return"+"==n&&(t.is_boolean(a)||t.is_number(a)||(t=ce(ai,t,{operator:"+",expression:t})),i.is_boolean(a)||i.is_number(a)||(i=ce(ai,i,{operator:"+",expression:i}))),ce(fi,e,{operator:n,left:t,right:i,start:r,end:o})}function S(e,n){return!!e.truthy||!(e.falsy&&!n)&&(!!e.is_truthy()||e.evaluate(a,!0))}function T(e){return"Call"==e.TYPE&&e.expression instanceof ti&&on[e.expression.property]}}),e(ji,function(e){return e}),e(Mi,function(e,n){if(!n.option("ie8")&&Z(e)&&(!e.scope.resolve().uses_with||!n.find_parent(et)))switch(e.name){case"undefined":return ce(Ji,e).optimize(n);case"NaN":return ce(Gi,e).optimize(n);case"Infinity":return ce(Ki,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&ur(n.self(),t)!==n.self()){var i,r,o,a=e.definition(),s=e.fixed_value(),t=a.single_use&&!(t instanceof Qt&&t.is_expr_pure(n));if(t)if(v(s)){if(a.scope===e.scope.resolve()&&!a.in_loop||n.option("reduce_funcs")&&1!=a.escaped.depth&&!s.inlined)if(un(n,a))t=!1;else if(s.name&&s.name.definition()!==a)t=!1;else if(s.parent_scope!==e.scope||ae(a)){if("f"==(t=s.is_constant_expression(e.scope)))for(var f=e.scope;(f instanceof mt||f instanceof ot)&&(f.inlined=!0),f=f.parent_scope;);}else(s.name&&("await"==s.name.name&&st(s)||"yield"==s.name.name&&ft(s))||s.has_side_effects(n)||n.option("ie8")&&s instanceof wt)&&(t=!1);else t=!1;t&&(s.parent_scope=e.scope)}else s&&s.is_constant_expression()&&!s.drop_side_effect_free(n)||(t=!1);if(t)return a.single_use=!1,s._squeezed=!0,s.single_use=!0,v(s=(s=s instanceof xt?Me(s):s)instanceof mt?je(s):s)&&(f=e.scope.resolve(),s.enclosed.forEach(function(e){s.variables.has(e.name)||f.var_names()[e.name]||(f.enclosed.push(e),f.var_names()[e.name]=!0)})),0<a.recursive_refs?(i=(p=s.clone(!0)).name.definition(),(u=(r=p.variables.get(p.name.name))&&r.orig[0])instanceof(d=p instanceof wt?(o="def_function",Ci):(o="def_variable",qi))||(((u=ce(d,p.name,p.name)).scope=p).name=u,(r=p[o](u)).recursive_refs=a.recursive_refs),p.walk(new nr(function(e){var n,t;e instanceof Mi&&((n=e.definition())===i?(e.thedef=r).references.push(e):(n.single_use=!1,v(t=e.fixed_value())&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&s.variables.get(t.name.name)===n&&(t.name=t.name.clone(),t=p.variables.get(t.name.name)||p[o](t.name),(e.thedef=t).references.push(e))))}))):(s instanceof nt?(n.push(s),p=s.optimize(n),n.pop()):p=s.optimize(n),p=p.transform(new tr(function(e,n){return e instanceof nt||n(e=e.clone(),this),e}))),a.replaced++,p;var c,u,l,p,d=e.fixed!==a.fixed;if(s&&(d||!1!==a.should_replace))if(s instanceof Ii?!ae(a)&&ln(a)&&(c=s):(l=s.evaluate(n,!0))!==s&&"function"!=typeof l&&("object"!=typeof l||l instanceof RegExp&&n.option("unsafe_regexp")&&!a.cross_loop&&ln(a))&&(c=J(l,s)),c)if(d||void 0!==a.should_replace||(u=c.optimize(n).print_to_string().length,h(s)||(u=Math.min(u,s.print_to_string().length)),l=a.name.length,n.option("unused")&&!n.exposed(a)&&(l+=(l+2+u)/(a.references.length-a.replaced-a.assignments)),l=u-Math.floor(l),a.should_replace=l<n.eval_threshold),d||a.should_replace)return h(s)?(p=c.optimize(n))===c&&(p=p.clone(!0)):(p=ee(c.optimize(n),s))!==c&&p!==s||(p=p.clone(!0)),a.replaced++,p}return e;function h(e){var n;return e.walk(new nr(function(e){if(n=e instanceof Mi?!0:n)return!0})),n}}),e(Yi,function(e,n){if(!n.option("templates"))return e;if(!e.tag||pn(n,e.tag)){for(var t=e.expressions.slice(),i=e.strings.slice(),r=!1,o=t.length;0<=--o;){var a=t[o],s=a.evaluate(n);s!==a&&((s=(""+s).replace(/\r|\\|`/g,function(e){return"\\"+("\r"==e?"r":e)})).length>a.print_to_string().length+3||(s=i[o]+s+i[o+1],typeof ce(Yi,e,{expressions:[],strings:[s],tag:e.tag}).evaluate(n)==typeof ce(Yi,e,{expressions:[a],strings:i.slice(o,o+2),tag:e.tag}).evaluate(n)&&(t.splice(o,1),i.splice(o,2,s),r=!0)))}r&&(e.expressions=t,e.strings=i)}return ie(n,e)}),e(Ji,function(e,n){if(n.option("unsafe_undefined")){var t=V(n).find_variable("undefined");if(t){t=ce(Mi,e,{name:"undefined",scope:t.scope,thedef:t});return t.is_undefined=!0,t}}n=ur(n.self(),n.parent());return n&&dn(n,e)?e:ce(ai,e,{operator:"void",expression:ce(Li,e,{value:0})})}),e(Ki,function(e,n){var t=ur(n.self(),n.parent());return(!t||!dn(t,e))&&(!n.option("keep_infinity")||t||V(n).find_variable("Infinity"))?ce(fi,e,{operator:"/",left:ce(Li,e,{value:1}),right:ce(Li,e,{value:0})}):e}),e(Gi,function(e,n){var t=ur(n.self(),n.parent());return(!t||!dn(t,e))&&(t||V(n).find_variable("NaN"))?ce(fi,e,{operator:"/",left:ce(Li,e,{value:0}),right:ce(Li,e,{value:0})}):e});var vn=$n("+ - * / % >> << >>> | ^ &"),mn=$n("* | ^ &");function _n(e,n){if(e=e instanceof Mi?e.fixed_value():e){if(!(e instanceof it))return 1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!e.contains_this())}}function gn(e){return e instanceof yi&&"string"==typeof e.key&&!(e instanceof wi&&e.value.contains_super())}e(ui,function(o,a){if(a.option("dead_code"))if(o.left instanceof ni){if("="==o.operator){if(o.__drop){var e=[o.left.expression];return o.left instanceof ii&&e.push(o.left.property),e.push(o.right),G(o,e).optimize(a)}if(o.left.equivalent_to(o.right)&&!o.left.has_side_effects(a))return o.right;e=o.left.expression;if(e instanceof it||!a.has_directive("use strict")&&e instanceof Ri&&!e.may_throw_on_access(a))return o.left instanceof ti?o.right:G(o,[o.left.property,o.right]).optimize(a)}}else if(o.left instanceof Mi&&zn(o.left.definition().orig,function(e){return!(e instanceof Ti)})){if("="==o.operator&&o.left.equivalent_to(o.right)&&!((f=a.parent())instanceof ai&&"delete"==f.operator))return o.right;if(o.left.is_immutable())return p();var n,t=o.left.definition(),s=t.scope.resolve(),i=s===a.find_parent(it),r=0,f=a.self();do{if(n=f,(f=a.parent(r++))instanceof ui){var c=!1;if(f.left.match_symbol(function(e){if(e instanceof ni)return!0;if(!c&&e instanceof Mi&&e.definition()===t){if(l(r,f))return!0;t.fixed=!1,c=!0}}))break;if(c)return p()}else{if(f instanceof Dt){if(!i)break;if(l(r,f))break;if(hn(s,[t]))break;return t.fixed=!1,p()}if(f instanceof Vt&&f.name instanceof Si&&f.name.definition()===t){if(l(r,f))break;return t.fixed=!1,p()}}}while(f instanceof fi&&f.right===n||f instanceof ci&&f.condition!==n||f instanceof ei&&f.tail_node()===n||f instanceof ai)}if(a.option("sequences")){var u=o.lift_sequences(a);if(u!==o)return u.optimize(a)}if(a.option("assignments")){if("="==o.operator&&o.left instanceof Mi&&o.right instanceof fi){if(o.right.left instanceof Mi&&o.right.left.name==o.left.name&&vn[o.right.operator])return ce(ui,o,{operator:o.right.operator+"=",left:o.left,right:o.right.right});if(o.right.right instanceof Mi&&o.right.right.name==o.left.name&&mn[o.right.operator]&&!o.right.left.has_side_effects(a))return ce(ui,o,{operator:o.right.operator+"=",left:o.left,right:o.right.left})}if(("-="==o.operator||"+="==o.operator&&(o.left.is_boolean(a)||o.left.is_number(a)))&&o.right instanceof Li&&1==o.right.value){u=o.operator.slice(0,-1);return ce(ai,o,{operator:u+u,expression:o.left})}}return ie(a,o);function l(e,n){var t=o.right;o.right=ce(Wi,t);var i,r=n.may_throw(a);for(o.right=t;i=a.parent(e++);){if(i===s)return;if(i instanceof It){if(i.bfinally)return 1;if(r&&i.bcatch)return 1}}}function p(){return("="!=o.operator?ce(fi,o,{operator:o.operator.slice(0,-1),left:o.left,right:o.right}):ue(0,a.parent(),o,o.right)).optimize(a)}}),e(ci,function(r,n){if(n.option("sequences")&&r.condition instanceof ei){var e=r.condition.expressions.slice();return r.condition=e.pop(),e.push(r),G(r,e)}if(!n.option("conditionals"))return r;var o=r.condition.is_truthy()||r.condition.evaluate(n,!0);if(!o)return Mn.warn("Condition always false [{file}:{line},{col}]",r.start),G(r,[r.condition,r.alternative]).optimize(n);if(!(o instanceof Mn))return Mn.warn("Condition always true [{file}:{line},{col}]",r.start),G(r,[r.condition,r.consequent]).optimize(n);var t=o.negate(n,Fn(n));ne(n,o,t)===t&&(r=ce(ci,r,{condition:t,consequent:r.alternative,alternative:r.consequent}),t=o,o=r.condition);var i=r.consequent,a=r.alternative;if(cn(n,o)){if(o.equivalent_to(i))return ce(fi,r,{operator:"||",left:o,right:a}).optimize(n);if(o.equivalent_to(a))return ce(fi,r,{operator:"&&",left:o,right:i}).optimize(n)}var s=i.tail_node();if(s instanceof ui){var f="="==s.operator,e=f?a.tail_node():a;if((f||i===s)&&e instanceof ui&&s.operator==e.operator&&s.left.equivalent_to(e.left)&&(f&&s.left instanceof Mi||!o.has_side_effects(n)&&m(i)&&m(a)))return ce(ui,r,{operator:s.operator,left:s.left,right:ce(ci,r,{condition:o,consequent:_(i),alternative:_(a)})})}if(i.equivalent_to(a))return G(r,[o,i]).optimize(n);var c,f=function e(n,t,i){if(!v(n,t))return!i&&ce(ci,r,{condition:o,consequent:n,alternative:t});var i=n.clone();i.expression=e(n.expression,t.expression);return i}(i,a,!0);if(f)return f;if(i instanceof Qt&&a.TYPE==i.TYPE&&0<=(c=h(i,a))&&i.expression.equivalent_to(a.expression)&&!o.has_side_effects(n)&&!i.expression.has_side_effects(n)){s=i.clone(),f=i.args[c];return s.args[c]=f instanceof ri?ce(ri,r,{expression:ce(ci,r,{condition:o,consequent:f.expression,alternative:a.args[c].expression})}):ce(ci,r,{condition:o,consequent:f,alternative:a.args[c]}),s}if(i instanceof ci&&i.alternative.equivalent_to(a))return ce(ci,r,{condition:ce(fi,r,{left:o,operator:"&&",right:i.condition}),consequent:i.consequent,alternative:a});if(i instanceof ci&&i.consequent.equivalent_to(a))return ce(ci,r,{condition:ce(fi,r,{left:t,operator:"||",right:i.condition}),consequent:a,alternative:i.alternative});if(a instanceof ci&&i.equivalent_to(a.consequent))return ce(ci,r,{condition:ce(fi,r,{left:o,operator:"||",right:a.condition}),consequent:i,alternative:a.alternative});if(a instanceof ci&&i.equivalent_to(a.alternative))return ce(ci,r,{condition:ce(fi,r,{left:t,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:i});if((i instanceof ei||a instanceof ei)&&i.tail_node().equivalent_to(a.tail_node()))return G(r,[ce(ci,r,{condition:o,consequent:g(i),alternative:g(a)}),i.tail_node()]).optimize(n);if(i instanceof fi&&"&&"==i.operator&&i.right.equivalent_to(a))return ce(fi,r,{operator:"&&",left:ce(fi,r,{operator:"||",left:t,right:i.left}),right:a}).optimize(n);if(i instanceof fi&&"||"==i.operator&&i.right.equivalent_to(a))return ce(fi,r,{operator:"||",left:ce(fi,r,{operator:"&&",left:o,right:i.left}),right:a}).optimize(n);if(a instanceof fi&&"&&"==a.operator&&a.right.equivalent_to(i))return ce(fi,r,{operator:"&&",left:ce(fi,r,{operator:"||",left:o,right:a.left}),right:i}).optimize(n);if(a instanceof fi&&"||"==a.operator&&a.right.equivalent_to(i))return ce(fi,r,{operator:"||",left:ce(fi,r,{operator:"&&",left:t,right:a.left}),right:i}).optimize(n);var u=n.option("booleans")&&n.in_boolean_context();return p(i)?d(a)?l(o):ce(fi,r,{operator:"||",left:l(o),right:a}):d(i)?p(a)?l(o.negate(n)):ce(fi,r,{operator:"&&",left:l(o.negate(n)),right:a}):p(a)?ce(fi,r,{operator:"||",left:l(o.negate(n)),right:i}):d(a)?ce(fi,r,{operator:"&&",left:l(o),right:i}):(n.option("typeofs")&&Ve(o,i,a),r);function l(e){return e.is_boolean(n)?e:ce(ai,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof er||u&&e instanceof Ri&&e.value||e instanceof ai&&"!"==e.operator&&e.expression instanceof Ri&&!e.expression.value}function d(e){return e instanceof Zi||u&&(e instanceof Ri&&!e.value||e instanceof ai&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof ai&&"!"==e.operator&&e.expression instanceof Ri&&e.expression.value}function h(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){if(t[o]instanceof ri!=i[o]instanceof ri)return-3;for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function v(e,n){if(e.TYPE==n.TYPE){if(e instanceof Qt)return-1!=h(e,n)?void 0:"Call"!=e.TYPE||!(e.expression instanceof ni||n.expression instanceof ni)||v(e.expression,n.expression);if(e instanceof ni){var t=e.property,i=n.property;return(t instanceof Mn?t.equivalent_to(i):t==i)&&!(e.expression instanceof Ni||n.expression instanceof Ni)}}}function m(e){return e===e.tail_node()||zn(e.expressions.slice(0,-1),function(e){return!e.has_side_effects(n)})}function _(e){if(!(e instanceof ei))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),G(e,n)}function g(e){return e instanceof ei?G(e,e.expressions.slice(0,-1)):ce(Li,e,{value:0})}}),e(Qi,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return ce(Li,e,{value:+e.value});n=n.parent();return n instanceof fi&&("=="==n.operator||"!="==n.operator)?(Mn.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:n.operator,value:e.value,file:n.start.file,line:n.start.line,col:n.start.col}),ce(Li,e,{value:+e.value})):ce(ai,e,{operator:"!",expression:ce(Li,e,{value:1-e.value})})}),e(ri,function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof di&&!(n.parent()instanceof gi)?Tn.splice(t.elements.map(function(e){return e instanceof Xi?ce(Ji,e).optimize(n):e})):e}),e(ii,function(e,t){var n=e.expression,i=e.property;if(t.option("properties")){var r=i.evaluate(t);if(r!==i){"string"==typeof r&&("undefined"==r?r=void 0:(m=parseFloat(r)).toString()==r&&(r=m));var i=e.property=ee(i,J(r,i).transform(t)),o=""+r;if(ir(o)&&o.length<=i.print_to_string().length+1)return ce(ti,e,{expression:n,property:o}).optimize(t)}}var a,s,f,c,u=t.parent(),l=ur(t.self(),u);if(t.option("arguments")&&n instanceof Mi&&oe(a=n.definition())&&!n.in_arg&&i instanceof Li&&(s=a.scope)===function(){var e,n=0;for(;e=t.parent(n++);)if(e instanceof it){if(e instanceof rt)return;if(!at(e))return f=t.parent(n),e}}()&&s.uses_arguments<(l?2:3)){var p=i.value;u instanceof ai&&"delete"==u.operator&&(a.deleted||(a.deleted=[]),a.deleted[p]=!0);var d=s.argnames[p];if(a.deleted&&a.deleted[p])d=null;else if(d)(!(d instanceof $i&&"await"!=d.name&&n.scope.find_variable(d.name)===(h=d.definition()))||(t.has_directive("use strict")||s.name||s.rest||!(f instanceof Qt&&p<f.args.length)||!zn(s.argnames,function(e){return e instanceof $i}))&&(w()||h.assignments||1<h.orig.length))&&(d=null);else if((l||!w())&&p<s.argnames.length+5&&t.drop_fargs(s,f)&&!s.rest)for(;p>=s.argnames.length;)d=s.make_var($i,s,"argument_"+s.argnames.length),s.argnames.push(d);if(d&&yn(function(e){return e.name===d.name},s.argnames)===d){l&&a.reassigned--;var h=ce(Mi,e,d);return h.reference(),delete d.__unused,h}}if(l)return e;if(t.option("sequences")&&"Call"!=u.TYPE&&!(u instanceof Qn&&u.init===e)){u=Ze(e);if(u!==e)return u.optimize(t)}if(r===i||(v=e.flatten_object(o,t))&&(n=e.expression=v.expression,i=e.property=v.property),t.option("properties")&&t.option("side_effects")&&i instanceof Li&&n instanceof di&&zn(c=n.elements,function(e){return!(e instanceof ri)})){var v=c[p=i.value];if(_n(v,t)){for(var m,_=v instanceof Xi,g=!_,b=[],y=c.length;--y>p;)(m=c[y].drop_side_effect_free(t))&&(b.unshift(m),g&&m.has_side_effects(t)&&(g=!1));for(g||b.unshift(v);0<=--y;)(m=c[y].drop_side_effect_free(t))?b.unshift(m):_?b.unshift(ce(Xi,c[y])):p--;return g?(b.push(v),G(e,b).optimize(t)):ce(ii,e,{expression:ce(di,n,{elements:b}),property:ce(Li,i,{value:p})})}}return ie(t,e);function w(){return!t.option("reduce_vars")||a.reassigned}}),ut.DEFMETHOD("contains_super",xn),lt.DEFMETHOD("contains_super",xn),it.DEFMETHOD("contains_super",function(){var n,t=this;return t.walk(new nr(function(e){return!!n||(e instanceof Ni?n=!0:e!==t&&e instanceof nt&&!at(e)||void 0)})),n}),mt.DEFMETHOD("contains_super",xn),nt.DEFMETHOD("contains_super",xn),ut.DEFMETHOD("contains_this",xn),lt.DEFMETHOD("contains_this",xn),Mn.DEFMETHOD("contains_this",function(){var n,t=this;return t.walk(new nr(function(e){return!!n||(e instanceof Ii?n=!0:e!==t&&e instanceof nt&&!at(e)||void 0)})),n}),ni.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=this.expression;if(t instanceof gi)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key==e){if(!zn(i,gn))break;if(!_n(o.value,n))break;if(i=i.map(function(e){return e.value}),o instanceof wi&&o.value instanceof ht&&!(n.parent()instanceof Qt)){if(o.value.uses_arguments)break;i[r]=ce(ut,o.value,o.value)}return ce(ii,this,{expression:ce(di,t,{elements:i}),property:ce(Li,this,{value:r})})}}}}),e(ti,function(e,n){"arguments"!=e.property&&"caller"!=e.property||Mn.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(ur(n.self(),t))return e;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof Qn&&t.init===e)){var i=Ze(e);if(i!==e)return i.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof ti&&"prototype"==e.expression.property){var r=e.expression.expression;if(Z(r))switch(r.name){case"Array":e.expression=ce(di,e.expression,{elements:[]});break;case"Function":e.expression=ce(ht,e.expression,{argnames:[],body:[]}).init_vars(r.scope);break;case"Number":e.expression=ce(Li,e.expression,{value:0});break;case"Object":e.expression=ce(gi,e.expression,{properties:[]});break;case"RegExp":e.expression=ce(Vi,e.expression,{value:/t/});break;case"String":e.expression=ce(Bi,e.expression,{value:""})}}i=e.flatten_object(e.property,n);return i?i.optimize(n):ie(n,e)}),e(vi,function(e,n){return n.option("rests")&&e.rest instanceof vi&&(e.elements=e.elements.concat(e.rest.elements),e.rest=null),e}),e(mi,function(e,n){var t;return!n.option("objects")||(t=e.key)instanceof Mn&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e}),e(gi,function(t,i){if(!i.option("objects"))return t;var e,r=!1,o=!1,a=!1,s=i.has_directive("use strict"),f=new qn,c=[];return t.properties.forEach(function(e){if(!(e instanceof ri))return l(e);o=!0;var n=e.expression;i.option("spreads")&&n instanceof gi&&zn(n.properties,function(e){return!(e instanceof ki||e instanceof ri)})?(r=!0,n.properties.forEach(function(e){l(e instanceof xi?ce(yi,e,{key:e.key,value:ce(Ji,e).optimize(i)}):e)})):(a=!0,u(),c.push(e))}),u(),r?(o&&a&&1==c.length&&((e=c[0])instanceof bi&&e.key instanceof Li&&(e.key=""+e.key.value)),ce(gi,t,{properties:c})):t;function u(){f.each(function(e){if(1==e.length)return c.push(e[0]);r=!0;var n=s&&!a&&e.pop();c.push(1==e.length?e[0]:ce(yi,t,{key:e[0].key,value:G(t,e.map(function(e){return e.value}))})),n&&c.push(n)}),f=new qn}function l(e){var n=e.key;n instanceof Mn&&(o=!0,(n=n.evaluate(i))===e.key?a=!0:n=e.key=""+n),gn(e)?(e.value.has_side_effects(i)&&u(),f.add(n,e)):(u(),c.push(e)),o&&!a&&"string"==typeof n&&p.test(n)&&(a=!0,(e=f.has(n)?f.get(n)[0]:e).key=ce(Li,e,{value:+n}))}}),e(Ot,function(e,n){return n.option("side_effects")&&e.value&&de(e.value,n)&&!A(n.find_parent(nt))&&(e.value=null),e})}(function(e,n){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;e=n(this,e);return e._optimized=!0,e})}),function(){function e(e,n){e.DEFMETHOD("_codegen",n)}var a=!1;Mn.DEFMETHOD("print",function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()});var n=pr({inline_script:!1,shebang:!1,width:!1});function t(e,n){e.DEFMETHOD("needs_parens",n)}function i(e){var n=e.parent();return!e.has_parens()&&Fn(e,!1,!0)?this.name||!(n instanceof Gt):!!(e.option("webkit")&&n instanceof ni&&n.expression===this)||(!!(e.option("wrap_iife")&&n instanceof Qt&&n.expression===this)||void 0)}function r(e){return!e.has_parens()&&Fn(e,!0)}function o(e){e=e.parent();return e instanceof fi?"**"==e.operator&&e.left===this:e instanceof Qt?e.expression===this:e instanceof wt||(e instanceof ni?e.expression===this:void 0)}function s(e,n){n=n.parent();return n instanceof li||(n instanceof fi?!(n instanceof ui):n instanceof Qt?n.expression===e:n instanceof wt||(n instanceof ci?n.condition===e:n instanceof ni?n.expression===e:n instanceof Yi?n.tag===e:n instanceof oi||void 0))}function f(e,t,i,n){var r=e.length-1,o=n,n=a;e.forEach(function(e,n){o&&(e instanceof Nn?"use asm"==e.value&&(a=!0):e instanceof In||(e instanceof Yn&&e.body instanceof Bi&&i.force_semicolon(),o=!1)),e instanceof In||(i.indent(),e.print(i),n==r&&t||(i.newline(),t&&i.newline()))}),a=n}function c(e,n){n.print("{"),n.with_indent(function(){n.append_comments(e,!0)}),n.print("}")}function u(e,n,t){0<e.body.length?n.with_block(function(){f(e.body,!1,n,t)}):c(e,n)}function l(t,i){return function(e){var n=this;e.print(t),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print(i),e.space(),n.object.print(e)}),e.space(),O(n.body,e)}}function p(e,t){t.with_parens(function(){e.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)}),e.rest&&(e.argnames.length&&t.comma(),t.print("..."),e.rest.print(t))})}function d(e,n){1==e.argnames.length&&e.argnames[0]instanceof $i&&!e.rest?e.argnames[0].print(n):p(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):u(e,n,!0)}function h(e,n){e.name&&(n.space(),e.name.print(n)),p(e,n),n.space(),u(e,n,!0)}function v(e){e.print("async"),e.space(),e.print("function"),h(this,e)}function m(e){e.print("async"),e.space(),e.print("function*"),h(this,e)}function _(e){e.print("function*"),h(this,e)}function g(e,n){var t=e.value;st(t)&&(n.print("async"),n.space()),ft(t)&&n.print("*"),T(e,n),h(e.value,n)}function b(t,i){return function(e){e.print(t);var n=this[i];n&&(e.space(),n.print(e)),e.semicolon()}}function y(e,n){n.newline(),e.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}function w(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var e=t.parent();e instanceof Wn&&e.init===this||t.semicolon()}}function x(e,n,t){var i=!1;t&&e.walk(new nr(function(e){return!!i||(e instanceof fi&&"in"==e.operator?i=!0:e instanceof nt&&(!at(e)||!e.value)||void 0)})),e.print(n,i)}function k(e,n){if(n.option("annotations")&&e.pure){var t,i=0,r=e;do{if(t=r,(r=n.parent(i++))instanceof Qt&&r.expression===t)return}while(r instanceof ni&&r.expression===t);n.print("string"==typeof e.pure?"/*"+e.pure+"*/":"/*@__PURE__*/")}}function E(e,t){(e.expression instanceof Qt||e.expression instanceof it)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}function S(e,t,i){var n=e.properties;0<n.length?t.with_block(function(){n.forEach(function(e,n){n&&(i||t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):c(e,t)}function T(e,n){var t=e.key;if(t instanceof Mn)n.with_square(function(){t.print(n)});else if(n.option("quote_keys"))n.print_string(t);else if(""+ +t==t&&0<=t)n.print(z(t));else{var i=e.start&&e.start.quote;if(e.private)n.print_name(t);else if(M[t]?!n.option("ie8"):ir(t)){if(!i||!n.option("keep_quoted_props"))return n.print_name(t),t;n.print_string(t,i)}else n.print_string(t,i)}}function A(n){return function(e){this.static&&(e.print("static"),e.space()),e.print(n),e.space(),T(this,e),h(this.value,e)}}function D(e){var n=e.definition();return n&&n.mangled_name||e.name}function O(e,n){n.option("braces")&&!(e instanceof Bt||e instanceof Lt)?q(e,n):e instanceof In?n.force_semicolon():e.print(n)}function $(e,n){return 0<e.args.length||n.option("beautify")}function z(e){var n,t,i=e.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i];return Math.floor(e)===e&&(e<0?r.push("-0x"+(-e).toString(16).toLowerCase()):r.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(i))?(t=n[0].length,e=i.slice(t),r.push(e+"e-"+(e.length+t-1))):(n=/0+$/.exec(i))?(t=n[0].length,r.push(i.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(r)}function q(e,n){e instanceof In?c(e,n):e instanceof Un?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function C(e,n){e.forEach(function(e){e.DEFMETHOD("add_source_map",n)})}Mn.DEFMETHOD("print_to_string",function(e){if(e){e=pr(e);return this.print(e),e.get()}return this.print(n),n.reset()}),t(Mn,xn),t(pt,i),t(dt,i),t(kt,i),t(ht,i),t(vt,i),t(gi,r),t(li,o),t(oi,o),t(ei,function(e){e=e.parent();return e instanceof di||at(e)&&e.value===this||e instanceof li||e instanceof fi||e instanceof Qt||e instanceof wt||e instanceof Et||e instanceof ci||e instanceof Kt||e instanceof mi||e instanceof Gt||e instanceof oe||e instanceof bi||e instanceof ni&&e.expression===this||e instanceof ri||e instanceof Yi&&e.tag===this||e instanceof oi||e instanceof Vt||e instanceof pi}),t(fi,function(e){var n=e.parent();if(n instanceof li)return!0;if(n instanceof fi){var t=n.operator,i=sr[t],r=this.operator,e=sr[r];return e<i||"??"==t&&("&&"==r||"||"==r)||i==e&&this===n["**"==t?"left":"right"]}return n instanceof Qt?n.expression===this:n instanceof wt||(n instanceof ni?n.expression===this:n instanceof oi||void 0)}),t(ni,function(e){var n=this,e=e.parent();if(e instanceof Zt&&e.expression===n){for(;(n=n.expression)instanceof ni;);return"Call"==n.TYPE}}),t(Qt,function(e){var n=e.parent();if(n instanceof Zt)return n.expression===this;if(e.option("webkit")){e=e.parent(1);return this.expression instanceof ht&&n instanceof ni&&n.expression===this&&e instanceof ui&&e.left===n}}),t(Zt,function(e){if($(this,e))return!1;e=e.parent();return e instanceof Qt?e.expression===this:e instanceof ni||(e instanceof Yi?e.tag===this:void 0)}),t(Li,function(e){if(!e.option("galio"))return!1;e=e.parent();return e instanceof ni&&e.expression===this&&/^0/.test(z(this.value))}),t(ut,function(e){return s(this,e)}),t(ui,function(e){return!!s(this,e)||(e.option("v8")?this.left instanceof hi:this.left instanceof _i?r(e):void 0)}),t(lt,function(e){return s(this,e)}),t(ci,function(e){return s(this,e)}),t(pi,function(e){return s(this,e)}),e(Nn,function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()}),e(Pn,function(e){e.print("debugger"),e.semicolon()}),e(tt,function(e){f(this.body,!0,e,!0),e.print("")}),e(Vn,function(e){this.label.print(e),e.colon(),this.body.print(e)}),e(Yn,function(e){this.body.print(e),e.semicolon()}),e(Un,function(e){u(this,e)}),e(In,function(e){e.semicolon()}),e(Jn,function(e){var n=this;e.print("do"),e.space(),q(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),e(Xn,function(e){var n=this;e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),O(n.body,e)}),e(Kn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init?(n.init instanceof Rt?n.init.print(e):x(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),e.space(),O(n.body,e)}),e(ae,l("for await","of")),e(Zn,l("for","in")),e(oe,l("for","of")),e(et,function(e){var n=this;e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),O(n.body,e)}),e(Wt,function(e){e.print("export"),e.space(),this.body.print(e)}),e(Gt,function(e){e.print("export"),e.space(),e.print("default"),e.space();var n=this.body;n.print(e),n instanceof kt&&!n.name||n instanceof xt||n instanceof mt||n instanceof ot&&!n.name&&!at(n)||e.semicolon()}),e(ce,function(t){var i=this;t.print("export"),t.space();var n=i.keys.length;function r(e){var n=i.aliases[e],e=i.keys[e];t.print_name(e),n!=e&&(t.space(),t.print("as"),t.space(),t.print_name(n))}0==n?c(i,t):"*"==i.keys[0]?r(0):t.with_block(function(){t.indent(),r(0);for(var e=1;e<n;e++)t.print(","),t.newline(),t.indent(),r(e);t.newline()}),t.space(),t.print("from"),t.space(),t.print_string(i.path,i.quote),t.semicolon()}),e(Jt,function(e){e.print("export"),e.space(),S(this,e),e.semicolon()}),e(Xt,function(e){var n=this;e.print("import"),e.space(),n.default&&n.default.print(e),n.all&&(n.default&&e.comma(),n.all.print(e)),n.properties&&(n.default&&e.comma(),S(n,e)),(n.all||n.default||n.properties)&&(e.space(),e.print("from"),e.space()),e.print_string(n.path,n.quote),e.semicolon()}),e(ut,function(e){d(this,e)}),e(lt,function(e){e.print("async"),e.space(),d(this,e)}),e(it,function(e){e.print("function"),h(this,e)}),e(_t,v),e(pt,v),e(gt,m),e(dt,m),e(yt,_),e(vt,_),e(wt,function(e){e.print("class"),this.name&&(e.space(),this.name.print(e)),this.extends&&(e.space(),e.print("extends"),e.space(),this.extends.print(e)),e.space(),S(this,e,!0)}),e(St,function(e){this.static&&(e.print("static"),e.space()),T(this,e),this.value&&(e.space(),e.print("="),e.space(),this.value.print(e)),e.semicolon()}),e(se,A("get")),e(fe,A("set")),e(Tt,function(e){this.static&&(e.print("static"),e.space()),g(this,e)}),e(Ot,b("return","value")),e($t,b("throw","value")),e(qt,b("break","label")),e(Ct,b("continue","label")),e(Ft,function(e){var n=this;e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof Bt||t instanceof Lt)||n.option("ie8")&&t instanceof Jn)return q(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Ft){if(!t.alternative)return q(e.body,n);t=t.alternative}else{if(!(t instanceof F))break;t=t.body}O(e.body,n)}(n,e),e.space(),e.print("else"),e.space(),n.alternative instanceof Ft?n.alternative.print(e):O(n.alternative,e)):O(n.body,e)}),e(Mt,function(t){var e=this;t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var i=e.body.length-1;i<0?c(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})})}),e(Pt,function(e){e.print("default:"),y(this,e)}),e(Nt,function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),y(this,e)}),e(It,function(e){e.print("try"),e.space(),u(this,e),this.bcatch&&(e.space(),this.bcatch.print(e)),this.bfinally&&(e.space(),this.bfinally.print(e))}),e(Ht,function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens(function(){n.argname.print(e)})),e.space(),u(n,e)}),e(Yt,function(e){e.print("finally"),e.space(),u(this,e)}),e(Bt,w("const")),e(Lt,w("let")),e(Ut,w("var")),e(Vt,function(e){var n;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),n=e.parent(1),x(this.value,e,n instanceof Kn||n instanceof Qn))}),e(Kt,function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)}),e(Qt,function(e){k(this,e),this.expression.print(e),E(this,e)}),e(Zt,function(e){k(this,e),e.print("new"),e.space(),this.expression.print(e),$(this,e)&&E(this,e)}),e(ei,function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break()&&(t.newline(),t.indent())),e.print(t)})}),e(ti,function(e){var n=this.expression;n.print(e);var t=this.property;e.option("ie8")&&M[t]?(e.print("["),e.add_mapping(this.end),e.print_string(t),e.print("]")):(n instanceof Li&&!/[ex.)]/i.test(e.last())&&e.print("."),e.print("."),e.add_mapping(this.end),e.print_name(t))}),e(ii,function(e){this.expression.print(e),e.print("["),this.property.print(e),e.print("]")}),e(ri,function(e){e.print("..."),this.expression.print(e)}),e(ai,function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof ai&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)}),e(si,function(e){this.expression.print(e),e.print(this.operator)}),e(fi,function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)}),e(ci,function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)}),e(li,function(e){e.print("await"),e.space(),this.expression.print(e)}),e(pi,function(e){e.print(this.nested?"yield*":"yield"),this.expression&&(e.space(),this.expression.print(e))}),e(di,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof Xi&&t.comma()}),t.space()}:wn)}),e(vi,function(t){var e=this.elements,n=e.length,i=this.rest;t.with_square(n||i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t)}),i?(n&&t.comma(),t.print("..."),i.print(t)):e[n-1]instanceof Xi&&t.comma(),t.space()}:wn)}),e(mi,function(e){var n=T(this,e),t=this.value;n&&t instanceof Si&&n==D(t)||(e.colon(),t.print(e))}),e(_i,function(t){var e=this.properties,n=e.length,i=this.rest;n||i?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),i&&(n&&(t.print(","),t.newline()),t.indent(),t.print("..."),i.print(t)),t.newline()}):c(this,t)}),e(gi,function(e){S(this,e)}),e(yi,function(e){T(this,e),e.colon(),this.value.print(e)}),e(wi,function(e){g(this,e)}),e(ki,A("get")),e(xi,A("set")),e(Ei,function(e){e.print_name(D(this))}),e(ji,function(e){var n=D(this);e.print_name(n);var t=this.alias;t!=n&&(e.space(),e.print("as"),e.space(),e.print_name(t))}),e(Ai,function(e){var n=D(this),t=this.key;t&&t!=n&&(e.print_name(t),e.space(),e.print("as"),e.space()),e.print_name(n)}),e(Xi,wn),e(Yi,function(e){this.tag&&this.tag.print(e),e.print("`");for(var n=0;n<this.expressions.length;n++)e.print(this.strings[n]),e.print("${"),this.expressions[n].print(e),e.print("}");e.print(this.strings[n]),e.print("`")}),e(Ri,function(e){e.print(""+this.value)}),e(Bi,function(e){e.print_string(this.value,this.quote)}),e(Li,function(e){var n=this.start;a&&n&&null!=n.raw?e.print(n.raw):e.print(z(this.value))}),e(Vi,function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"})+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}}).replace(/[\n\r\u2028\u2029]/g,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}));t=e.parent();t instanceof fi&&/^in/.test(t.operator)&&t.left===this&&e.print(" ")}),C([Mn,Vn],wn),C([di,Un,Ht,Ri,Pn,Rt,hi,Yt,At,it,Zt,gi,F,Ei,Mt,jt,It],function(e){e.add_mapping(this.start)}),C([mi,bi],function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)})}();var X=e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),K=X.reduce(function(e,n,t){return e[n]=t,e},Object.create(null));function Q(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e}while((e>>>=5)&&(t|=32),n+=X[t],e);return n}function Z(){var n=Object.create(null),t=[];return t.index=function(e){return Cn(n,e)||(n[e]=t.length,t.push(e)),n[e]},t}function ee(l){var a,s=Z(),o=l.includeSources&&Object.create(null),f=Z(),c="";l.orig&&Object.keys(l.orig).forEach(function(e){var n=l.orig[e],t=[0,0,1,0,0];if(l.orig[e]={names:n.names,mappings:n.mappings.split(/;/).map(function(e){return t[0]=0,e.split(/,/).map(function(e){return t.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=K[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(t,e))})}),sources:n.sources},o&&n.sourcesContent)for(var i=0;i<n.sources.length;i++){var r=n.sourcesContent[i];r&&(o[n.sources[i]]=r)}});var u=1,p=0,d=0,h=1,v=0,m=0;return{add:l.orig?function(e,n,t,i,r,o){var a=l.orig[e];if(a){var s,f=a.mappings[i-1];if(!f)return;for(var c=0;c<f.length;c++){var u=f[c][0];if(u<=r&&(s=f[c]),r<=u)break}!s||s.length<4?e=null:(e=a.sources[s[1]],i=s[2],r=s[3],4<s.length&&(o=a.names[s[4]]))}_(e,n,t,i,r,o)}:_,setSourceContent:o?function(e,n){e in o||(o[e]=n)}:wn,toString:function(){return JSON.stringify({version:3,file:l.filename||void 0,sourceRoot:l.root||void 0,sources:s,sourcesContent:o?s.map(function(e){return o[e]||null}):void 0,names:f,mappings:c})}};function _(e,n,t,i,r,o){if(null!=a||null!=e){if(a=e,u<n)for(p=0;c+=";",++u<n;);else c&&(c+=",");c+=Q(t-p),p=t,null!=e&&(e=s.index(e),c+=Q(e-d),d=e,c+=Q(i-h),h=i,c+=Q(r-v),v=r,l.names&&null!=o&&(o=f.index(o),c+=Q(o-m),m=o))}}}!function(){var i={Program:function(e){return new tt({start:s(e),end:f(e),body:r(e.body.map(l))})},ArrowFunctionExpression:function(e){var n=[],t=null;e.params.forEach(function(e){"RestElement"==e.type?t=l(e.argument):n.push(l(e))});var i=new(e.async?lt:ut)({start:s(e),end:f(e),argnames:n,rest:t}),e=l(e.body);return e instanceof Un?(i.body=r(e.body),i.value=null):(i.body=[],i.value=e),i},FunctionDeclaration:function(e){var n=e.async?e.generator?gt:_t:e.generator?yt:bt,t=[],i=null;return e.params.forEach(function(e){"RestElement"==e.type?i=l(e.argument):t.push(l(e))}),new n({start:s(e),end:f(e),name:l(e.id),argnames:t,rest:i,body:r(l(e.body).body)})},FunctionExpression:function(e){var n=e.async?e.generator?dt:pt:e.generator?vt:ht,t=[],i=null;return e.params.forEach(function(e){"RestElement"==e.type?i=l(e.argument):t.push(l(e))}),new n({start:s(e),end:f(e),name:l(e.id),argnames:t,rest:i,body:r(l(e.body).body)})},ClassDeclaration:function(e){return new xt({start:s(e),end:f(e),name:l(e.id),extends:l(e.superClass),properties:e.body.body.map(l)})},ClassExpression:function(e){return new kt({start:s(e),end:f(e),name:l(e.id),extends:l(e.superClass),properties:e.body.body.map(l)})},MethodDefinition:function(e){var n=e.key,t=!1,n=e.computed?l(n):"PrivateIdentifier"==n.type?(t=!0,"#"+n.name):a(n),i=Tt,r=l(e.value);switch(e.kind){case"get":i=se,r=new rt(r);break;case"set":i=fe,r=new rt(r)}return new i({start:s(e),end:f(e),key:n,private:t,static:e.static,value:r})},PropertyDefinition:function(e){var n=e.key,t=!1,n=e.computed?l(n):"PrivateIdentifier"==n.type?(t=!0,"#"+n.name):a(n);return new St({start:s(e),end:f(e),key:n,private:t,static:e.static,value:l(e.value)})},ForOfStatement:function(e){return new(e.await?ae:oe)({start:s(e),end:f(e),init:l(e.left),object:l(e.right),body:l(e.body)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new It({start:s(e),end:f(e),body:l(e.block).body,bcatch:l(n[0]),bfinally:e.finalizer?new Yt(l(e.finalizer)):null})},Property:function(e){var n=(e.computed?l:a)(e.key),n={start:s(e),end:f(e),key:n,value:l(e.value)};return"init"==e.kind?new(e.method?wi:yi)(n):(n.value=new rt(n.value),"get"==e.kind?new ki(n):"set"==e.kind?new xi(n):void 0)},ArrayExpression:function(e){return new di({start:s(e),end:f(e),elements:e.elements.map(function(e){return null===e?new Xi:l(e)})})},ArrayPattern:function(e){var n=[],t=null;return e.elements.forEach(function(e){null===e?n.push(new Xi):"RestElement"==e.type?t=l(e.argument):n.push(l(e))}),new vi({start:s(e),end:f(e),elements:n,rest:t})},ObjectPattern:function(e){var n=[],t=null;return e.properties.forEach(function(e){"RestElement"==e.type?t=l(e.argument):n.push(new mi(l(e)))}),new _i({start:s(e),end:f(e),properties:n,rest:t})},MemberExpression:function(e){return new(e.computed?ii:ti)({start:s(e),end:f(e),expression:l(e.object),property:e.computed?l(e.property):e.property.name})},MetaProperty:function(e){var n=l(e.meta),t=a(e.property);return"new"==n.name&&"target"==t?new Hi({start:s(e),end:f(e),name:"new.target"}):new ti({start:s(e),end:f(e),expression:n,property:t})},SwitchCase:function(e){return new(e.test?Nt:Pt)({start:s(e),end:f(e),expression:l(e.test),body:e.consequent.map(l)})},ExportAllDeclaration:function(e){var n=e.exported?a(e.exported):"*";return new ce({start:s(e),end:f(e),aliases:[n],keys:["*"],path:e.source.value})},ExportDefaultDeclaration:function(e){var n=l(e.declaration);if(!n.name)switch(n.CTOR){case _t:n=new pt(n);break;case gt:n=new dt(n);break;case xt:n=new kt(n);break;case bt:n=new ht(n);break;case yt:n=new vt(n)}return new Gt({start:s(e),end:f(e),body:n})},ExportNamedDeclaration:function(e){if(e.declaration)return new Wt({start:s(e),end:f(e),body:l(e.declaration)});if(e.source){var n=[],t=[];return e.specifiers.forEach(function(e){n.push(a(e.exported)),t.push(a(e.local))}),new ce({start:s(e),end:f(e),aliases:n,keys:t,path:e.source.value})}return new Jt({start:s(e),end:f(e),properties:e.specifiers.map(function(e){var n=new ji(l(e.local));return n.alias=a(e.exported),n})})},ImportDeclaration:function(e){var t=null,i=null,r=null;return e.specifiers.forEach(function(e){var n=new Ai(l(e.local));switch(e.type){case"ImportDefaultSpecifier":(i=n).key="";break;case"ImportNamespaceSpecifier":(t=n).key="*";break;default:n.key=e.imported.name||syn.name,(r=r||[]).push(n)}}),new Xt({start:s(e),end:f(e),all:t,default:i,properties:r,path:e.source.value})},ImportExpression:function(e){var n=s(e),t=l(e.source);return new Qt({start:n,end:f(e),expression:new Mi({start:n,end:t.start,name:"import"}),args:[t]})},VariableDeclaration:function(e){return new({const:Bt,let:Lt}[e.kind]||Ut)({start:s(e),end:f(e),definitions:e.declarations.map(l)})},Literal:function(e){var n={start:s(e),end:f(e)};if(e.bigint)return n.value=e.bigint.toLowerCase()+"n",new Ui(n);var t=e.value;if(null===t)return new Wi(n);var i=e.regex;if(i&&i.pattern)return n.value=new RegExp(i.pattern,i.flags),n.value.raw_source=i.pattern,new Vi(n);if(i)return n.value=e.regex&&e.raw?e.raw:t,new Vi(n);switch(typeof t){case"string":return n.value=t,new Bi(n);case"number":if(isNaN(t))return new Gi(n);var r,o=isFinite(t)?(n.value=(r=1/t<0)?-t:t,new Li(n)):(r=t<0,new Ki(n));return r?new ai({start:n.start,end:n.end,operator:"-",expression:o}):o;case"boolean":return new(t?er:Zi)(n)}},TemplateLiteral:function(e){return new Yi({start:s(e),end:f(e),expressions:e.expressions.map(l),strings:e.quasis.map(function(e){return e.value.raw})})},TaggedTemplateExpression:function(e){var n=l(e.quasi);return n.start=s(e),n.end=f(e),n.tag=l(e.tag),n},Identifier:function(e){for(var n,t=u.length-1;"ArrayPattern"==(n=u[--t]).type||"AssignmentPattern"==n.type&&n.left===u[t+1]||"ObjectPattern"==n.type||"Property"==n.type&&n.value===u[t+1]||"VariableDeclarator"==n.type&&n.id===u[t+1];);var i=Mi;switch(n.type){case"ArrowFunctionExpression":n.body!==u[t+1]&&(i=$i);break;case"BreakStatement":case"ContinueStatement":i=pe;break;case"CatchClause":i=Fi;break;case"ClassDeclaration":n.id===u[t+1]&&(i=ue);break;case"ClassExpression":n.id===u[t+1]&&(i=Ci);break;case"FunctionDeclaration":i=n.id===u[t+1]?zi:$i;break;case"FunctionExpression":i=n.id===u[t+1]?qi:$i;break;case"LabeledStatement":i=le;break;case"VariableDeclaration":i={const:Ti,let:Di}[n.kind]||Oi}return new i({start:s(e),end:f(e),name:e.name})},Super:function(e){return new Ni({start:s(e),end:f(e),name:"super"})},ThisExpression:function(e){return new Ii({start:s(e),end:f(e),name:"this"})},ParenthesizedExpression:function(e){var n=l(e.expression);return n.start.parens||(n.start.parens=[]),n.start.parens.push(s(e)),n.end.parens||(n.end.parens=[]),n.end.parens.push(f(e)),n}};function e(i){return function(e){var n=e.key instanceof Mn,t=n?h(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key};return{type:"MethodDefinition",kind:i,computed:n,key:t,static:e.static,value:h(e.value)}}}function n(n){return function(e){return{type:"ForOfStatement",await:n,left:h(e.init),right:h(e.object),body:h(e.body)}}}function t(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}function r(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof Yn))break;var i=t.body;if(!(i instanceof Bi))break;if(t.start.pos!==i.start.pos)break;e[n]=new Nn(i)}return e}function o(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new H({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:o(e)})}function f(e){var n=e.loc,t=n&&n.end,i=e.range;return new H({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:o(e)})}function a(e){return""+e["Identifier"==e.type?"name":"value"]}function c(e,n,t){var o="function From_Moz_"+e+"(M){\n";o+="return new U2."+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var a="function To_Moz_"+e+"(M){\n";a+="return {\ntype: "+JSON.stringify(e),t&&t.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(o+=",\n"+r+": ",a+=",\n"+t+": ",i){case"@":o+="M."+t+".map(from_moz)",a+="M."+r+".map(to_moz)";break;case">":o+="from_moz(M."+t+")",a+="to_moz(M."+r+")";break;case"=":o+="M."+t,a+="M."+r;break;case"%":o+="from_moz(M."+t+").body",a+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),o+="\n})\n}",a+="\n}\n}",o=new Function("U2","my_start_token","my_end_token","from_moz","return("+o+")")(_,s,f,l),a=new Function("to_moz","to_moz_block","to_moz_scope","return("+a+")")(h,v,m),i[e]=o,d(n,a)}i.UpdateExpression=i.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?ai:si)({start:s(e),end:f(e),operator:e.operator,expression:l(e.argument)})},c("EmptyStatement",In),c("ExpressionStatement",Yn,"expression>body"),c("BlockStatement",Un,"body@body"),c("IfStatement",Ft,"test>condition, consequent>body, alternate>alternative"),c("LabeledStatement",Vn,"label>label, body>body"),c("BreakStatement",qt,"label>label"),c("ContinueStatement",Ct,"label>label"),c("WithStatement",et,"object>expression, body>body"),c("SwitchStatement",Mt,"discriminant>expression, cases@body"),c("ReturnStatement",Ot,"argument>value"),c("ThrowStatement",$t,"argument>value"),c("WhileStatement",Xn,"test>condition, body>body"),c("DoWhileStatement",Jn,"test>condition, body>body"),c("ForStatement",Kn,"init>init, test>condition, update>step, body>body"),c("ForInStatement",Zn,"left>init, right>object, body>body"),c("DebuggerStatement",Pn),c("VariableDeclarator",Vt,"id>name, init>value"),c("CatchClause",Ht,"param>argname, body%body"),c("BinaryExpression",fi,"operator=operator, left>left, right>right"),c("LogicalExpression",fi,"operator=operator, left>left, right>right"),c("AssignmentExpression",ui,"operator=operator, left>left, right>right"),c("AssignmentPattern",Kt,"left>name, right>value"),c("ConditionalExpression",ci,"test>condition, consequent>consequent, alternate>alternative"),c("NewExpression",Zt,"callee>expression, arguments@args, pure=pure"),c("CallExpression",Qt,"callee>expression, arguments@args, pure=pure"),c("SequenceExpression",ei,"expressions@expressions"),c("SpreadElement",ri,"argument>expression"),c("ObjectExpression",gi,"properties@properties"),c("AwaitExpression",li,"argument>expression"),c("YieldExpression",pi,"argument>expression, delegate=nested"),d(tt,function(e){return m("Program",e)}),d(mt,function(e){var n=e.argnames.map(h);return e.rest&&n.push({type:"RestElement",argument:h(e.rest)}),{type:"FunctionDeclaration",id:h(e.name),async:st(e),generator:ft(e),params:n,body:m("BlockStatement",e)}}),d(it,function(e){var n=e.argnames.map(h);return e.rest&&n.push({type:"RestElement",argument:h(e.rest)}),at(e)?{type:"ArrowFunctionExpression",async:st(e),params:n,body:e.value?h(e.value):m("BlockStatement",e)}:{type:"FunctionExpression",id:h(e.name),async:st(e),generator:ft(e),params:n,body:m("BlockStatement",e)}}),d(xt,function(e){return{type:"ClassDeclaration",id:h(e.name),superClass:h(e.extends),body:{type:"ClassBody",body:e.properties.map(h)}}}),d(kt,function(e){return{type:"ClassExpression",id:h(e.name),superClass:h(e.extends),body:{type:"ClassBody",body:e.properties.map(h)}}}),d(se,e("get")),d(fe,e("set")),d(Tt,e("method")),d(St,function(e){var n=e.key instanceof Mn;return{type:"PropertyDefinition",computed:n,key:n?h(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:h(e.value)}}),d(ae,n(!0)),d(oe,n(!1)),d(Nn,function(e){return{type:"ExpressionStatement",expression:p(e,{type:"Literal",value:e.value})}}),d(jt,function(e){return{type:"SwitchCase",test:h(e.expression),consequent:e.body.map(h)}}),d(It,function(e){return{type:"TryStatement",block:v(e),handler:h(e.bcatch),guardedHandlers:[],finalizer:h(e.bfinally)}}),d(Ht,function(e){return{type:"CatchClause",param:h(e.argname),guard:null,body:v(e)}}),d(Wt,function(e){return{type:"ExportNamedDeclaration",declaration:h(e.body)}}),d(Gt,function(e){return{type:"ExportDefaultDeclaration",declaration:h(e.body)}}),d(ce,function(e){if("*"==e.keys[0])return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0]?null:{type:"Identifier",name:e.aliases[0]},source:{type:"Literal",value:e.path}};for(var n=[],t=0;t<e.aliases.length;t++)n.push({type:"ExportSpecifier",exported:{type:"Identifier",name:e.aliases[t]},local:{type:"Identifier",name:e.keys[t]}});return{type:"ExportNamedDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}}),d(Jt,function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map(function(e){return{type:"ExportSpecifier",local:h(e),exported:{type:"Identifier",name:e.alias}}})}}),d(Xt,function(e){var n=e.properties?e.properties.map(function(e){return{type:"ImportSpecifier",local:h(e),imported:{type:"Identifier",name:e.key}}}):[];return e.all&&n.unshift({type:"ImportNamespaceSpecifier",local:h(e.all)}),e.default&&n.unshift({type:"ImportDefaultSpecifier",local:h(e.default)}),{type:"ImportDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}}),d(Rt,function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(h)}}),d(ni,function(e){var n=e instanceof ii;return{type:"MemberExpression",object:h(e.expression),computed:n,property:n?h(e.property):{type:"Identifier",name:e.property}}}),d(oi,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof ai,argument:h(e.expression)}}),d(fi,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:h(e.left),operator:e.operator,right:h(e.right)}}),d(di,function(e){return{type:"ArrayExpression",elements:e.elements.map(h)}}),d(vi,function(e){var n=e.elements.map(h);return e.rest&&n.push({type:"RestElement",argument:h(e.rest)}),{type:"ArrayPattern",elements:n}}),d(mi,function(e){var n=e.key instanceof Mn;return{type:"Property",kind:"init",computed:n,key:n?h(e.key):{type:"Literal",value:e.key},value:h(e.value)}}),d(_i,function(e){var n=e.properties.map(h);return e.rest&&n.push({type:"RestElement",argument:h(e.rest)}),{type:"ObjectPattern",properties:n}}),d(bi,function(e){var n,t=e.key instanceof Mn,i=t?h(e.key):{type:"Literal",value:e.key};return e instanceof yi?n="init":e instanceof ki?n="get":e instanceof xi&&(n="set"),{type:"Property",kind:n,computed:t,method:e instanceof wi,key:i,value:h(e.value)}}),d(Ei,function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}}),d(Ni,function(){return{type:"Super"}}),d(Ii,function(){return{type:"ThisExpression"}}),d(Hi,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),d(Vi,function(e){var n=e.value.toString().match(/[gimuy]*$/)[0],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}}),d(Ui,function(e){e=e.value;return{type:"Literal",bigint:e.slice(0,-1),raw:e}}),d(Qi,t),d(Ri,t),d(Wi,t),d(g,function(e){return{type:"Identifier",name:String(e.value)}}),d(Yi,function(e){var t=e.strings.length-1,n={type:"TemplateLiteral",expressions:e.expressions.map(h),quasis:e.strings.map(function(e,n){return{type:"TemplateElement",tail:n==t,value:{raw:e}}})};return e.tag?{type:"TaggedTemplateExpression",tag:h(e.tag),quasi:n}:n}),Ln.DEFMETHOD("to_mozilla_ast",Un.prototype.to_mozilla_ast),Xi.DEFMETHOD("to_mozilla_ast",Sn),Mn.DEFMETHOD("to_mozilla_ast",function(){throw new Error("Cannot convert AST_"+this.TYPE)});var u=null;function l(e){u.push(e);var n=null;if(e){if(!Cn(i,e.type))throw new Error("Unsupported type: "+e.type);n=i[e.type](e)}return u.pop(),n}function p(e,n){var t=e.start,e=e.end;return null!=t.pos&&null!=e.endpos&&(n.range=[t.pos,e.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:e.endline?{line:e.endline,column:e.endcol}:null},t.file&&(n.loc.source=t.file)),n}function d(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return p(this,n(this))})}function h(e){return null!=e?e.to_mozilla_ast():null}function v(e){return{type:"BlockStatement",body:e.body.map(h)}}function m(e,n){var t=n.body.map(h);return n.body[0]instanceof Yn&&n.body[0].body instanceof Bi&&t.unshift(h(new In(n.body[0]))),{type:e,body:t}}Mn.from_mozilla_ast=function(e){var n=u;u=[];e=l(e);return u=n,e.walk(new nr(function(e){if(e instanceof pe){for(var n,t,i=0;(n=this.parent(i))&&!(n instanceof nt);i++)if(n instanceof Vn&&n.label.name==e.name){e.thedef=n.label;break}e.thedef||(t=e.start,ve("Undefined label "+e.name,t.file,t.line,t.col,t.pos))}})),e}}();var ne,te,ie,we=(ne=[],["null","true","false","Infinity","-Infinity","undefined"].forEach(xe),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach(function(e){Object.getOwnPropertyNames(e).map(xe),e.prototype&&(Object.getOwnPropertyNames(new e).map(xe),Object.getOwnPropertyNames(e.prototype).map(xe))}),$n(ne));function xe(e){ne.push(e)}function ke(e,n){e instanceof ci?(ke(e.consequent,n),ke(e.alternative,n)):e instanceof ei?ke(e.tail_node(),n):e instanceof Bi&&n(e.value)}function Ee(n){try{return JSON.parse(n)}catch(e){throw new Error("invalid input source map: "+n)}}function Se(n,t,e){e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function Te(e){e&&("props"in e?e.props instanceof qn||(e.props=qn.fromObject(e.props)):e.props=new qn)}function Ae(e){return{props:e.props.toObject()}}ie="undefined"==typeof Buffer?(te=atob,btoa):void 0===Buffer.alloc?(te=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(te=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")}),_.Dictionary=qn,_.is_statement=Hn,_.List=Tn,_.minify=function(i,r){try{(r=re(r,{annotations:void 0,compress:{},enclose:!1,ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&Mn.enable_validation();var e,n=r.timings&&{start:Date.now()};void 0===r.rename&&(r.rename=r.compress&&r.mangle),void 0!==r.annotations&&Se("annotations",r,["compress","output"]),r.ie8&&Se("ie8",r,["compress","mangle","output"]),r.keep_fnames&&Se("keep_fnames",r,["compress","mangle"]),r.toplevel&&Se("toplevel",r,["compress","mangle"]),r.v8&&Se("v8",r,["mangle","output"]),r.webkit&&Se("webkit",r,["mangle","output"]),r.mangle&&(r.mangle=re(r.mangle,{cache:r.nameCache&&(r.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),r.mangle.properties&&("object"!=typeof r.mangle.properties&&(r.mangle.properties={}),r.mangle.properties.keep_quoted&&(e=r.mangle.properties.reserved,Array.isArray(e)||(e=[]),r.mangle.properties.reserved=e),!r.nameCache||"cache"in r.mangle.properties||(r.mangle.properties.cache=r.nameCache.props||{})),Te(r.mangle.cache),Te(r.mangle.properties.cache)),r.sourceMap&&(r.sourceMap=re(r.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var o,t=[];if(r.warnings&&Mn.log_function(function(e){t.push(e)},"verbose"==r.warnings),n&&(n.parse=Date.now()),i instanceof tt)o=i;else{"string"==typeof i&&(i=[i]),r.parse=r.parse||{},r.parse.toplevel=null;var a,s=r.sourceMap&&r.sourceMap.content;for(u in(s="string"==typeof s&&"inline"!=s?Ee(s):s)&&(r.sourceMap.orig=Object.create(null)),i)Cn(i,u)&&(r.parse.filename=u,r.parse.toplevel=o=fr(i[u],r.parse),"inline"==s?(a=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;r=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!r)break;if("sourceMappingURL"==r[1]){if(!(r=/^data:application\/json(;.*?)?;base64,(\S+)$/.exec(r[2])))break;return te(r[2])}}Mn.warn("inline source map not found: {name}",{name:e})}(u,o))&&(r.sourceMap.orig[u]=Ee(a)):s&&(r.sourceMap.orig[u]=s))}e&&(h=e,o.walk(new nr(function(e){e instanceof Et||e instanceof bi?e.start&&e.start.quote&&d(e.key):e instanceof ii&&ke(e.property,d)}))),["enclose","wrap"].forEach(function(e){var n,t=r[e];t&&(n=o.print_to_string().slice(0,-1),o=o[e](t),i[o.start.file]=o.print_to_string().replace(n,""))}),r.validate&&o.validate_ast(),n&&(n.rename=Date.now()),r.rename&&(o.figure_out_scope(r.mangle),o.expand_names(r.mangle)),n&&(n.compress=Date.now()),r.compress&&(o=new lr(r.compress).compress(o),r.validate&&o.validate_ast()),n&&(n.scope=Date.now()),r.mangle&&o.figure_out_scope(r.mangle),n&&(n.mangle=Date.now()),r.mangle&&(o.compute_char_frequency(r.mangle),o.mangle_names(r.mangle)),n&&(n.properties=Date.now()),r.mangle&&r.mangle.properties&&function(e,t){t=re(t,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0);var n=Object.create(t.builtins?null:we);Array.isArray(t.reserved)&&t.reserved.forEach(function(e){n[e]=!0});var i,r=-1;t.cache?(i=t.cache.props).each(function(e){n[e]=!0}):i=new qn;var o,a=t.regex,s=!1!==t.debug;s&&(o=!0===t.debug?"":t.debug);var f=Object.create(null),c=Object.create(n);function u(e){return!c[e]&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function l(e){return!n[e]&&((!a||a.test(e))&&(i.has(e)||f[e]))}function p(e){u(e)&&(f[e]=!0),l(e)||(c[e]=!0)}function d(e){if(!l(e))return e;var n,t=i.get(e);if(!t){if(!s||u(n="_$"+e+"$"+o+"_")&&(t=n),!t)for(;!u(t=S(++r)););/^#/.test(e)&&(t="#"+t),i.set(e,t)}return t}function h(e){e instanceof ei?h(e.expressions.tail_node()):e instanceof Bi?e.value=d(e.value):e instanceof ci&&(h(e.consequent),h(e.alternative))}e.walk(new nr(function(e){if(e instanceof fi)"in"==e.operator&&ke(e.left,p);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof ti)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Mi))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;ke(e.args[1],p);break;case"hasOwnProperty":if(e.args.length<1)break;ke(e.args[0],p)}}else e instanceof Et?"string"==typeof e.key&&p(e.key):e instanceof ti?p(e.property):e instanceof bi?"string"==typeof e.key&&p(e.key):e instanceof ii&&ke(e.property,p)})),e.walk(new nr(function(e){if(e instanceof fi)"in"==e.operator&&h(e.left);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof ti)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Mi))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;h(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;h(e.args[0])}}else e instanceof Et?"string"==typeof e.key&&(e.key=d(e.key)):e instanceof ti?e.property=d(e.property):e instanceof bi?"string"==typeof e.key&&(e.key=d(e.key)):e instanceof ii&&(t.keep_quoted||h(e.property))}))}(o,r.mangle.properties),n&&(n.output=Date.now());var f={},c=re(r.output,{ast:!1,code:!0});if(c.ast&&(f.ast=o),c.code){if(r.sourceMap&&(c.source_map=ee(r.sourceMap),r.sourceMap.includeSources)){if(i instanceof tt)throw new Error("original source content unavailable");for(var u in i)Cn(i,u)&&c.source_map.setSourceContent(u,i[u])}delete c.ast,delete c.code;var l,p=pr(c);o.print(p),f.code=p.get(),r.sourceMap&&(f.map=c.source_map.toString(),(l=r.sourceMap.url)&&(f.code=f.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),f.code+="inline"==l?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+ie(f.map):"\n//# sourceMappingURL="+l))}return r.nameCache&&r.mangle&&(r.mangle.cache&&(r.nameCache.vars=Ae(r.mangle.cache)),r.mangle.properties&&r.mangle.properties.cache&&(r.nameCache.props=Ae(r.mangle.properties.cache))),n&&(n.end=Date.now(),f.timings={parse:.001*(n.rename-n.parse),rename:.001*(n.compress-n.rename),compress:.001*(n.scope-n.compress),scope:.001*(n.mangle-n.scope),mangle:.001*(n.properties-n.mangle),properties:.001*(n.output-n.properties),output:.001*(n.end-n.output),total:.001*(n.end-n.start)}),t.length&&(f.warnings=t),f}catch(e){return{error:e}}finally{Mn.log_function(),Mn.disable_validation()}function d(e){An(h,e)}var h},_.parse=fr,_.push_uniq=An,_.TreeTransformer=tr,_.TreeWalker=nr}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);