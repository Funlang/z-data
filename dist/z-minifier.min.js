function minify(t,a){const l="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(/,\s*/),c=(e,t)=>{let s=UglifyJS.minify(t?"$_z_d="+e:e).code;return s?s.replace(/;$|^\$_z_d=/g,""):e},n=e=>e.replace(/^\s+|\s+$|\/\*[^]*?\*\//g,"").replace(/\s{2,}|\r?\n/g," ").replace(/('[^']*'|"[^"]*")|\s*([{};:,])\s*|([(\[])\s+|\s+([)\]])/g,(e,t,s,a,l)=>(t||"")+(s||"")+(a||"")+(l||"")).replace(/[-\w]+:\s*;/g,"").replace(/;+([;}]|$)/g,"$1"),r=(e,t)=>"style"==e?n(t):"class"==e?t.replace(/^\s+|\s+$|(\s)\s+/g,"$1"):/^(?:[@:.#]|on)\w+|^z-data$/.test(e)?c(t,!e.startsWith("on")):t;let i=[],s;if("string"==typeof t){let e=document.createElement("z-temp");e.innerHTML=t.replace(/<[^>]*? html>/,e=>(s=e,"<html>")).replace(/<\/?(html|head|body)\b/g,e=>e+"-mini"),t=e}return p(t),i.join("").replace(/(<\/?(html|head|body))-mini\b/g,(e,t)=>t).replace(/<html>/,e=>s||e);function p(t){for(let e=(t.content||t).firstChild;e;e=e.nextSibling)!function(s){switch(s.nodeType){case 1:i.push("<",s.localName),s.getAttributeNames().forEach(e=>{i.push(" ",e);let t;(t=r(e,s.getAttribute(e)))&&(i.push("="),/[\s>'"]/.test(t)&&(t=t.includes('"')?"'"+t+"'":'"'+t+'"'),i.push(t))}),i.push(">"),"script"==s.localName?i.push(c(s.textContent)):"style"==s.localName?i.push(n(s.textContent)):p(s),l.includes(s.localName)||i.push("</",s.localName,">");break;case 3:/\S/.test(s.nodeValue)&&i.push(s.nodeValue.replace(/\s{2,}/g," "));break;case 8:let e;a&&(e=s.data.match(/^\s*@(\w+):\s*([^]+?)\s*\/?$/))&&(a[e[1]]=e[2])}}(e)}}