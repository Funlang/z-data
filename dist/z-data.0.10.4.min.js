"use strict";const ZData=(()=>{const p="z-data",d="z-none",o="z-comp",s=`[${p}]`,a=(d,"init");var e="ttribute";const h=`getA${e}`,f=`setA${e}`;h;var t="Element",r=`${t}Sibling`,e=`${t}Child`;const m=`first${e}`,g=`last${e}`,b=`previous${r}`,k=`next${r}`,y="insertBefore",x="forEach",u="includes",$="length",v="startsWith",w=(e,t=/ +/)=>e.trim().split(t),z="textContent",C="replace",D="last",T="_z_d",A="input",E="change",L="test",O="class",j="style",N=document,Z="createElement",P="addEventListener",_=Object.keys,n=Object.values,M=(e,t="object")=>typeof e==t,i=e=>M(e,"function"),l=console,c=l.log,W=Date.now,q=void 0,H=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,S=/^[:@.#!]./,F=/^(?:(:)(:?)|(@)|([.#!]))?([^.]*)(?:[.]([^.].*))?$/,B=e=>0<=e.indexOf("${")&&e.indexOf("`")<0,K=/-([a-z])/g,U=/[-_ ]+/g,V=/^(?:camel|prevent|stop|debounce|(\d+)(?:(m?)s)|capture|once|passive|self|away|window|document|(shift|ctrl|alt|meta)|(cmd|super))$/;let G=0,I=0,J,Q=()=>window.ZDataProxy||((e,t)=>{if(e&&M(e)&&!i(e)){for(var r in e)try{e[r]=Q()(e[r],t)}catch(e){}return new Proxy(e,t)}return e}),R=(t,r)=>{if(!t[T]||!(G<=t[T].age||t[T].ing)){(t[T]||(t[T]={})).age=G,t[T].ing=(t[T].ing||0)+1,r=r&&(t[T].env=r)||t[T].env||{ps:{},ks:[],k:"",d:{}};var e=e=>{xe++,$e(N.body),Y({r:t,p:t.parentElement,el:t},{...r,d:t[T].zd},e||G),xe--,we(N.body)};let i=fe(e);var l=t[T].zd;if(!l){let n={set:(e,t,r,l,s)=>{i();try{s||(e[t]=Q()(r,n))}catch(e){}return!0}};ZData.proxy=e=>Q()(e,n),l=he(t,t[h](p)||"{}",r),t.$data=t[T].zd=l=Q()(l,n),t[h](a)&&he(t,t[h](a),{...r,d:l})}e(!0),t[T].ing--}},X={},Y=(r,l,s)=>{let{p:n,el:i}=r,e,t=i[T]||(i[T]={}),a=t.as||(t.as=(e=X[i[h]("z-d")])?e.as:i.getAttributeNames());if(!a[u](d)){if(!r.cp){let e,t;if(s===q&&a[u](p))return R(i,l);if(a[u](o)&&(e=i[h](o))){try{t=/^([.\/]|https?:)/[L](e)?fetch(e).then(e=>e.text()):/^z:/[L](e)&&ZData.get?ZData.get(e[C](/^z:\/*/,"")):he(i,e,l),t.then(e=>{"-"==i.localName.charAt(1)||a[u]("del")?(ye(e,n,i),i.remove()):(ye(e,i),i.removeAttribute(o))}).catch(re)}catch(e){}return}if(i.content&&"template"==i.localName)return void((e=i[h]("for"))?ae(r,e,l):(e=i[h]("if"),le(r,e,l)))}pe(r,l,a,e),ee({cp:r.cp,r:r.r,p:i,el:i[m]},l)}},ee=(e,t,r,l)=>{for(;e.el&&(!r||!1!==r(e));e.el=e.next)e.next=e.el[k],l&&!0!==l(e,t)||Y(e,t)},te=({el:e})=>!!e.attributes.else,re=()=>{},le=(e,t,r)=>{let{p:l,el:s}=e;if(!t||he(s,t,r)){let t=e.next;s[T][D]?(e.el=t,t=s[T][D][k],ee(e,r,({el:e})=>e!=t),ee(e,r,te,re)):(se(e),e.el=e.el[k],ee(e,r,({el:e})=>e!=t),ee(e,r,te,ne)),s[T][D]=t?t[b]:l[g]}else ne(e,r)},se=({p:t,el:e,next:r,n:l})=>{(l=e[T].node)||(l=e[T].node=e.content,ee({cp:1,p:l,el:l[m]}));for(let e=l[m];e;e=e[k])l=e.cloneNode(!0),t[y](l,r)},ne=(e,t)=>{var r;e.el[T]&&e.el[T][D]&&(r=e.el[T][D][k],e.el[T][D]=q,e.el=e.next,ie(e,r,t))},ie=(e,t,r)=>{ee(e,r,({el:e})=>e!=t,({el:e})=>{e.remove()})},ae=(d,f,m)=>{f=H.exec(f);if(f){let{p:t,el:r}=d,e=he(r,f[4],m),l={k:f[1],v:f[2],i:f[3]},s={...m,ps:{...m.ps}},n=r[h]("key"),i=n&&w(n,"."),a=r[T].ns||(r[T].ns={}),o=0,c=r,p=r[T].age=(r[T].age||0)+1;for(var u in i=i&&2==i[$]&&i[0]==l.v&&i[1],l.k&&(s.ps[l.k]=q),l.v&&(s.ps[l.v]=q),l.i&&(s.ps[l.i]=q),s.ks=_(s.ps),s.k=s.ks.join(","),e){var v=e[u];l.k&&(s.ps[l.k]=u),l.v&&(s.ps[l.v]=v),l.i&&(s.ps[l.i]=o++);v=i?v[i]:n?he(r,n,s):l.k?u:v;if(v!==q){let l=c[k],e=a[v];if(e){let t=e[D][k],r=e.head!=l;r&&l&&!e.head[T].skip&&(l[T].skip=1,d.el=l,l=l[T][D][k],ee(d,s,({el:e})=>e!=l,re),r=e.head!=(l=d.next)),d.el=e.head,d.el[T].skip=0,ee(d,s,({el:e})=>e!=t,({p:e,el:t})=>(r&&e[y](t,l),!0)),r?d.next=l:l=d.next,e.age=p}else d.el=r,se(d),d.el=c[k],e=a[v]={age:p,head:d.el},ee(d,s,({el:e})=>e!=l);e.head[T][D]=e[D]=c=l?l[b]:t[g]}}_(a).filter(e=>a[e].age!=p)[x](e=>{ie({el:a[e].head},a[e][D][k],m),delete a[e]}),d.next=c[k]}},oe={},ce={css:j,text:z,html:"innerHTML"},pe=(l,e,s,t)=>{let{el:a}=l,n=a[T],i=n.vs||(n.vs=[]),o=n.ps||(n.ps=t&&t.ps);if(!o){o=n.ps={ps:[]},l.cp&&(X[++I]={as:s,ps:o},a[f]("z-d",I));let e=a.className,i;e&&M(e,"string")&&(e=oe[e]||(oe[e]=w(e)),e[x](e=>(i=i||{})[e]=1)),s[x](s=>{var n=a[h](s);if(S[L](s)||B(n)){let r=F.exec(s),l=r[4]?"."==r[4]&&r[5]?O:j:r[5];if(l=ce[l]||l,l){let e=r[6]&&r[6].split("."),t={a:s,k:l!=O&&e&&e[u]("camel")?l[C](K,(e,t)=>t.toUpperCase()):l,b:(r[3]?3:r[2]&&2)||(r[1]||r[4])&&1||q,m:r[4]&&r[5]?[r[5]].concat(e||[]):e,e:n};t.b&&"!"!=r[4]||(t.e="`"+t.e+"`"),o.ps.push(t),t.k==O&&(o.ocl=i)}}});let t,r;if((t=a.firstChild)&&t==a.lastChild&&3==t.nodeType&&B(r=t.nodeValue)&&o.ps.push({k:z,e:"`"+r+"`"}),l.cp)return}let c=o.ocl?{...o.ocl}:{},p=!1,d=0;o.ps[x](r=>{if(3==r.b)me(l,r,e);else{let t=r.e&&he(a,r.e,e,r);if(i[d]!==t&&(i[d]=t,p=de(a,r,t,c)||p),d++,2==r.b){if(!r.b2){t="this."+r.k,r.k==j&&r.m&&0<r.m[$]&&(t+="[`"+r.m[0]+"`]");let e="text"==a.type?A:E;r.m&&(r.m[u](A)?e=A:r.m[u](E)&&(e=E),r.m[u]("trim")&&(t+=".trim()"),r.m[u]("number")&&(t="parseFloat("+t+")")),r.b2={...r,e:r.e+"="+t,k:e,ev:e,f:q}}me(l,r.b2,e)}}}),p&&(s=_(c).join(" "),n.oc!=s&&(a.className=n.oc=s))},de=(t,e,r,l)=>{if(e.k==O){if(e.m&&0<e.m[$]){let t=""===e.e||r;e.m[x](e=>{M(t,"boolean")||!e.endsWith("-")?t?l[e]=1:delete l[e]:l[e+t]=1})}else{if(!Array.isArray(r)){if(M(r))return _(r)[x](e=>r[e]?l[e]=1:delete l[e]),!0;r=r?w(r):[]}r[x](e=>l[e]=1)}return!0}e.k==j&&(e.m&&0<e.m[$]&&(r=1==e.m[$]?{[e.m[0]]:r}:{[e.m[0]]:r&&e.m[1]}),M(r))?_(r)[x](e=>{!1===r[e]?t[j].removeProperty(e):t[j][e]=r[e]}):t[e.k]=r},fe=(r,l)=>{let s;return(...e)=>{let t=this;l||(s=clearTimeout(s)),s=s||setTimeout(()=>{s=q,r.apply(t,e)},l)}},me=({r:i,el:a},o,c)=>{let{a:p,k:d,e:f,ev:r,m:m=[]}=o;if(!a[T][p]){let t=m[u]("window")?window:m[u]("document")||m[u]("away")?N:a,s=r=>{if(!(m[u]("self")&&a!=r.target||m[u]("away")&&(a.contains(r.target)||a.offsetWidth<1&&a.offsetHeight<1))){if(d[v]("key")||d[v]("mouse")||d.endsWith("click")){for(var l of m){l=V.exec(l);if(l&&(l[3]||l[4])){l=l[3]||l[4]&&"meta";if(!l||!r[l+"Key"])return}}let t=m.filter(e=>!V[L](e));if(1==t[$])if(d[v]("key")){let e=t[0][C](U,"");if(e={space:" ",slash:"/",gt:">",eq:"="}[e]||e,e!=(r.key.toLowerCase()[C](U,"")||" "))return}else if(["left","mid","right"][r.button]!=t[0])return}m[u]("prevent")&&r.preventDefault(),m[u]("stop")&&r.stopPropagation(),m[u]("once")&&t.removeEventListener(d,s,n);let e=ve(f,[...c.ks,"$el"],c.k+"$el",o);return e.call(r.target,c.d,...a[T][p],i)}},e=m.indexOf("debounce");var l;0<=e&&(e=m[e+1],l=V.exec(e),e=l&&l[1]?l[2]?l[1]:1e3*l[1]:250,s=fe(s,e>>0));let n=m&&{capture:m[u]("capture"),passive:m[u]("passive")};t[P](d,s,n),r&&(a.fireChange=a.fireChange||(e=>a.dispatchEvent(new Event(e||r))))}a[T][p]=n(c.ps)},ue={},ve=(e,t,r,l)=>{e=l&&l.f||ue[r+=e]||(ue[r]=new Function(["$z_d",...t],"let re$u1T;with($z_d){re$u1T="+e+"};return re$u1T"));return l&&!l.f&&(l.f=e),e},he=(e,t,r,l)=>be(()=>i(t)?t.call(r.d):ve(t,r.ks,r.k,l)(r.d,...n(r.ps)),{el:e,exp:t}),ge=(e,t,r)=>l.warn(`${p} error: "${r}"\n\nexp: "${t}"\nelement:`,e),be=(t,{el:r,exp:l})=>{try{let e=t();return e instanceof Promise?e.catch(e=>ge(r,l,e)):e}catch(e){ge(r,l,e)}},ke=0,ye=(e,i,a)=>{i=i||N.body;let n,o,r=N[Z](p);(n=i[h]("z-id"))||i[f]("z-id",n=++ke),n="[z-id='"+n+"'] ";let c=fe(()=>{o[x](e=>e()),--xe<0&&(xe=0),ze()});r[ce.html]=e[C](/<!--.*?-->/gs,"")[C](/<(script)([^>]*)>(.*?)<\/\1>/gis,(e,t,r,l)=>{var s=r.match(/src='([^']+)'|src="([^"]+)"|src=([^ ]+)/);if(!(r=s?(s[1]||"")+(s[2]||"")+(s[3]||""):"")&&!l)return"";let n=N[Z]("script");n[f](d,"");s=()=>i[y](n,a);return o&&!r?o.push(s):s(),r?(n.src=r,n.onload=c,n.onerror=()=>xe=0,o=[]):n[z]=l,""})[C](/(<(style)[^>]*>)(.+?)(<\/\2>)/gis,(e,t,r,l,s)=>t+(l=l[C](/([^{}]+)(?=\{)/g,(e,t)=>/^\s*(@.*|\d+%(\s*,\s*\d+%)*|from|to)\s*$/[L](t)?t:w(t,/\s*,\s*/).map(e=>n+e).join(",")))+s);for(let e=r[m],t=e&&e[k];e;e=t,t=t&&t[k])i[y](e,a);o?xe++:ze()},xe=0,$e=e=>e[T]&&e[T].ob&&e[T].ob.disconnect(),we=e=>{let t=(e[T]||(e[T]={})).ob||(e[T].ob=new MutationObserver(l=>{if(!xe)if(e==N.body){if(l[$]<100){let r=!0;for(let e=0,t;e<l[$];e++)r=r&&((t=l[e].target).closest("[z-none]")||!t.closest(s)&&!t.querySelector(s));if(r)return}ze()}else R(e)}));ZData.nobserve||setTimeout(()=>t.observe(e,{childList:!0,subtree:!0}))},ze=fe(()=>Ce(q,1)),Ce=(e,t)=>{let r=c;r(J=W(),t||++G,++xe),$e(N.body),t=s,N.querySelectorAll(t)[x](e=>R(e)),r(W(),p,W()-J,--xe),we(N.body)};return N[P]("DOMContentLoaded",Ce),{start:Ce,loadHTML:ye}})();