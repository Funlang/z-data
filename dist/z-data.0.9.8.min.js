"use strict";const ZData=(()=>{const p="z-data",f="z-none",o="z-comp",s=`[${p}]`,a=(f,"init");var e="ttribute";const h=`getA${e}`,d=`setA${e}`;h;var t="Element",r=`${t}Sibling`,e=`${t}Child`;const m=`first${e}`,k=`last${e}`,y=`previous${r}`,b=`next${r}`,g="insertBefore",$="forEach",u="includes",x="length",v="startsWith",w=(e,t=/ +/)=>e.trim().split(t),z="textContent",C="replace",T="last",A="_z_d",E="input",L="change",O="test",j="class",D="style",N=document,P="createElement",_="addEventListener",M=Object.keys,n=Object.values,i=e=>"object"==typeof e,c=e=>"function"==typeof e,l=console,W=l.log,H=Date.now,Z=void 0,F=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,S=/^[:@.#!]./,q=/^(?:(:)(:?)|(@)|([.#!]))?([^.]*)(?:[.]([^.].*))?$/,B=e=>0<=e.indexOf("${")&&e.indexOf("`")<0,K=/-([a-z])/g,U=/[-_ ]+/g,V=/^(?:camel|prevent|stop|debounce|(\d+)(?:(m?)s)|capture|once|passive|self|away|window|document|(shift|ctrl|alt|meta)|(cmd|super))$/;let G=0,I=0,J,Q=()=>window.ZDataProxy||((e,t)=>{if(e&&i(e)&&!c(e)){for(var r in e)try{e[r]=Q()(e[r],t)}catch{}return new Proxy(e,t)}return e}),R=(t,r)=>{if(!t[A]||!(G<=t[A].age||t[A].ing)){(t[A]||(t[A]={})).age=G,t[A].ing=(t[A].ing||0)+1,r=r&&(t[A].env=r)||t[A].env||{ps:{},ks:[],k:"",d:{}};var e=e=>{xe++,we(N.body),Y({r:t,p:t.parentElement,el:t},{...r,d:t[A].zd},e||G),xe--,ze(N.body)};let i=de(e);var l=t[A].zd;if(!l){let n={set:(e,t,r,l,s)=>{i();try{s||(e[t]=Q()(r,n))}catch{}return!0}};ZData.proxy=e=>Q()(e,n),l=ke(t,t[h](p)||"{}",r),t.$data=t[A].zd=l=Q()(l,n),t[h](a)&&ke(t,t[h](a),{...r,d:l})}e(!0),t[A].ing--}},X={},Y=(r,l,s)=>{let{p:n,el:i}=r,e,t=i[A]||(i[A]={}),a=t.as||(t.as=(e=X[i[h]("z-d")])?e.as:i.getAttributeNames());if(!a[u](f)){if(!r.cp){let e,t;if(s===Z&&a[u](p))return R(i,l);if(a[u](o)&&(e=i[h](o))){try{t=/^([.\/]|https?:)/[O](e)?fetch(e).then(e=>e.text()):ke(i,e,l),t.then(e=>{"-"==i.localName.charAt(1)||a[u]("del")?($e(e,n,i),i.remove()):($e(e,i),i.removeAttribute(o))}).catch(re)}catch{}return}if(i.content&&"template"==i.localName)return void((e=i[h]("for"))?ae(r,e,l):(e=i[h]("if"),le(r,e,l)))}pe(r,l,a,e),ee({cp:r.cp,r:r.r,p:i,el:i[m]},l)}},ee=(e,t,r,l)=>{for(;e.el&&(!r||!1!==r(e));e.el=e.next)e.next=e.el[b],l&&!0!==l(e,t)||Y(e,t)},te=({el:e})=>!!e.attributes.else,re=()=>{},le=(e,t,r)=>{let{p:l,el:s}=e;if(!t||ke(s,t,r)){let t=e.next;s[A][T]?(e.el=t,t=s[A][T][b],ee(e,r,({el:e})=>e!=t),ee(e,r,te,re)):(se(e),e.el=e.el[b],ee(e,r,({el:e})=>e!=t),ee(e,r,te,ne)),s[A][T]=t?t[y]:l[k]}else ne(e,r)},se=({p:t,el:e,next:r,n:l})=>{(l=e[A].node)||(l=e[A].node=e.content,ee({cp:1,p:l,el:l[m]}));for(let e=l[m];e;e=e[b])l=e.cloneNode(!0),t[g](l,r)},ne=(e,t)=>{var r;e.el[A]&&e.el[A][T]&&(r=e.el[A][T][b],e.el[A][T]=Z,e.el=e.next,ie(e,r,t))},ie=(e,t,r)=>{ee(e,r,({el:e})=>e!=t,({el:e})=>{e.remove()})},ae=(f,d,m)=>{d=F.exec(d);if(d){let{p:t,el:r}=f,e=ke(r,d[4],m),l={k:d[1],v:d[2],i:d[3]},s={...m,ps:{...m.ps}},n=r[h]("key"),i=n&&w(n,"."),a=r[A].ns||(r[A].ns={}),o=0,c=r,p=r[A].age=(r[A].age||0)+1;for(var u in i=i&&2==i[x]&&i[0]==l.v&&i[1],l.k&&(s.ps[l.k]=Z),l.v&&(s.ps[l.v]=Z),l.i&&(s.ps[l.i]=Z),s.ks=M(s.ps),s.k=s.ks.join(","),e){var v=e[u];l.k&&(s.ps[l.k]=u),l.v&&(s.ps[l.v]=v),l.i&&(s.ps[l.i]=o++);v=i?v[i]:n?ke(r,n,s):l.k?u:v;if(v!==Z){let l=c[b],e=a[v];if(e){let t=e[T][b],r=e.head!=l;r&&l&&!e.head[A].skip&&(l[A].skip=1,f.el=l,l=l[A][T][b],ee(f,s,({el:e})=>e!=l,re),r=e.head!=(l=f.next)),f.el=e.head,f.el[A].skip=0,ee(f,s,({el:e})=>e!=t,({p:e,el:t})=>(r&&e[g](t,l),!0)),r?f.next=l:l=f.next,e.age=p}else f.el=r,se(f),f.el=c[b],e=a[v]={age:p,head:f.el},ee(f,s,({el:e})=>e!=l);e.head[A][T]=e[T]=c=l?l[y]:t[k]}}M(a).filter(e=>a[e].age!=p)[$](e=>{ie({el:a[e].head},a[e][T][b],m),delete a[e]}),f.next=c[b]}},oe={},ce={css:D,text:z,html:"innerHTML"},pe=(l,e,s,t)=>{let{el:a}=l,n=a[A],i=n.vs||(n.vs=[]),o=n.ps||(n.ps=t&&t.ps);if(!o){o=n.ps={ps:[]},l.cp&&(X[++I]={as:s,ps:o},a[d]("z-d",I));let e=a.className,i;e&&(e=oe[e]||(oe[e]=w(e)),e[$](e=>(i=i||{})[e]=1)),s[$](s=>{var n=a[h](s);if(S[O](s)||B(n)){let r=q.exec(s),l=r[4]?"."==r[4]&&r[5]?j:D:r[5];if(l=ce[l]||l,l){let e=r[6]&&r[6].split("."),t={a:s,k:l!=j&&e&&e[u]("camel")?l[C](K,(e,t)=>t.toUpperCase()):l,b:(r[3]?3:r[2]&&2)||(r[1]||r[4])&&1||Z,m:r[4]&&r[5]?[r[5]].concat(e||[]):e,e:n};t.b&&"!"!=r[4]||(t.e="`"+t.e+"`"),o.ps.push(t),t.k==j&&(o.ocl=i)}}});let t,r;if((t=a.firstChild)&&t==a.lastChild&&3==t.nodeType&&B(r=t.nodeValue)&&o.ps.push({k:z,e:"`"+r+"`"}),l.cp)return}let c=o.ocl?{...o.ocl}:{},p=!1,f=0;o.ps[$](r=>{if(3==r.b)ue(l,r,e);else{let t=r.e&&ke(a,r.e,e,r);if(i[f]!==t&&(i[f]=t,p=fe(a,r,t,c)||p),f++,2==r.b){if(!r.b2){t="$event.target."+r.k,r.k==D&&r.m&&0<r.m[x]&&(t+="[`"+r.m[0]+"`]");let e="text"==a.type?E:L;r.m&&(r.m[u](E)?e=E:r.m[u](L)&&(e=L),r.m[u]("trim")&&(t+=".trim()"),r.m[u]("number")&&(t="parseFloat("+t+")")),r.b2={...r,e:r.e+"="+t,k:e,ev:e,f:Z}}ue(l,r.b2,e)}}}),p&&(s=M(c).join(" "),n.oc!=s&&(a.className=n.oc=s))},fe=(t,e,r,l)=>{if(e.k==j){if(e.m&&0<e.m[x]){let t=""===e.e||r;e.m[$](e=>{"boolean"!=typeof t&&e.endsWith("-")?l[e+t]=1:t?l[e]=1:delete l[e]})}else{if(!Array.isArray(r)){if(i(r))return M(r)[$](e=>r[e]?l[e]=1:delete l[e]),!0;r=r?w(r):[]}r[$](e=>l[e]=1)}return!0}e.k==D&&(e.m&&0<e.m[x]&&(r=1==e.m[x]?{[e.m[0]]:r}:{[e.m[0]]:r&&e.m[1]}),i(r))?M(r)[$](e=>{!1===r[e]?t[D].removeProperty(e):t[D][e]=r[e]}):t[e.k]=r},de=(r,l)=>{let s;return(...e)=>{let t=this;l||(s=clearTimeout(s)),s=s||setTimeout(()=>{s=Z,r.apply(t,e)},l)}},me={slash:"/",space:" "},ue=({r:i,el:a},o,c)=>{let{a:p,k:f,e:d,ev:t,m:m=[]}=o;if(!a[A][p]){let l=m[u]("window")?window:m[u]("document")||m[u]("away")?N:a,s=r=>{if(!(m[u]("self")&&a!=r.target||m[u]("away")&&(a.contains(r.target)||a.offsetWidth<1&&a.offsetHeight<1))){if(f[v]("key")||f[v]("mouse")||f.endsWith("click")){for(var t of m){t=V.exec(t);if(t&&(t[3]||t[4])){t=t[3]||t[4]&&"meta";if(!t||!r[t+"Key"])return}}if(f[v]("key")){let t=m.filter(e=>!V[O](e));if(1==t[x]){let e=r.key.toLowerCase()[C](U,"");if(e=me[e]||e,e!=t[0][C](U,""))return}}}m[u]("prevent")&&r.preventDefault(),m[u]("stop")&&r.stopPropagation(),m[u]("once")&&l.removeEventListener(f,s,n);let e=he(d,[...c.ks,"$el","$event"],c.k+"$el,$event",o);return e(c.d,...a[A][p],i,r)}},e=m.indexOf("debounce");var r;0<=e&&(e=m[e+1],r=V.exec(e),e=r&&r[1]?r[2]?r[1]:1e3*r[1]:250,s=de(s,e>>0));let n=m&&{capture:m[u]("capture"),passive:m[u]("passive")};l[_](f,s,n),t&&(a.fireChange=a.fireChange||(e=>a.dispatchEvent(new Event(e||t))))}a[A][p]=n(c.ps)},ve={},he=(e,t,r,l)=>{e=l&&l.f||ve[r+=e]||(ve[r]=new Function(["$z_d",...t],"let re$u1T;with($z_d){re$u1T="+e+"};return re$u1T"));return l&&!l.f&&(l.f=e),e},ke=(e,t,r,l)=>be(()=>c(t)?t.call(r.d):he(t,r.ks,r.k,l)(r.d,...n(r.ps)),{el:e,exp:t}),ye=(e,t,r)=>l.warn(`${p} error: "${r}"\n\nexp: "${t}"\nelement:`,e),be=(t,{el:r,exp:l})=>{try{let e=t();return e instanceof Promise?e.catch(e=>ye(r,l,e)):e}catch(e){ye(r,l,e)}},ge=0,$e=(e,i,a)=>{i=i||N.body;let n,o,r=N[P](p);(n=i[h]("z-id"))||i[d]("z-id",n=++ge),n='[z-id="'+n+'"] ';let c=de(()=>{o[$](e=>e()),--xe<0&&(xe=0),Ce()});r[ce.html]=e[C](/<!--.*?-->/gs,"")[C](/<(script)([^>]*)>(.*?)<\/\1>/gis,(e,t,r,l)=>{var s=r.match(/src='([^']+)'|src="([^"]+)"|src=([^ ]+)/);if(!(r=s?(s[1]||"")+(s[2]||"")+(s[3]||""):"")&&!l)return"";let n=N[P]("script");n[d](f,"");s=()=>i[g](n,a);return o&&!r?o.push(s):s(),r?(n.src=r,n.onload=c,n.onerror=()=>xe=0,o=[]):n[z]=l,""})[C](/(<(style)[^>]*>)(.+?)(<\/\2>)/gis,(e,t,r,l,s)=>t+(l=l.replace(/([^{}]+)(?=\{)/g,(e,t)=>/^\s*(@.*|\d+%|from|to)\s*$/[O](t)?t:w(t,/\s*,\s*/).map(e=>n+e).join(",")))+s);for(let e=r[m],t=e&&e[b];e;e=t,t=t&&t[b])i[g](e,a);o?xe++:Ce()},xe=0,we=e=>e[A]&&e[A].ob&&e[A].ob.disconnect(),ze=e=>{let t=(e[A]||(e[A]={})).ob||(e[A].ob=new MutationObserver(l=>{if(!xe)if(e==N.body){if(l[x]<100){let r=!0;for(let e=0,t;e<l[x];e++)r=r&&((t=l[e].target).closest("[z-none]")||!t.closest(s));if(r)return}Ce()}else R(e)}));setTimeout(()=>t.observe(e,{childList:!0,subtree:!0}))},Ce=de(()=>Te(Z,1)),Te=(e,t)=>{let r=W;r(J=H(),t||++G,++xe),we(N.body),t=s,N.querySelectorAll(t)[$](e=>R(e)),r(H(),p,H()-J,--xe),ze(N.body)};return N[_]("DOMContentLoaded",Te),{start:Te,loadHTML:$e}})();