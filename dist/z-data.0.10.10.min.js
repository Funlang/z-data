"use strict";const ZData=(()=>{const f="z-data",m="z-none",o="z-comp",l=`[${f}]`,i=(m,"init"),u="args";var e="ttribute";const v=`getA${e}`,h=`setA${e}`;v;var t="Element",s=`${t}Sibling`,e=`${t}Child`;const k=`first${e}`,g=`last${e}`,b=`previous${s}`,y=`next${s}`,w="insertBefore",$="forEach",x="includes",z="length",_="startsWith",C=(e,t=/ +/)=>e.trim().split(t),D="textContent",T="replace",A="last",E="_z_d",L="input",O="change",j="test",N="class",Z="style",P=document,r=(e,t=P)=>t.querySelectorAll(e),M="createElement",S="addEventListener",W=Object.keys,q=Object.values,H=(e,t="object")=>typeof e==t,n=e=>H(e,"function"),a=console,c=Date.now,F=void 0,p=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,B=/^[:@.#!]./,K=/^(?:(:)(:?)|(@)|([.#!]))?([^.]*)(?:[.]([^.].*))?$/,U=e=>0<=e.indexOf("${")&&e.indexOf("`")<0,V=/-([a-z])/g,G=/[-_ ]+/g,I=/^(?:camel|prevent|stop|debounce|(\d+)(?:(m?)s)|capture|once|passive|self|away|window|document|(shift|ctrl|alt|meta)|(cmd|super))$/;let d=0,J=0,Q,R=()=>window.ZDataProxy||((e,t)=>{if(!e||!H(e)||n(e)||e.__ob__)return e;for(var s in e)try{e[s]=R()(e[s],t)}catch(e){}return new Proxy(e,t)}),X=(t,s)=>{if(!t[E]||!(d<=t[E].age||t[E].ing)){(t[E]||(t[E]={})).age=d,t[E].ing=(t[E].ing||0)+1,s=s&&(t[E].env=s)||t[E].env||{ps:{},ks:[],k:"",d:{}};var r=e=>{we++,$e(P.body),ee({r:t,p:t.parentElement,el:t},{...s,d:t[E].zd},e||d),we--,xe(P.body)};let a=me(r),e=t[E].zd;if(!e){let n={set:(e,t,s,r,l)=>{a();try{l||(e[t]=R()(s,n))}catch(e){}return!0}};ZData.proxy=e=>R()(e,n),e=ve(t,t[v](f)||0,s)||{},t.$data=t[E].zd=e=R()(e,n),t[u]&&(e[u]=t[u]),t[v](i)&&ve(t,t[v](i),{...s,d:e})}r(!0),t[E].ing--}},Y={},ee=(s,r,l)=>{let{p:n,el:a}=s,e,t=a[E]||(a[E]={}),i=t.as||(t.as=(e=Y[a[v]("z-d")])?e.as:a.getAttributeNames());if(!i[x](m)){if(!s.cp){let e,t;if(l===F&&i[x](f))return X(a,r);if(i[x](o)&&(e=a[v](o))){try{t=/^([.\/]|https?:)/[j](e)?fetch(e).then(e=>e.text()):/^z:/[j](e)&&ZData.get?ZData.get(e[T](/^z:\/*/,"")):ve(a,e,r),t.then(e=>{var t=i[x](u)&&ve(a,a[v](u),r);"-"==a.localName.charAt(1)||i[x]("del")?(ye(e,n,a,t),a.remove()):(ye(e,a,F,t),a.removeAttribute(o))}).catch(re)}catch(e){}return}if(a.content&&"template"==a.localName)return void((e=a[v]("for"))?oe(s,e,r):(e=a[v]("if"),le(s,e,r)))}de(s,r,i,e),te({cp:s.cp,r:s.r,p:a,el:a[k]},r)}},te=(e,t,s,r)=>{for(;e.el&&(!s||!1!==s(e));e.el=e.next)e.next=e.el[y],r&&!0!==r(e,t)||ee(e,t)},se=({el:e})=>!!e.attributes.else,re=()=>{},le=(e,t,s)=>{let{p:r,el:l}=e;if(!t||ve(l,t,s)){let t=e.next;l[E][A]?(e.el=t,t=l[E][A][y],te(e,s,({el:e})=>e!=t),te(e,s,se,re)):(ne(e),e.el=e.el[y],te(e,s,({el:e})=>e!=t),te(e,s,se,ae)),l[E][A]=t?t[b]:r[g]}else ae(e,s)},ne=({p:t,el:e,next:s,n:r})=>{(r=e[E].node)||(r=e[E].node=e.content,te({cp:1,p:r,el:r[k]}));for(let e=r[k];e;e=e[y])r=e.cloneNode(!0),t[w](r,s)},ae=(e,t)=>{var s;e.el[E]&&e.el[E][A]&&(s=e.el[E][A][y],e.el[E][A]=F,e.el=e.next,ie(e,s,t))},ie=(e,t,s)=>{te(e,s,({el:e})=>e!=t,({el:e})=>{e.remove()})},oe=(d,f,m)=>{f=p.exec(f);if(f){let{p:t,el:s}=d,e=ve(s,f[4],m),r={k:f[1],v:f[2],i:f[3]},l={...m,ps:{...m.ps}},n=s[v]("key"),a=n&&C(n,"."),i=s[E].ns||(s[E].ns={}),o=0,c=s,p=s[E].age=(s[E].age||0)+1;for(var u in a=a&&2==a[z]&&a[0]==r.v&&a[1],r.k&&(l.ps[r.k]=F),r.v&&(l.ps[r.v]=F),r.i&&(l.ps[r.i]=F),l.ks=W(l.ps),l.k=l.ks.join(","),e){var h=e[u];r.k&&(l.ps[r.k]=u),r.v&&(l.ps[r.v]=h),r.i&&(l.ps[r.i]=o++);h=a?h[a]:n?ve(s,n,l):r.k?u:h;if(h!==F){let r=c[y],e=i[h];if(e){let t=e[A][y],s=e.head!=r;s&&r&&!e.head[E].skip&&(r[E].skip=1,d.el=r,r=r[E][A][y],te(d,l,({el:e})=>e!=r,re),s=e.head!=(r=d.next)),d.el=e.head,d.el[E].skip=0,te(d,l,({el:e})=>e!=t,({p:e,el:t})=>(s&&e[w](t,r),!0)),s?d.next=r:r=d.next,e.age=p}else d.el=s,ne(d),d.el=c[y],e=i[h]={age:p,head:d.el},te(d,l,({el:e})=>e!=r);e.head[E][A]=e[A]=c=r?r[b]:t[g]}}W(i).filter(e=>i[e].age!=p)[$](e=>{ie({el:i[e].head},i[e][A][y],m),delete i[e]}),d.next=c[y]}},ce={},pe={css:Z,text:D,html:"innerHTML"},de=(r,e,l,t)=>{let{el:i}=r,n=i[E],a=n.vs||(n.vs=[]),o=n.ps||(n.ps=t&&t.ps);if(!o){o=n.ps={ps:[]},r.cp&&(Y[++J]={as:l,ps:o},i[h]("z-d",J));let e=i.className,a;e&&H(e,"string")&&(e=ce[e]||(ce[e]=C(e)),e[$](e=>(a=a||{})[e]=1)),l[$](l=>{var n=i[v](l);if(B[j](l)||U(n)){let s=K.exec(l),r=s[4]?"."==s[4]&&s[5]?N:Z:s[5];if(r=pe[r]||r,r){let e=s[6]&&s[6].split("."),t={a:l,k:r!=N&&e&&e[x]("camel")?r[T](V,(e,t)=>t.toUpperCase()):r,b:(s[3]?3:s[2]&&2)||(s[1]||s[4])&&1||F,m:s[4]&&s[5]?[s[5]].concat(e||[]):e,e:n};t.b&&"!"!=s[4]||(t.e="`"+t.e+"`"),o.ps.push(t),t.k==N&&(o.ocl=a)}}});let t,s;if((t=i.firstChild)&&t==i.lastChild&&3==t.nodeType&&U(s=t.nodeValue)&&o.ps.push({k:D,e:"`"+s+"`"}),r.cp)return}let c=o.ocl?{...o.ocl}:{},p=!1,d=0;o.ps[$](s=>{if(3==s.b)ue(r,s,e);else{let t=s.e&&ve(i,s.e,e,s);if(a[d]!==t&&(a[d]=t,p=fe(i,s,t,c)||p),d++,2==s.b){if(!s.b2){t="this."+s.k,s.k==Z&&s.m&&0<s.m[z]&&(t+="[`"+s.m[0]+"`]");let e="text"==i.type?L:O;s.m&&(s.m[x](L)?e=L:s.m[x](O)&&(e=O),s.m[x]("trim")&&(t+=".trim()"),s.m[x]("number")&&(t="parseFloat("+t+")")),t=/==/.test(s.e)?"this.checked&&("+s.e[T](/==+/,"=")+")":s.e+"="+t,s.b2={...s,e:t,k:e,ev:e,f:F}}ue(r,s.b2,e)}}}),p&&(l=W(c).join(" "),n.oc!=l&&(i.className=n.oc=l))},fe=(t,e,s,r)=>{if(e.k==N){if(e.m&&0<e.m[z]){let t=""===e.e||s;e.m[$](e=>{H(t,"boolean")||!e.endsWith("-")?t?r[e]=1:delete r[e]:r[e+t]=1})}else{if(!Array.isArray(s)){if(H(s))return W(s)[$](e=>s[e]?r[e]=1:delete r[e]),!0;s=s?C(s):[]}s[$](e=>r[e]=1)}return!0}e.k==Z&&(e.m&&0<e.m[z]&&(s=1==e.m[z]?{[e.m[0]]:s}:{[e.m[0]]:s&&e.m[1]}),H(s))?W(s)[$](e=>{!1===s[e]?t[Z].removeProperty(e):t[Z][e]=s[e]}):t[e.k]=s},me=(s,r)=>{let l;return(...e)=>{let t=this;r&&(l=clearTimeout(l)),l=l||setTimeout(()=>{l=F,s.apply(t,e)},r)}},ue=({r:n,el:a},s,i)=>{let{a:o,k:c,e:p,ev:d,m:f=[]}=s;if(!a[E][o]){let t=f[x]("window")?window:f[x]("document")||f[x]("away")?P:a,r=s=>{if(!(f[x]("self")&&a!=s.target||f[x]("away")&&(a.contains(s.target)||a.offsetWidth<1&&a.offsetHeight<1))){if(c[_]("key")||c[_]("mouse")||c.endsWith("click")){for(var e of f){e=I.exec(e);if(e&&(e[3]||e[4])){e=e[3]||e[4]&&"meta";if(!e||!s[e+"Key"])return}}let t=f.filter(e=>!I[j](e));if(1==t[z])if(c[_]("key")){let e=t[0][T](G,"");if(e={space:" ",slash:"/",gt:">",eq:"="}[e]||e,e!=(s.key.toLowerCase()[T](G,"")||" "))return}else if(["left","mid","right"][s.button]!=t[0])return}return f[x]("prevent")&&s.preventDefault(),f[x]("stop")&&s.stopPropagation(),f[x]("once")&&t.removeEventListener(c,r,l),ve(s.target,p,{d:i.d,ks:[...i.ks,"$el"],k:i.k+"$el",ps:[...a[E][o],n]})}},e=f.indexOf("debounce");0<=e&&(e=f[e+1],s=I.exec(e),e=s&&s[1]?s[2]?s[1]:1e3*s[1]:250,r=me(r,e>>0));let l=f&&{capture:f[x]("capture"),passive:f[x]("passive")};t[S](c,r,l),d&&(a.fireChange=a.fireChange||(e=>a.dispatchEvent(new Event(e||d))))}a[E][o]=q(i.ps)},he={},ve=(e,t,s,r)=>ge(()=>n(t)?t.call(s.d):((e,t,s,r)=>{e=r&&r.f||he[s+=e]||(he[s]=new Function(["$z_d",...t],"let re$u1T;with($z_d){re$u1T="+e+"};return re$u1T"));return r&&!r.f&&(r.f=e),e})(t,s.ks,s.k,r).call(e,s.d,...q(s.ps)),{el:e,exp:t}),ke=(e,t,s)=>a.warn(`${f} error: "${s}"\n\nexp: "${t}"\nelement:`,e),ge=(t,{el:s,exp:r})=>{try{let e=t();return e instanceof Promise?e.catch(e=>ke(s,r,e)):e}catch(e){ke(s,r,e)}},be=0,ye=(e,a,i,t)=>{a=a||P.body;let p,o,d,s=P[M](f);(p=a[v]("z-id"))||a[h]("z-id",p=++be);let c=me(()=>{o[$](e=>e()),--we<0&&(we=0),ze()});s[pe.html]=e[T](/<!--.*?-->/gs,"")[T](/(z-data\s*=\s*)(?:(')(\$[\w]+)([^'\w]*')|(")(\$[\w]+)([^"\w]*")|(\$[\w]+)([^\s>\w]*[\s>]))/,(e,t,s="",r="",l="",n="",a="",i="",o="",c="")=>(d=r+a+o,t+s+n+d+"_"+p+l+i+c))[T](/<(script)([^>]*)>(.*?)<\/\1>/gis,(e,t,s,r)=>{var l=s.match(/src\s*=\s*(?:'([^']+)'|"([^"]+)"|(\S+))/);if(!(s=l?(l[1]||"")+(l[2]||"")+(l[3]||""):"")&&!r)return"";let n=P[M]("script");n[h](m,"");l=()=>a[w](n,i);return o&&!s?o.push(l):l(),s?(n.src=s,n.onload=c,n.onerror=()=>we=0,o=[]):n[D]=d?r[T](d,d+"_"+p):r,""})[T](/(<(style)[^>]*>)(.+?)(<\/\2>)/gis,(e,t,s,r,l)=>t+(r=r[T](/([^{}]+)(?=\{)/g,(e,t)=>/^\s*(@.*|\d+%(\s*,\s*\d+%)*|from|to)\s*$/[j](t)?t:C(t,/\s*,\s*/).map(e=>"[z-id='"+p+"'] "+e).join(",")))+l),t&&r(l,s)[z]&&(r(l,s)[0][u]=t);for(let e=s[k],t=e&&e[y];e;e=t,t=t&&t[y])a[w](e,i);o?we++:ze()},we=0,$e=e=>e[E]&&e[E].ob&&e[E].ob.disconnect(),xe=e=>{let t=(e[E]||(e[E]={})).ob||(e[E].ob=new MutationObserver(r=>{if(!we)if(e==P.body){if(r[z]<100){let s=!0;for(let e=0,t;e<r[z];e++)s=s&&((t=r[e].target).closest("[z-none]")||!t.closest(l)&&!t.querySelector(l));if(s)return}ze()}else X(e)}));ZData.nobserve||setTimeout(()=>t.observe(e,{childList:!0,subtree:!0}))},ze=me(()=>_e(F,1)),_e=(e,t)=>{let s=re;s(Q=c(),t||++d,++we),$e(P.body),r(l)[$](e=>X(e)),s(c(),f,c()-Q,--we),xe(P.body)};return P[S]("DOMContentLoaded",_e),{start:_e,loadHTML:ye}})();