"use strict";const ZData=(()=>{const p="z-data",d="z-none",o="z-comp",l=`[${p}]`,a=(d,"init");var e="ttribute";const h=`getA${e}`,f=`setA${e}`;h;var t="Element",r=`${t}Sibling`,e=`${t}Child`;const m=`first${e}`,g=`last${e}`,b=`previous${r}`,k=`next${r}`,y="insertBefore",$="forEach",u="includes",x="length",v="startsWith",w=(e,t=/ +/)=>e.trim().split(t),z="textContent",C="replace",D="last",T="_z_d",A="input",E="change",L="test",O="class",j="style",N=document,Z="createElement",P="addEventListener",_=Object.keys,n=Object.values,M=(e,t="object")=>typeof e==t,i=e=>M(e,"function"),s=console,c=s.log,W=Date.now,q=void 0,H=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,S=/^[:@.#!]./,F=/^(?:(:)(:?)|(@)|([.#!]))?([^.]*)(?:[.]([^.].*))?$/,B=e=>0<=e.indexOf("${")&&e.indexOf("`")<0,K=/-([a-z])/g,U=/[-_ ]+/g,V=/^(?:camel|prevent|stop|debounce|(\d+)(?:(m?)s)|capture|once|passive|self|away|window|document|(shift|ctrl|alt|meta)|(cmd|super))$/;let G=0,I=0,J,Q=()=>window.ZDataProxy||((e,t)=>{if(e&&M(e)&&!i(e)){for(var r in e)try{e[r]=Q()(e[r],t)}catch{}return new Proxy(e,t)}return e}),R=(t,r)=>{if(!t[T]||!(G<=t[T].age||t[T].ing)){(t[T]||(t[T]={})).age=G,t[T].ing=(t[T].ing||0)+1,r=r&&(t[T].env=r)||t[T].env||{ps:{},ks:[],k:"",d:{}};var e=e=>{$e++,xe(N.body),Y({r:t,p:t.parentElement,el:t},{...r,d:t[T].zd},e||G),$e--,we(N.body)};let i=fe(e);var s=t[T].zd;if(!s){let n={set:(e,t,r,s,l)=>{i();try{l||(e[t]=Q()(r,n))}catch{}return!0}};ZData.proxy=e=>Q()(e,n),s=he(t,t[h](p)||"{}",r),t.$data=t[T].zd=s=Q()(s,n),t[h](a)&&he(t,t[h](a),{...r,d:s})}e(!0),t[T].ing--}},X={},Y=(r,s,l)=>{let{p:n,el:i}=r,e,t=i[T]||(i[T]={}),a=t.as||(t.as=(e=X[i[h]("z-d")])?e.as:i.getAttributeNames());if(!a[u](d)){if(!r.cp){let e,t;if(l===q&&a[u](p))return R(i,s);if(a[u](o)&&(e=i[h](o))){try{t=/^([.\/]|https?:)/[L](e)?fetch(e).then(e=>e.text()):/^z:/[L](e)&&ZData.get?ZData.get(e[C](/^z:\/*/,"")):he(i,e,s),t.then(e=>{"-"==i.localName.charAt(1)||a[u]("del")?(ye(e,n,i),i.remove()):(ye(e,i),i.removeAttribute(o))}).catch(re)}catch{}return}if(i.content&&"template"==i.localName)return void((e=i[h]("for"))?ae(r,e,s):(e=i[h]("if"),se(r,e,s)))}pe(r,s,a,e),ee({cp:r.cp,r:r.r,p:i,el:i[m]},s)}},ee=(e,t,r,s)=>{for(;e.el&&(!r||!1!==r(e));e.el=e.next)e.next=e.el[k],s&&!0!==s(e,t)||Y(e,t)},te=({el:e})=>!!e.attributes.else,re=()=>{},se=(e,t,r)=>{let{p:s,el:l}=e;if(!t||he(l,t,r)){let t=e.next;l[T][D]?(e.el=t,t=l[T][D][k],ee(e,r,({el:e})=>e!=t),ee(e,r,te,re)):(le(e),e.el=e.el[k],ee(e,r,({el:e})=>e!=t),ee(e,r,te,ne)),l[T][D]=t?t[b]:s[g]}else ne(e,r)},le=({p:t,el:e,next:r,n:s})=>{(s=e[T].node)||(s=e[T].node=e.content,ee({cp:1,p:s,el:s[m]}));for(let e=s[m];e;e=e[k])s=e.cloneNode(!0),t[y](s,r)},ne=(e,t)=>{var r;e.el[T]&&e.el[T][D]&&(r=e.el[T][D][k],e.el[T][D]=q,e.el=e.next,ie(e,r,t))},ie=(e,t,r)=>{ee(e,r,({el:e})=>e!=t,({el:e})=>{e.remove()})},ae=(d,f,m)=>{f=H.exec(f);if(f){let{p:t,el:r}=d,e=he(r,f[4],m),s={k:f[1],v:f[2],i:f[3]},l={...m,ps:{...m.ps}},n=r[h]("key"),i=n&&w(n,"."),a=r[T].ns||(r[T].ns={}),o=0,c=r,p=r[T].age=(r[T].age||0)+1;for(var u in i=i&&2==i[x]&&i[0]==s.v&&i[1],s.k&&(l.ps[s.k]=q),s.v&&(l.ps[s.v]=q),s.i&&(l.ps[s.i]=q),l.ks=_(l.ps),l.k=l.ks.join(","),e){var v=e[u];s.k&&(l.ps[s.k]=u),s.v&&(l.ps[s.v]=v),s.i&&(l.ps[s.i]=o++);v=i?v[i]:n?he(r,n,l):s.k?u:v;if(v!==q){let s=c[k],e=a[v];if(e){let t=e[D][k],r=e.head!=s;r&&s&&!e.head[T].skip&&(s[T].skip=1,d.el=s,s=s[T][D][k],ee(d,l,({el:e})=>e!=s,re),r=e.head!=(s=d.next)),d.el=e.head,d.el[T].skip=0,ee(d,l,({el:e})=>e!=t,({p:e,el:t})=>(r&&e[y](t,s),!0)),r?d.next=s:s=d.next,e.age=p}else d.el=r,le(d),d.el=c[k],e=a[v]={age:p,head:d.el},ee(d,l,({el:e})=>e!=s);e.head[T][D]=e[D]=c=s?s[b]:t[g]}}_(a).filter(e=>a[e].age!=p)[$](e=>{ie({el:a[e].head},a[e][D][k],m),delete a[e]}),d.next=c[k]}},oe={},ce={css:j,text:z,html:"innerHTML"},pe=(s,e,l,t)=>{let{el:a}=s,n=a[T],i=n.vs||(n.vs=[]),o=n.ps||(n.ps=t&&t.ps);if(!o){o=n.ps={ps:[]},s.cp&&(X[++I]={as:l,ps:o},a[f]("z-d",I));let e=a.className,i;e&&M(e,"string")&&(e=oe[e]||(oe[e]=w(e)),e[$](e=>(i=i||{})[e]=1)),l[$](l=>{var n=a[h](l);if(S[L](l)||B(n)){let r=F.exec(l),s=r[4]?"."==r[4]&&r[5]?O:j:r[5];if(s=ce[s]||s,s){let e=r[6]&&r[6].split("."),t={a:l,k:s!=O&&e&&e[u]("camel")?s[C](K,(e,t)=>t.toUpperCase()):s,b:(r[3]?3:r[2]&&2)||(r[1]||r[4])&&1||q,m:r[4]&&r[5]?[r[5]].concat(e||[]):e,e:n};t.b&&"!"!=r[4]||(t.e="`"+t.e+"`"),o.ps.push(t),t.k==O&&(o.ocl=i)}}});let t,r;if((t=a.firstChild)&&t==a.lastChild&&3==t.nodeType&&B(r=t.nodeValue)&&o.ps.push({k:z,e:"`"+r+"`"}),s.cp)return}let c=o.ocl?{...o.ocl}:{},p=!1,d=0;o.ps[$](r=>{if(3==r.b)me(s,r,e);else{let t=r.e&&he(a,r.e,e,r);if(i[d]!==t&&(i[d]=t,p=de(a,r,t,c)||p),d++,2==r.b){if(!r.b2){t="$event.target."+r.k,r.k==j&&r.m&&0<r.m[x]&&(t+="[`"+r.m[0]+"`]");let e="text"==a.type?A:E;r.m&&(r.m[u](A)?e=A:r.m[u](E)&&(e=E),r.m[u]("trim")&&(t+=".trim()"),r.m[u]("number")&&(t="parseFloat("+t+")")),r.b2={...r,e:r.e+"="+t,k:e,ev:e,f:q}}me(s,r.b2,e)}}}),p&&(l=_(c).join(" "),n.oc!=l&&(a.className=n.oc=l))},de=(t,e,r,s)=>{if(e.k==O){if(e.m&&0<e.m[x]){let t=""===e.e||r;e.m[$](e=>{M(t,"boolean")||!e.endsWith("-")?t?s[e]=1:delete s[e]:s[e+t]=1})}else{if(!Array.isArray(r)){if(M(r))return _(r)[$](e=>r[e]?s[e]=1:delete s[e]),!0;r=r?w(r):[]}r[$](e=>s[e]=1)}return!0}e.k==j&&(e.m&&0<e.m[x]&&(r=1==e.m[x]?{[e.m[0]]:r}:{[e.m[0]]:r&&e.m[1]}),M(r))?_(r)[$](e=>{!1===r[e]?t[j].removeProperty(e):t[j][e]=r[e]}):t[e.k]=r},fe=(r,s)=>{let l;return(...e)=>{let t=this;s||(l=clearTimeout(l)),l=l||setTimeout(()=>{l=q,r.apply(t,e)},s)}},me=({r:i,el:a},o,c)=>{let{a:p,k:d,e:f,ev:r,m:m=[]}=o;if(!a[T][p]){let t=m[u]("window")?window:m[u]("document")||m[u]("away")?N:a,l=r=>{if(!(m[u]("self")&&a!=r.target||m[u]("away")&&(a.contains(r.target)||a.offsetWidth<1&&a.offsetHeight<1))){if(d[v]("key")||d[v]("mouse")||d.endsWith("click")){for(var s of m){s=V.exec(s);if(s&&(s[3]||s[4])){s=s[3]||s[4]&&"meta";if(!s||!r[s+"Key"])return}}let t=m.filter(e=>!V[L](e));if(1==t[x])if(d[v]("key")){let e=t[0][C](U,"");if(e={space:" ",slash:"/",gt:">",eq:"="}[e]||e,e!=(r.key.toLowerCase()[C](U,"")||" "))return}else if(["left","mid","right"][r.button]!=t[0])return}m[u]("prevent")&&r.preventDefault(),m[u]("stop")&&r.stopPropagation(),m[u]("once")&&t.removeEventListener(d,l,n);let e=ve(f,[...c.ks,"$el","$event"],c.k+"$el,$event",o);return e(c.d,...a[T][p],i,r)}},e=m.indexOf("debounce");var s;0<=e&&(e=m[e+1],s=V.exec(e),e=s&&s[1]?s[2]?s[1]:1e3*s[1]:250,l=fe(l,e>>0));let n=m&&{capture:m[u]("capture"),passive:m[u]("passive")};t[P](d,l,n),r&&(a.fireChange=a.fireChange||(e=>a.dispatchEvent(new Event(e||r))))}a[T][p]=n(c.ps)},ue={},ve=(e,t,r,s)=>{e=s&&s.f||ue[r+=e]||(ue[r]=new Function(["$z_d",...t],"let re$u1T;with($z_d){re$u1T="+e+"};return re$u1T"));return s&&!s.f&&(s.f=e),e},he=(e,t,r,s)=>be(()=>i(t)?t.call(r.d):ve(t,r.ks,r.k,s)(r.d,...n(r.ps)),{el:e,exp:t}),ge=(e,t,r)=>s.warn(`${p} error: "${r}"\n\nexp: "${t}"\nelement:`,e),be=(t,{el:r,exp:s})=>{try{let e=t();return e instanceof Promise?e.catch(e=>ge(r,s,e)):e}catch(e){ge(r,s,e)}},ke=0,ye=(e,i,a)=>{i=i||N.body;let n,o,r=N[Z](p);(n=i[h]("z-id"))||i[f]("z-id",n=++ke),n="[z-id='"+n+"'] ";let c=fe(()=>{o[$](e=>e()),--$e<0&&($e=0),ze()});r[ce.html]=e[C](/<!--.*?-->/gs,"")[C](/<(script)([^>]*)>(.*?)<\/\1>/gis,(e,t,r,s)=>{var l=r.match(/src='([^']+)'|src="([^"]+)"|src=([^ ]+)/);if(!(r=l?(l[1]||"")+(l[2]||"")+(l[3]||""):"")&&!s)return"";let n=N[Z]("script");n[f](d,"");l=()=>i[y](n,a);return o&&!r?o.push(l):l(),r?(n.src=r,n.onload=c,n.onerror=()=>$e=0,o=[]):n[z]=s,""})[C](/(<(style)[^>]*>)(.+?)(<\/\2>)/gis,(e,t,r,s,l)=>t+(s=s[C](/([^{}]+)(?=\{)/g,(e,t)=>/^\s*(@.*|\d+%(\s*,\s*\d+%)*|from|to)\s*$/[L](t)?t:w(t,/\s*,\s*/).map(e=>n+e).join(",")))+l);for(let e=r[m],t=e&&e[k];e;e=t,t=t&&t[k])i[y](e,a);o?$e++:ze()},$e=0,xe=e=>e[T]&&e[T].ob&&e[T].ob.disconnect(),we=e=>{let t=(e[T]||(e[T]={})).ob||(e[T].ob=new MutationObserver(s=>{if(!$e)if(e==N.body){if(s[x]<100){let r=!0;for(let e=0,t;e<s[x];e++)r=r&&((t=s[e].target).closest("[z-none]")||!t.closest(l)&&!t.querySelector(l));if(r)return}ze()}else R(e)}));ZData.nobserve||setTimeout(()=>t.observe(e,{childList:!0,subtree:!0}))},ze=fe(()=>Ce(q,1)),Ce=(e,t)=>{let r=c;r(J=W(),t||++G,++$e),xe(N.body),t=l,N.querySelectorAll(t)[$](e=>R(e)),r(W(),p,W()-J,--$e),we(N.body)};return N[P]("DOMContentLoaded",Ce),{start:Ce,loadHTML:ye}})();