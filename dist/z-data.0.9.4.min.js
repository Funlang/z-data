"use strict";const ZData=(()=>{const e="z-data",t="z-none",l="z-comp",r=`[${e}]`,s=`[${t}]`,n="init",i="for",a="key",o="if",c="else",p="attributes",f="getAttribute",d=`${f}Names`,u="Element",m=`${u}Sibling`,h=`${u}Child`,v=`first${h}`,k=`last${h}`,y=`next${m}`,b=`previous${m}`,$=`parent${u}`,g="insertBefore",x="forEach",w="includes",z="startsWith",C=(e,t=/ +/)=>e.trim().split(t),T="textContent",A="length",E="replace",L="test",D="last",N="_z_d",j="class",O="style",P="input",_="change",M=document,W="createElement",H=e=>M.querySelectorAll(e),Z="addEventListener",F=Object.keys,S=Object.values,q=e=>"object"==typeof e,B=e=>"function"==typeof e,K=console,U=K.log,V=Date.now,G=void 0,I=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,J=/^(?:(:)(:?)|(@)|([.#]))?([^.]*)(?:[.]([^.].*))?$/,Q=/\$\{/,R=/^[:@.#]./,X=/-([a-z])/g,Y=/[-_ ]+/g,ee=/^(?:camel|prevent|stop|debounce|(\d+)(?:(m?)s)|capture|once|passive|self|away|window|document|(shift|ctrl|alt|meta)|(cmd|super))$/;let te,le=0,re=0,se=(e,t)=>{if(e&&q(e)&&!B(e)){for(let l in e)try{e[l]=ne()(e[l],t)}catch(e){}return new Proxy(e,t)}return e},ne=()=>window.ZDataProxy||se,ie=(t,l)=>{if(t[N]&&(le<=t[N].age||t[N].ing))return;(t[N]||(t[N]={})).age=le,t[N].ing=(t[N].ing||0)+1,l=l&&(t[N].env=l)||t[N].env||{ps:{},ks:[],k:"",d:{}};let r=e=>{Ne++,je(M.body),oe({r:t,p:t[$],el:t},{...l,d:t[N].zd},e||le),Ne--,Oe(M.body)},s=xe(r),i=t[N].zd;if(!i){let r={set:(e,t,l,n,i)=>{s();try{i||(e[t]=ne()(l,r))}catch(e){}return!0}};ZData.proxy=(e=>ne()(e,r)),i=Ae(t,t[f](e)||"{}",l),t.$data=t[N].zd=i=ne()(i,r),t[f](n)&&Ae(t,t[f](n),{...l,d:i})}r(!0),t[N].ing--},ae={},oe=(r,s,n)=>{let a,{p:c,el:p}=r,u=p[N]||(p[N]={}),m=u.as||(u.as=(a=ae[p[f]("z-d")])?a.as:p[d]());if(!m[w](t)){if(!r.cp){let t;if(n===G&&m[w](e))return ie(p,s);if(m[w](l)&&(t=p[f](l))){let e;try{e=/^([.\/]|https?:)/[L](t)?fetch(t).then(e=>e.text()):Ae(p,t,s),e.then(e=>{"-"==p.localName.charAt(1)||m[w]("del")?(De(e,c,p),p.remove()):(De(e,p),p.removeAttribute(l))}).catch(fe)}catch(e){}return}if(p.content&&"template"==p.localName)return void((t=p[f](i))?ve(r,t,s):(t=p[f](o),de(r,t,s)))}$e(r,s,m,a),ce({cp:r.cp,r:r.r,p:p,el:p[v]},s)}},ce=(e,t,l,r)=>{for(;e.el&&(!l||!1!==l(e));e.el=e.next)e.next=e.el[y],r&&!0!==r(e,t)||oe(e,t)},pe=({el:e})=>!!e[p][c],fe=()=>{},de=(e,t,l)=>{let{p:r,el:s}=e;if(!t||Ae(s,t,l)){let t=e.next;s[N][D]?(e.el=t,t=s[N][D][y],ce(e,l,({el:e})=>e!=t),ce(e,l,pe,fe)):(ue(e),e.el=e.el[y],ce(e,l,({el:e})=>e!=t),ce(e,l,pe,me)),s[N][D]=t?t[b]:r[k]}else me(e,l)},ue=({p:e,el:t,next:l})=>{let r;(r=t[N].node)||(r=t[N].node=t.content,ce({cp:1,p:r,el:r[v]}));for(let t=r[v];t;t=t[y])r=t.cloneNode(!0),e[g](r,l)},me=(e,t)=>{if(e.el[N]&&e.el[N][D]){let l=e.el[N][D][y];e.el[N][D]=G,e.el=e.next,he(e,l,t)}},he=(e,t,l)=>{ce(e,l,({el:e})=>e!=t,({el:e})=>{e.remove()})},ve=(e,t,l)=>{let r=I.exec(t);if(!r)return;let{p:s,el:n}=e,i=Ae(n,r[4],l),o={k:r[1],v:r[2],i:r[3]},c={...l,ps:{...l.ps}},p=n[f](a),d=p&&C(p,"."),u=n[N].ns||(n[N].ns={}),m=0,h=n,v=n[N].age=(n[N].age||0)+1;d=d&&2==d[A]&&d[0]==o.v&&d[1],o.k&&(c.ps[o.k]=G),o.v&&(c.ps[o.v]=G),o.i&&(c.ps[o.i]=G),c.ks=F(c.ps),c.k=c.ks.join(",");for(let t in i){let l=i[t];o.k&&(c.ps[o.k]=t),o.v&&(c.ps[o.v]=l),o.i&&(c.ps[o.i]=m++);let r=d?l[d]:p?Ae(n,p,c):o.k?t:l;if(r===G)continue;let a=h[y],f=u[r];if(f){let t=f[D][y],l=f.head!=a;l&&a&&!f.head[N].skip&&(a[N].skip=1,e.el=a,a=a[N][D][y],ce(e,c,({el:e})=>e!=a,fe),l=f.head!=(a=e.next)),e.el=f.head,e.el[N].skip=0,ce(e,c,({el:e})=>e!=t,({p:e,el:t})=>(l&&e[g](t,a),!0)),l?e.next=a:a=e.next,f.age=v}else e.el=n,ue(e),e.el=h[y],f=u[r]={age:v,head:e.el},ce(e,c,({el:e})=>e!=a);f.head[N][D]=f[D]=h=a?a[b]:s[k]}F(u).filter(e=>u[e].age!=v)[x](e=>{he({el:u[e].head},u[e][D][y],l),delete u[e]}),e.next=h[y]},ke=e=>e[E](X,(e,t)=>t.toUpperCase()),ye={},be={css:O,text:T,html:"innerHTML"},$e=(e,t,l,r)=>{let{el:s}=e,n=s[N],i=n.vs||(n.vs=[]),a=n.ps||(n.ps=r&&r.ps);if(!a){a=n.ps={ps:[]},e.cp&&(ae[++re]={as:l,ps:a},s.setAttribute("z-d",re));let t,r,i,o=s.className;if(o&&(o=ye[o]||(ye[o]=C(o)),o[x](e=>(t||(t={}))[e]=1)),l[x](e=>{let l=s[f](e);if(!R[L](e)&&!Q[L](l))return;let r=J.exec(e),n=r[4]?"#"!=r[4]&&r[5]?j:O:r[5];if(n=be[n]?be[n]:n,n){let s=r[6]&&r[6].split("."),i={a:e,k:n!=j&&s&&s[w]("camel")?ke(n):n,b:(r[3]?3:r[2]&&2)||(r[1]||r[4])&&1||G,m:r[4]&&r[5]?[r[5]].concat(s||[]):s,e:l};i.b||(i.e="`"+i.e+"`"),a.ps.push(i),i.k==j&&(a.ocl=t)}}),(r=s.firstChild)&&r==s.lastChild&&3==r.nodeType&&Q[L](i=r.nodeValue)&&a.ps.push({k:T,e:"`"+i+"`"}),e.cp)return}let o=a.ocl?{...a.ocl}:{},c=!1,p=0;if(a.ps[x](l=>{if(3==l.b)ze(e,l,t);else{let r=l.e&&Ae(s,l.e,t,l);if(i[p]!==r&&(i[p]=r,c=ge(s,l,r,o)||c),p++,2==l.b){if(!l.b2){r="$event.target."+l.k,l.k==O&&l.m&&l.m[A]>0&&(r+="[`"+l.m[0]+"`]");let e="text"==s.type?P:_;l.m&&(l.m[w](P)?e=P:l.m[w](_)&&(e=_),l.m[w]("trim")&&(r+=".trim()"),l.m[w]("number")&&(r="parseFloat("+r+")")),l.b2={...l,e:l.e+"="+r,k:e,ev:e,f:G}}ze(e,l.b2,t)}}}),c){let e=F(o).join(" ");n.oc!=e&&(s.className=n.oc=e)}},ge=(e,t,l,r)=>{if(t.k==j){if(t.m&&t.m[A]>0){let e=""===t.e||l;t.m[x](t=>{"boolean"!=typeof e&&t.endsWith("-")?r[t+e]=1:e?r[t]=1:delete r[t]})}else{if(Array.isArray(l));else{if(q(l))return F(l)[x](e=>l[e]?r[e]=1:delete r[e]),!0;l=l?C(l):[]}l[x](e=>r[e]=1)}return!0}t.k==O&&(t.m&&t.m[A]>0&&(l=1==t.m[A]?{[t.m[0]]:l}:{[t.m[0]]:l&&t.m[1]}),q(l))?F(l)[x](t=>{!1===l[t]?e[O].removeProperty(t):e[O][t]=l[t]}):e[t.k]=l},xe=(e,t)=>{let l;return(...r)=>{let s=this,n=()=>{l=G,e.apply(s,r)};t||(l=clearTimeout(l)),l||(l=setTimeout(n,t))}},we={slash:"/",space:" "},ze=({r:e,el:t},l,r)=>{let{a:s,k:n,e:i,ev:a,m:o=[]}=l;if(!t[N][s]){let c=o[w]("window")?window:o[w]("document")||o[w]("away")?M:t,p=a=>{if(o[w]("self")&&t!=a.target)return;if(o[w]("away")&&(t.contains(a.target)||t.offsetWidth<1&&t.offsetHeight<1))return;if(n[z]("key")||n[z]("mouse")||n.endsWith("click")){for(let e of o){let t=ee.exec(e);if(t&&(t[3]||t[4])){let e=t[3]||t[4]&&"meta";if(!e||!a[e+"Key"])return}}if(n[z]("key")){let e=o.filter(e=>!ee[L](e));if(1==e[A]){let t=a.key.toLowerCase()[E](Y,"");if(t=we[t]||t,t!=e[0][E](Y,""))return}}}o[w]("prevent")&&a.preventDefault(),o[w]("stop")&&a.stopPropagation(),o[w]("once")&&c.removeEventListener(n,p,d);let f=Te(i,[...r.ks,"$el","$event"],r.k+"$el,$event",l);return f(r.d,...t[N][s],e,a)},f=o.indexOf("debounce");if(f>=0){f=o[f+1];let e=ee.exec(f);f=e&&e[1]?e[2]?e[1]:1e3*e[1]:250,p=xe(p,f>>0)}let d=o&&{capture:o[w]("capture"),passive:o[w]("passive")};c[Z](n,p,d),a&&(t.fireChange=t.fireChange||(e=>t.dispatchEvent(new Event(e||a))))}t[N][s]=S(r.ps)},Ce={},Te=(e,t,l,r)=>{let s=r&&r.f||Ce[l+=e]||(Ce[l]=new Function(["$z_d",...t],"let re$u1T;with($z_d){re$u1T="+e+"};return re$u1T"));return r&&!r.f&&(r.f=s),s},Ae=(e,t,l,r)=>Le(()=>B(t)?t.call(l.d):Te(t,l.ks,l.k,r)(l.d,...S(l.ps)),{el:e,exp:t}),Ee=(t,l,r)=>K.warn(`${e} error: "${r}"\n\nexp: "${l}"\nelement:`,t),Le=(e,{el:t,exp:l})=>{try{let r=e();return r instanceof Promise?r.catch(e=>Ee(t,l,e)):r}catch(e){Ee(t,l,e)}},De=(t,l,r)=>{l||(l=M.body);let s=M[W](e);s[be.html]=t;for(let e=s[v];e;e=e[y])l[g](e,r);t[E](/<script[^>]*>(.+)<\/script>/gis,(e,t)=>{let s=M[W]("script");s[T]=t,l[g](s,r)}),Pe()},Ne=0,je=e=>e[N]&&e[N].ob&&e[N].ob.disconnect(),Oe=e=>{let t=(e[N]||(e[N]={})).ob||(e[N].ob=new MutationObserver(t=>{if(!Ne)if(e==M.body){if(t[A]<100){let e=!0;for(let l,n=0;n<t[A];n++)e=e&&((l=t[n].target).closest(s)||!l.closest(r));if(e)return}Pe()}else ie(e)}));setTimeout(()=>t.observe(e,{childList:!0,subtree:!0,[p]:!1}))},Pe=xe(()=>_e(G,1)),_e=(t,l)=>{let s=U;s(te=V(),l||++le,++Ne),je(M.body),H(r)[x](e=>ie(e)),s(V(),e,V()-te,--Ne),Oe(M.body)};return M[Z]("DOMContentLoaded",_e),{start:_e,loadHTML:De}})();