const ZData=(()=>{var r,i=0,p=0,l=0,f=0,e="Attribute",t="Element",s=t+"Sibling",n=t+"Child";const u="z-data",c="z-comp",m="z-none",a="init",v="args",h="_z_d",k=`[${u}]`,g="get"+e,b="set"+e,d="remove",y=d+e,z="first"+n,w="last"+n,$="previous"+s,x="next",_=x+s,T="create"+t,o="parent"+t,D="insertBefore",C="forEach",L="includes",E="length",P="startsWith",A=(e,t=/ +/)=>e.trim().split(t),O="replace",Z="textContent",j="input",M="change",N="class",W="style",H="querySelector",S=document,q=(e,t=S)=>t[H+"All"](e),F="addEventListener",V=Object.keys,B=Object.values,K=(e,t="object")=>typeof e==t,U=e=>K(e,"function"),G=console,I=Date.now,J=void 0,Q=/^(?:camel|prevent|stop|debounce|(\d+)(?:(m?)s)|capture|once|passive|self|out|window|document|(shift|ctrl|alt|meta)|(cmd))$/,R=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,X=/^[:@.#!]./,Y=/^(?:(:)(:?)|(@)|([.#!]))?([^.]*)(?:[.]([^.].*))?$/,ee=e=>e&&0<=e.indexOf("${")&&e.indexOf("`")<0,te=/[-_ ]+/g,se=/-([a-z])/g,re=()=>window.ZDataProxy||((e,t)=>{if(!e||!K(e)||U(e)||e.__ob__||e._isVue||!delete e[t.id])return e;for(var s in e)try{e[s]=re()(e[s],t)}catch(e){}return new Proxy(e,t)}),ie=(t,s)=>{if(!t[h]||!(i<=t[h].age||t[h].ing)){(t[h]||(t[h]={})).age=i,t[h].ing=(t[h].ing||0)+1,s=s&&(t[h].env=s)||t[h].env||{ps:{},ks:[],k:"",d:{}};var r=e=>{f++,_e(S.body),ne({r:t,p:t[o],el:t},{...s,d:t[h].zd},e||i),f--,Te(S.body)};let n=ge(r),e=t[h].zd;if(!e){let l={id:h+I(),set(e,t,s,r,i){n();try{i||(e[t]=re()(s,l))}catch(e){}return!0},deleteProperty(e,t){return t!=this.id&&delete e[t]}};ZData.proxy=e=>re()(e,l),e=ze(t,t._z=t[g](u)||0,s)||{},t.$data=t[h].zd=e=re()(e,l),t[b](u,""),t[v]&&(e[v]=t[v]),t[g](a)&&ze(t,t[g](a),{...s,d:e})}r(!0),t[h].ing--}},le={},ne=(s,r,i)=>{let{p:l,el:n,cp:e}=s,t,a=n[h]||(n[h]={}),o=a.as||(a.as=(t=le[n[g]("z-d")])?t.as:n.getAttributeNames());if(!o[L](m)){if(!e){let e,t;if(i===J&&o[L](u))return ie(n,r);if(o[L](c)&&(e=n[g](c))){try{n[y](c),t=/^([.\/]|https?:)/.test(e)?fetch(e).then(e=>e.text()):/^z:/.test(e)&&ZData.get?ZData.get(e[O](/^z:\/*/,"")):ze(n,e,r),t.then(e=>{var t=o[L](v)&&ze(n,n[g](v),r);"-"==n.tagName[1]||o[L]("del")?(xe(e,l,n,t),n[d]()):xe(e,n,J,t)}).catch(pe)}catch(e){}return}if(n.content&&"TEMPLATE"==n.tagName)return void((e=n[g]("for"))?me(s,e,r):(e=n[g]("if"),ce(s,e,r)))}he(s,r,o,t),ae({cp:e,r:s.r,p:n,el:n[z]},r)}},ae=(e,t,s,r)=>{for(;e.el&&(!s||!1!==s(e));e.el=e[x])e[x]=e.el[_],r&&!0!==r(e,t)||ne(e,t)},oe=({el:e})=>e.hasAttribute("else"),pe=()=>{},ce=(e,t,s)=>{let{p:r,el:i}=e;if(!t||ze(i,t,s)){let t=e[x];i[h].fi?(e.el=t,t=i[h].fi[_],ae(e,s,({el:e})=>e!=t),ae(e,s,oe,pe)):(de(e,s),e.el=e.el[_],ae(e,s,({el:e})=>e!=t),ae(e,s,oe,fe)),i[h].fi=t?t[$]:r[w]}else fe(e,s)},de=({p:t,el:e,next:s,n:r,r:i},l)=>{(r=e[h].node)||(r=e[h].node=(r=e[g]("use"))&&(r=ze(e,"`"+r+"`",l))&&(r=i[H](r)||(i=i[o].closest(k))&&i[H](r))&&r.content||e.content,ae({cp:1,p:r,el:r[z]}));for(let e=r[z];e;e=e[_])r=e.cloneNode(!0),t[D](r,s)},fe=(e,t)=>{var s;e.el[h]&&e.el[h].fi&&(s=e.el[h].fi[_],e.el[h].fi=J,e.el=e[x],ue(e,s,t))},ue=(e,t,s)=>{ae(e,s,({el:e})=>e!=t,({el:e})=>{e[d]()})},me=(d,f,u)=>{f=R.exec(f);if(f){let{p:t,el:s}=d,e=ze(s,f[4],u),i={k:f[1],v:f[2],i:f[3]},l={...u,ps:{...u.ps}},r=s[g]("key"),n=r&&A(r,"."),a=s[h].ns||(s[h].ns={}),o=0,p=s,c=s[h].age=(s[h].age||0)+1;for(var m in n=n&&2==n[E]&&n[0]==i.v&&n[1],i.k&&(l.ps[i.k]=J),i.v&&(l.ps[i.v]=J),i.i&&(l.ps[i.i]=J),l.ks=V(l.ps),l.k=l.ks.join(","),e){var v=e[m];i.k&&(l.ps[i.k]=m),i.v&&(l.ps[i.v]=v),i.i&&(l.ps[i.i]=o++);v=n?v[n]:r?ze(s,r,l):i.k?m:v;if(v!==J){i.k&&(l.ps[i.k]=v);let r=p[_],e=a[v];if(e){let t=e.t[_],s=e.s!=r;s&&r&&!e.s[h].skip&&(r[h].skip=1,d.el=r,r=r[h].t[_],ae(d,l,({el:e})=>e!=r,pe),s=e.s!=(r=d[x])),d.el=e.s,d.el[h].skip=0,ae(d,l,({el:e})=>e!=t,({p:e,el:t})=>(s&&e[D](t,r),!0)),s?d[x]=r:r=d[x],e.age=c}else d.el=s,de(d,l),d.el=p[_],e=a[v]={age:c,s:d.el},ae(d,l,({el:e})=>e!=r);e.s[h].t=e.t=p=r?r[$]:t[w]}}V(a).filter(e=>a[e].age!=c)[C](e=>{ue({el:a[e].s},a[e].t[_],u),delete a[e]}),d[x]=p[_]}},ve={css:W,text:Z,html:"innerHTML"},he=(l,e,s,t)=>{let{el:n}=l,r=n[h],a=r.vs||(r.vs=[]),o=r.ps||(r.ps=t&&t.ps);if(!o){o=r.ps={ps:[]},l.cp&&(le[++p]={as:s,ps:o},n[b]("z-d",p)),s[C](i=>{var l=n[g](i);if(X.test(i)||ee(l)){let s=Y.exec(i),r=s[4]?"."==s[4]&&s[5]?N:W:s[5];if(r=ve[r]||r,r){let e=s[6]&&A(s[6],"."),t={a:i,k:r!=N&&e&&e[L]("camel")?r[O](se,(e,t)=>t.toUpperCase()):r,b:(s[3]?3:s[2]&&2)||(s[1]||s[4])&&1||J,m:s[4]&&s[5]?[s[5]].concat(e||[]):e,e:l};t.b&&"!"!=s[4]||(t.e="`"+t.e+"`"),o.ps.push(t),t.b&&n[y](i)}}});let e,t;(e=n.firstChild)&&e==n.lastChild&&3==e.nodeType&&ee(t=e.nodeValue)&&o.ps.push({k:Z,e:"`"+t+"`"})}if(!l.cp){let i=0;o.ps[C](s=>{if(3==s.b)be(l,s,e);else{let t=s.e&&ze(n,s.e,e,s);var r=s.m&&s.m[L]("number");if(a[i]!==t&&(a[i]=t,ke(n,s,r&&n.u&&K(t,"string")?t[O](/[^\d.]/g,""):t===J?"":t)),2==s.b){if(!s.b2){t="this."+s.k,s.k==W&&s.m&&0<s.m[E]&&(t+="[`"+s.m[0]+"`]");let e="text"==n.type?j:M;s.m&&(s.m[L](j)?e=j:s.m[L](M)&&(e=M),s.m[L]("trim")&&(t+=".trim()"),r&&(t="this.u?this.u.replace(/1/,"+t+"):parseFloat("+t+")"));r="=this._z_d.vs["+i+"]=";t=/==/.test(s.e)?t+"&&("+s.e[O](/==+/,r)+")":s.e+r+t,s.b2={...s,e:t,k:e,ev:e,f:J}}be(l,s.b2,e)}i++}})}},ke=(t,e,r)=>{if(e.k==N){let s=t.classList;if(e.m&&0<e.m[E]){let t=""===e.e||r;e.m[C](e=>{K(t,"boolean")||!e.endsWith("-")?t?s.add(e):s[d](e):s.add(e+t)})}else{if(!Array.isArray(r)){if(K(r))return void V(r)[C](e=>r[e]?s.add(e):s[d](e));r=r?A(r):[]}r[C](e=>s.add(e))}}else e.k==W&&(e.m&&0<e.m[E]&&(r=1==e.m[E]?{[e.m[0]]:r}:{[e.m[0]]:r&&e.m[1]}),K(r))?V(r)[C](e=>{!1===r[e]?t[W].removeProperty(e):"-"==e[0]?t[W].setProperty(e,r[e]):t[W][e]=r[e]}):e.m&&e.m[L]("attr")?!1===r?t[y](e.k):t[b](e.k,r):t[e.k]=r},ge=(s,r)=>{let i;return(...e)=>{let t=this;r&&(i=clearTimeout(i)),i=i||setTimeout(()=>{i=J,s.apply(t,e)},r)}},be=({r:l,el:n},s,a)=>{let{a:o,k:p,e:c,ev:d,m:f=[]}=s;if(!n[h][o]){let t=f[L]("window")?window:f[L]("document")||f[L]("out")?S:n,r=s=>{if(!(f[L]("self")&&n!=s.target||f[L]("out")&&(n.contains(s.target)||n.offsetWidth<1&&n.offsetHeight<1))){if(p[P]("key")||p[P]("mouse")||p.endsWith("click")){for(var e of f){e=Q.exec(e);if(e&&(e[3]||e[4])){e=e[3]||e[4]&&"meta";if(!e||!s[e+"Key"])return}}let t=f.filter(e=>!Q.test(e));if(1==t[E])if(p[P]("key")&&s.key){let e=t[0][O](te,"");if(e={space:" ",slash:"/",gt:">",eq:"="}[e]||e,e!=(s.key.toLowerCase()[O](te,"")||" "))return}else if(["left","mid","right"][s.button]!=t[0])return}return f[L]("prevent")&&s.preventDefault(),f[L]("stop")&&s.stopPropagation(),f[L]("once")&&t.removeEventListener(p,r,i),ze(s.target,c,{d:a.d,ks:[...a.ks,"$el"],k:a.k+"$el",ps:[...n[h][o],l]})}},e=f.indexOf("debounce");0<=e&&(e=f[e+1],s=Q.exec(e),e=s&&s[1]?s[2]?s[1]:1e3*s[1]:250,r=ge(r,e>>0));let i=f&&{capture:f[L]("capture"),passive:f[L]("passive")};t[F](p,r,i),d&&(n.fireChange=n.fireChange||(e=>n.dispatchEvent(new Event(e||d))))}n[h][o]=B(a.ps)},ye={},ze=(e,t,s,r)=>$e(()=>U(t)?t.call(s.d):((e,t,s,r)=>{e=r&&r.f||ye[s+=e]||(ye[s]=new Function(["$z_d",...t],"let re$u1T;with($z_d){re$u1T="+e+"};return re$u1T"));return r&&!r.f&&(r.f=e),e})(t,s.ks,s.k,r).call(e,s.d,...B(s.ps)),{el:e,exp:t}),we=(e,t,s)=>G.warn(`${u} error: "${s}"\n\nexp: "${t}"\nelement:`,e),$e=(t,{el:s,exp:r})=>{try{let e=t();return e instanceof Promise?e.catch(e=>we(s,r,e)):e}catch(e){we(s,r,e)}},xe=(e,n,a,t)=>{n=n||S.body;let o,p,c,s=S[T](u);(o=n[g]("z-i"))||n[b]("z-i",o=++l);let d=ge(()=>{p[C](e=>e()),--f<0&&(f=0),De()});s[ve.html]=e[O](/<!--[^]*?-->/g,"")[O](/\bz-data\s*=\s*['"]?(\$[\w]+)/,(e,t)=>(c=t,e+"_"+o))[O](/<(script)([^>]*)>([^]*?)<\/\1>/gi,(e,t,s,r)=>{var i=s.match(/src\s*=\s*(?:'([^']+)|"([^"]+)|(\S+))/);if((!(s=i&&(i[1]||i[2]||i[3]))||q(`script[src="${s}"]`)[E])&&!r)return"";let l=S[T]("script");l[b](m,"");i=()=>n[D](l,a);return p&&!s?p.push(i):i(),s?(l.src=s,l.onload=d,l.onerror=()=>f=0,p=[]):l[Z]=c?r[O](c,c+"_"+o):r,""})[O](/(<(style)[^>@]*>)([^]+?)(<\/\2>)/gi,(e,t,s,r,i)=>t+(r=r[O](/([^{}]+)(?=\{)/g,(e,t)=>/^\s*(@|\d+%|from|to)\b/.test(t)?t:A(t,/\s*,\s*/).map(e=>e[O](/^(\[z-i=.*?\] )?(.*)/,(e,t,s)=>`[z-i="${o}"] `+s)).join(",")))+i),t&&q(k,s)[E]&&(q(k,s)[0][v]=t);for(let e=s[z],t=e&&e[_];e;e=t,t=t&&t[_])n[D](e,a);p?f++:De()},_e=e=>e[h]&&e[h].ob&&e[h].ob.disconnect(),Te=e=>{let t=(e[h]||(e[h]={})).ob||(e[h].ob=new MutationObserver(r=>{if(!f)if(e==S.body){if(r[E]<100){let s=!0;for(let e=0,t;e<r[E];e++)s=s&&((t=r[e].target).closest(`[${m}]`)||!t.closest(k)&&!t[H](k));if(s)return}De()}else ie(e)}));ZData.nobserve||setTimeout(()=>t.observe(e,{childList:!0,subtree:!0}))},De=ge(()=>Ce(J,1)),Ce=(e,t)=>{let s=pe;s(r=I(),t||++i,++f),_e(S.body),q(k)[C](e=>ie(e)),s(I(),u,I()-r,--f),Te(S.body)},Le={};return S[F]("DOMContentLoaded",Ce),{start:Ce,loadHTML:xe,on:(e,t)=>((Le[e]=Le[e]||[]).push(t),ZData),call:(e,t)=>(Le[e]||[])[C](e=>e(t))}})();