"use strict";const ZData=(()=>{const e="z-data",t="z-none",l=`[${e}]`,n="for",s="key",r="if",o="else",i="attributes",a="getAttribute",c=`${a}Names`,f="Element",p=`${f}Sibling`,d=`${f}Child`,u=`first${d}`,m=`last${d}`,$=`next${p}`,x=`previous${p}`,h=`parent${f}`,k="insertBefore",y="forEach",b="includes",v="length",g="test",w="last",N="_z_d",j="class",T="style",A=document,C=e=>A.querySelectorAll(e),z=Object.keys,E=console,D=E.log,O=Date.now,S=void 0,_=/^(?:\s*(?:(\w+)\s*:\s*)?(\w*)(?:\s*,\s*(\w+))?\s+in\s+)?(.+)$/,q=/^(?:(:)(:?)|(@)|([.#]))?([^.]*)(?:[.]([^.].*))?$/,B=/\$\{/,F=/^[:@.#]./;let H,L=0,M=(t,l,n)=>{if(t[N]&&L<t[N].age)return;(t[N]=t[N]||{}).age=L,D(O(),`${e} component`,O()-H);let s=W(t,t[a](e)||"{}",l,n);P({p:t[h],el:t},s,n,!0)},P=(l,s,i,f)=>{let{el:p}=l,d=p[c]();if(!d[b](t))if(p[N]=p[N]||{},!f&&d[b](e))M(p,s,i);else if("template"===p.localName){let e;(e=p[a](n))?J(l,e,s,i):((e=p[a](r))||d[b](o))&&Z(l,e,s,i)}else K(p,s,i,d),V({p:p,el:p[u]},s,i)},V=(e,t,l,n,s)=>{for(;e.el&&(!n||!1!==n(e));e.el=e.next)e.next=e.el[$],s&&!0!==s(e,t,l)||P(e,t,l)},Z=(e,t,l,n)=>{let{p:s,el:r}=e;if(!t||W(r,t,l,n)){let t=e.next;r[N][w]?(e.el=t,t=r[N][w][$],V(e,l,n,({el:e})=>e!==t),V(e,l,n,({el:e})=>e[i][o],()=>{})):(G(e),e.el=e.el[$],V(e,l,n,({el:e})=>e!==t),V(e,l,n,({el:e})=>e[i][o],I)),r[N][w]=t?t[x]:s[m]}else I(e,l,n)},G=({p:t,el:l,next:n})=>{let s;l[N].node?s=l[N].node.cloneNode(!0):(s=l[N].node=A.createElement(e),s[k](A.importNode(l.content,!0),S));for(let e=s[u];e;e=e[$])s=e.cloneNode(!0),t[k](s,n)},I=(e,t,l)=>{if(e.el[N]&&e.el[N][w]){let n=e.el[N][w][$];e.el[N][w]=S,e.el=e.next,V(e,t,l,({el:e})=>e!==n,({el:e})=>{e.remove()})}},J=(e,t,l,n)=>{let r=_.exec(t);if(!r)return;let{p:o,el:i}=e,c=W(i,r[4],l,n),f={k:r[1],v:r[2],i:r[3]},p={},d=i[a](s),u=i[N].ns||(i[N].ns={}),h=0,b=i;for(let t in c){f.k&&(p[f.k]=t),f.v&&(p[f.v]=c[t]),f.i&&(p[f.i]=h++);let s={...n,...p},r=d?W(i,d,l,s):f.k?t:c[t],a=b[$],y=u[r];if(y){let t=y[w][$];e.el=y.head;let n=e.el!==a;V(e,l,s,({el:e})=>e!==t,({p:e,el:t})=>(n&&e[k](t,a),!0)),n||(a=e.next),y.age=L}else e.el=i,G(e),e.el=b[$],y=u[r]={age:L,head:e.el},V(e,l,s,({el:e})=>e!==a);y[w]=b=a?a[x]:o[m]}z(u).filter(e=>u[e].age!=L)[y](e=>{let t=u[e][w][$];V({el:u[e].head},l,n,({el:e})=>e!==t,({el:e})=>{e.remove()}),delete u[e]})},K=(e,t,l,n)=>{let s=e[N].ps;if(!s){let t,l;s=e[N].ps={ps:[],ocl:{}},e.className.split(" ")[y](e=>s.ocl[e]=!0),n[y](t=>{let l=e[a](t);if(!F[g](t)&&!B[g](l))return;let n=q.exec(t),r=n[4]?"#"!==n[4]&&n[5]?j:T:n[5];if(r){let e=n[6]&&n[6].split("."),t={k:r,b:(n[3]?3:n[2]&&2)||(n[1]||n[4])&&1||S,m:n[4]&&n[5]?[n[5]].concat(e||[]):e,e:l};s.ps.push(t),t.b||(t.e="`"+t.e+"`")}}),(t=e.firstChild)&&t===e.lastChild&&3===t.nodeType&&B[g](l=t.nodeValue)&&s.ps.push({k:"text",e:"`"+l+"`"})}let r={...s.ocl},o=!1;s.ps[y](n=>{if(3===n.b)R();else{let s=n.e&&W(e,n.e,t,l);n.v!==s&&(n.v=s,o=Q(e,n,s,r)||o)}});let i=z(r).join(" ");s.oc!==i&&(s.oc=i,o&&(e.className=i))},Q=(e,t,l,n)=>{if("text"===t.k)e.textContent=l;else if("html"===t.k)e.innerHTML=l;else{if(t.k===j){if(t.m&&t.m[v]>0){let e=""===t.e||l;t.m[y](t=>{"boolean"!=typeof e&&/-$/[g](t)?n[t+e]=!0:e?n[t]=!0:delete n[t]})}else{if(Array.isArray(l));else{if("object"==typeof l)return z(l)[y](e=>l[e]?n[e]=!0:delete n[e]),!0;l=l?l.split(" "):[]}l[y](e=>n[e]=!0)}return!0}if((t.k===T||"css"===t.k)&&(t.m&&t.m[v]>0&&(l=1===t.m[v]?{[t.m[0]]:l}:{[t.m[0]]:l&&t.m[1]}),"object"==typeof l))return void z(l)[y](t=>e[T][t]=l[t]);e[t.k]=l}},R=()=>{},U={},W=(e,t,l={},n={})=>Y(()=>{if("function"==typeof t)return t.call(l);let e=U[t]||(U[t]=new Function(["$data",...z(n)],`let re$u1T;with($data){re$u1T=${t}};return re$u1T`));return e(l,...Object.values(n))},{el:e,exp:t}),X=(t,l,n)=>E.warn(`${e} error: "${n}"\n\nexp: "${l}"\nelement:`,t),Y=(e,{el:t,exp:l})=>{try{let n=e();return n instanceof Promise?n.catch(e=>X(t,l,e)):n}catch(e){X(t,l,e)}};return{start:t=>{D(H=O(),`${e} start`,++L),C(l)[y](e=>M(e,t,t)),D(O(),`${e} ended`,O()-H)}}})();